(window.webpackJsonp=window.webpackJsonp||[]).push([[292,84],{"+5TF":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return h}));var i,a=n("pVnL"),r=n.n(a),o=n("8OQS"),s=n.n(o),l=n("q1tI"),c=n("SWse"),d=n("uq9l"),u=n("E1Lb"),p=n("p8fB"),m=n("OCDW"),f=n("Yegi"),v=n("IyK4"),g=n("Ix37");!function(e){e[e.Default=0]="Default",e[e.Ascending=1]="Ascending",e[e.Descending=2]="Descending"}(i||(i={}));var h=function(e){var t,n,a=e.className,o=e.label,h=e.textAlign,b=e.padding,y=e.sorting,k=e.verticalAlign,S=e.onClick,E=e.children,C=s()(e,["className","label","textAlign","padding","sorting","verticalAlign","onClick","children"]),O=l.createElement(l.Fragment,null,o&&l.createElement(d.a,{bold:!0},o),E);if(void 0!==y){switch(i[y]){case"Ascending":n=l.createElement(u.a,{asset:g.a.GlyphArrUp});break;case"Descending":n=l.createElement(u.a,{asset:g.a.GlyphArrDown});break;default:n=l.createElement(u.a,{asset:g.a.GlyphArrUpDown})}t=l.createElement(p.a,{type:p.b.Alpha,onClick:S},l.createElement(m.a,{color:f.f.Link,display:f.h.Flex,alignItems:f.b.Center,padding:b},l.createElement(m.a,{margin:{right:.5},flexGrow:1},O),n))}else t=l.createElement(m.a,{padding:b},O);return l.createElement(v.a,{fontWeight:f.l.SemiBold,verticalAlign:k,textAlign:h},l.createElement("th",r()({},C,{className:Object(c.a)("tw-table-heading",a)}),t))};h.displayName="TableHeading",h.defaultProps={padding:1,textAlign:f.q.Left},h.displayName="TableHeading"},"+7pI":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ClipsEditClipInfo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"curator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isPublished"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"videoOffsetSeconds"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:236}};n.loc.source={body:"query ClipsEditClipInfo($slug: ID!) {\nclip(slug: $slug) {\nid\nbroadcaster {\nid\ndisplayName\nlogin\n}\ncurator {\nid\nlogin\n}\ndurationSeconds\ngame {\nid\ndisplayName\n}\nisPublished\ncreatedAt\nvideo {\nid\nbroadcastType\ntitle\n}\nvideoOffsetSeconds\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ClipsEditClipInfo=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ClipsEditClipInfo")},"+GMQ":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ClipsViewCount"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewCount"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:71}};n.loc.source={body:"query ClipsViewCount($slug: ID!) {\nclip(slug: $slug) {\nid\nviewCount\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ClipsViewCount=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ClipsViewCount")},"+GrQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var i=n("mrSG"),a=n("q1tI"),r=n("/7QA"),o=n("yR8l"),s=n("GnwI"),l=n("p9DJ"),c=(n("6llN"),n("2xye")),d="https://help.twitch.tv/customer/portal/articles/2918323-clip-champs-guide",u=function(e){var t=e.type;r.p.tracking.track(c.SpadeEventType.ClipChampHelpClick,{target_url:d,type:t.toLowerCase()})},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(){u({type:t.props.pageType})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(l.a,{linkTo:d,onClick:this.onClick,targetBlank:!0},a.createElement("img",{alt:Object(r.d)("Power Clipper badge","ClipsCurator"),className:"clips-champ-badge-img",src:"https://s.jtvnw.net/jtv_user_pictures/hosted_images/clipchampbadge"}))},t}(a.Component),m=n("OTul"),f=n("OCDW"),v=n("Yegi"),g=n("IyK4"),h=n("uq9l"),b=n("zZ9p"),y=n("RGzP"),k=n("xza4"),S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.reportInteractive()},t.prototype.componentDidUpdate=function(){this.reportInteractive()},t.prototype.render=function(){var e=this.props.data.clip;if(!e||!e.curator||!e.curator.login||this.props.data.loading)return a.createElement(f.a,null,this.renderPlaceholders());var t=Object(m.c)(e.curator.login,{tt_medium:"clips_web",tt_content:"curator_name"});return a.createElement(f.a,{ellipsis:this.props.ellipsis},e.champBadge&&e.champBadge.id&&a.createElement(f.a,{margin:{right:.5},display:v.h.InlineBlock},a.createElement(p,{pageType:"clips_viewing"})),a.createElement(g.a,{display:v.h.Inline},a.createElement(h.a,{fontSize:this.props.fontSize?this.props.fontSize:v.k.Size5},Object(r.d)("Clipped by {curatorName}",{curatorName:a.createElement(l.a,{linkTo:t,targetBlank:!0},e.curator.displayName)},"ClipsCurator"))))},t.prototype.reportInteractive=function(){this.props.data.clip&&this.props.data.clip.curator&&this.props.latencyTracking.reportInteractive()},t.prototype.renderPlaceholders=function(){return a.createElement(b.a,{type:b.f.FadeIn,duration:b.c.Long,delay:b.b.Medium,enabled:!0},a.createElement(h.a,{fontSize:this.props.fontSize?this.props.fontSize:v.k.Size5},a.createElement(y.a,{lineCount:1,width:80})))},t=Object(i.__decorate)([Object(s.withLatencyTracking)("ClipsCurator"),Object(o.a)(k)],t)}(a.Component)},"+NL3":function(e,t,n){},"+NZI":function(e,t,n){},"+P/e":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayerOfflineRecommendationsOverlayVideo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"320"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"180"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:137}};n.loc.source={body:"fragment VideoPlayerOfflineRecommendationsOverlayVideo on Video {\nid\ntitle\npreviewThumbnailURL(width: 320 height: 180)\ngame {\nid\nname\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"+Qxa":function(e,t,n){},"+T1G":function(e,t,n){},"+UTN":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MatureGateOverlayBroadcaster"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UserByAttribute"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userByAttribute"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isMature"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:142}};n.loc.source={body:"query MatureGateOverlayBroadcaster($input: UserByAttribute!) {\nuserByAttribute(input: $input) {\nid\nlogin\nbroadcastSettings {\nid\nisMature\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.MatureGateOverlayBroadcaster=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"MatureGateOverlayBroadcaster")},"+XUr":function(e,t,n){"use strict";var i,a;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),function(e){e.Clip="clip",e.Collection="collection",e.Invalid="invalid",e.Live="live",e.VOD="vod"}(i||(i={})),function(e){e.Trailer="trailer",e.TrailerUpsell="trailer_upsell"}(a||(a={}))},"+fKd":function(e,t,n){"use strict";var i,a;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),function(e){e.None="None",e.Watch="Watch",e.Home="Home"}(i||(i={})),function(e){e.LIVE="LIVE",e.VIDEO="VIDEO",e.COLLECTION="COLLECTION",e.CLIP="CLIP",e.NONE="NONE"}(a||(a={}))},"+g4L":function(e,t,n){},"+xGJ":function(e,t,n){"use strict";function i(e,t){var n={currSegment:null,prevSegment:null};if(!e||!t)return n;for(var i=e.length-1;i>=0;i--){if(a(e[i],t))return n.currSegment=e[i],n.prevSegment=e[i-1]||null,n;!n.prevSegment&&e[i].endOffset<=t&&(n.prevSegment=e[i])}return n}function a(e,t){return e.startOffset<=t&&t<=e.endOffset}function r(e,t){if(!e||!t)return!e&&!t;var n=e.segments,i=t.segments;return!((n||i)&&n!==i&&(!n||n.length||!i||i.length))||!(!n||!i||n.length!==i.length)&&n.every((function(e,t){var n=e.startOffset,a=e.endOffset,r=i[t],o=r.startOffset,s=r.endOffset;return n===o&&a===s}))}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}))},"/2kD":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ClipsTitleEdit_UpdateClip"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateClipInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateClip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:130}};n.loc.source={body:"mutation ClipsTitleEdit_UpdateClip($input: UpdateClipInput!) {\nupdateClip(input: $input) {\nclip {\nid\ntitle\n}\nerror {\nmessage\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ClipsTitleEdit_UpdateClip=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ClipsTitleEdit_UpdateClip")},"/Bd0":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return p}));var i,a,r,o,s=n("mrSG"),l=n("/7QA"),c=n("J9w5"),d=n("I6K6"),u=n("sgJZ");function p(e,t){return Object(s.__awaiter)(this,void 0,void 0,(function(){var n,a,r,p,m,f,v,g,h,b,y,k,S;return Object(s.__generator)(this,(function(s){switch(s.label){case 0:if(n=null,a=null,r=null,p=null,m=null,v=void 0,g=void 0,h=void 0,!t.channelID)return[3,5];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,l.p.apollo.client.query({query:u,variables:{id:t.channelID}})];case 2:return p=s.sent(),[3,4];case 3:return b=s.sent(),l.k.warn("Failed to make query for channel info in FollowEvent reporting.",{err:b,channelID:t.channelID}),[3,4];case 4:(r=p&&p.data&&p.data.user)?m=r.hosting&&r.hosting.stream&&r.hosting.stream.game?r.hosting.stream.game.name:r.stream&&r.stream.game&&r.stream.game.name:l.k.warn("Query for channel info in FollowEvent reporting returned no data.",{channelID:t.channelID}),s.label=5;case 5:if(!(y=l.o.getVideoPlayerTrackingData().vodID))return[3,10];s.label=6;case 6:return s.trys.push([6,8,,9]),[4,l.p.apollo.client.query({query:c,variables:{id:y}})];case 7:return n=s.sent(),[3,9];case 8:return k=s.sent(),l.k.warn("Failed to make query for VOD info in FollowEvent reporting.",{err:k,currentVODID:y}),[3,9];case 9:(a=n&&n.data&&n.data.video)?f=Object(d.a)(a.broadcastType):(f=null,l.k.warn("Query for video info in FollowEvent reporting return no data.",{currentVODID:y})),s.label=10;case 10:return t.src!==i.TheatreMode&&(v=t.content_type,g=function(e,t){if(t)return o.Hosting;return e?o.Live:o.Offline}(m,t.hostChannelID)),t.src===i.Channel&&(h=t.screen_state),S={channel:t.channelLogin,channel_id:t.channelID,channel_game:m,cta_visible:l.o.getVideoPlayerTrackingData().followCTAVisible,host_channel:t.hostChannelLogin,host_channel_id:t.hostChannelID,game:t.game,partner:r?r.isPartner:null,src:t.src,vod_id:y,vod_type:f,screen_state:h,content_type:v,channel_state:g},l.o.track(e,S),[2]}}))}))}!function(e){e.Channel="channel",e.TheatreMode="theatre_mode",e.Search="search"}(i||(i={})),function(e){e.Regular="regular",e.Theater="theater"}(a||(a={})),function(e){e.Live="live",e.VOD="vod",e.Clip="clip",e.WatchParty="watch_party"}(r||(r={})),function(e){e.Offline="offline",e.Live="live",e.Hosting="hosting"}(o||(o={}))},"/HY+":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=n("ZS2+").a.wrap((function(){return n.e(105).then(n.bind(null,"q0CL"))}),"ReportUserModal")},"/J0i":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ComscoreStreamingQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isLive"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isVodOrCollection"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isClip"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"clipSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isLive"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"broadcastSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isVodOrCollection"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"clipSlug"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isClip"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:552}};n.loc.source={body:"query ComscoreStreamingQuery($channel: String $isLive: Boolean! $isVodOrCollection: Boolean! $vodID: ID! $isClip: Boolean! $clipSlug: ID!) {\nuser(login: $channel) @include(if: $isLive) {\nid\ndisplayName\nstream {\nid\ncreatedAt\ngame {\nid\nname\n}\n}\nbroadcastSettings {\nid\ntitle\n}\n}\nvideo(id: $vodID) @include(if: $isVodOrCollection) {\nid\nbroadcastType\ncreatedAt\ngame {\nid\nname\n}\nlengthSeconds\nowner {\nid\ndisplayName\n}\ntitle\n}\nclip(slug: $clipSlug) @include(if: $isClip) {\nid\nbroadcaster {\nid\ndisplayName\n}\ncreatedAt\ndurationSeconds\ntitle\ngame {\nid\nname\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ComscoreStreamingQuery=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ComscoreStreamingQuery")},"/R0k":function(e,t,n){},"/aPz":function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"k",(function(){return c})),n.d(t,"r",(function(){return d})),n.d(t,"C",(function(){return u})),n.d(t,"ib",(function(){return p})),n.d(t,"jb",(function(){return m})),n.d(t,"H",(function(){return f})),n.d(t,"Z",(function(){return v})),n.d(t,"hb",(function(){return g})),n.d(t,"Q",(function(){return h})),n.d(t,"P",(function(){return b})),n.d(t,"M",(function(){return y})),n.d(t,"b",(function(){return k})),n.d(t,"N",(function(){return S})),n.d(t,"I",(function(){return E})),n.d(t,"d",(function(){return C})),n.d(t,"cb",(function(){return O})),n.d(t,"R",(function(){return _})),n.d(t,"U",(function(){return w})),n.d(t,"T",(function(){return P})),n.d(t,"E",(function(){return N})),n.d(t,"i",(function(){return T})),n.d(t,"h",(function(){return D})),n.d(t,"ab",(function(){return I})),n.d(t,"g",(function(){return A})),n.d(t,"f",(function(){return j})),n.d(t,"e",(function(){return x})),n.d(t,"eb",(function(){return L})),n.d(t,"fb",(function(){return F})),n.d(t,"D",(function(){return M})),n.d(t,"bb",(function(){return R})),n.d(t,"kb",(function(){return V})),n.d(t,"L",(function(){return B})),n.d(t,"V",(function(){return U})),n.d(t,"o",(function(){return q})),n.d(t,"p",(function(){return G})),n.d(t,"W",(function(){return H})),n.d(t,"s",(function(){return W})),n.d(t,"K",(function(){return z})),n.d(t,"S",(function(){return Q})),n.d(t,"y",(function(){return K})),n.d(t,"A",(function(){return Y})),n.d(t,"z",(function(){return $})),n.d(t,"J",(function(){return X})),n.d(t,"x",(function(){return J})),n.d(t,"u",(function(){return Z})),n.d(t,"v",(function(){return ee})),n.d(t,"w",(function(){return te})),n.d(t,"n",(function(){return ne})),n.d(t,"O",(function(){return ie})),n.d(t,"F",(function(){return ae})),n.d(t,"G",(function(){return re})),n.d(t,"m",(function(){return oe})),n.d(t,"db",(function(){return se})),n.d(t,"l",(function(){return le})),n.d(t,"B",(function(){return ce})),n.d(t,"q",(function(){return de})),n.d(t,"gb",(function(){return ue})),n.d(t,"Y",(function(){return pe})),n.d(t,"X",(function(){return me})),n.d(t,"t",(function(){return fe}));var i=n("/7QA"),a=n("0Log"),r=n("geRD");function o(e){return a.PubsubTopic.Ads+"."+e}function s(e){return a.PubsubTopic.AdPollEvents+"."+e}function l(e){return a.PubsubTopic.BountyBoardChatCTA+"."+e}function c(e){return a.PubsubTopic.BroadcastSettingsUpdate+"."+e}function d(e){return a.PubsubTopic.ChatRoomsUser+"."+e}function u(e){return a.PubsubTopic.ExtensionAssets+"."+e}function p(e){return a.PubsubTopic.VideoPlayback+"."+e}function m(e){return a.PubsubTopic.VideoThumbnailProcessing+"."+e}function f(e){return a.PubsubTopic.ImageUpload+"."+e}function v(e){return a.PubsubTopic.UploadService+"."+e}function g(e){return a.PubsubTopic.VideoPlaybackById+"."+e}function h(e){return a.PubsubTopic.RadioEvents+"."+e}function b(){return a.PubsubTopic.RadioEvents+".global"}function y(e){return a.PubsubTopic.PayoutOnboardingEvents+"."+e}function k(e){return a.PubsubTopic.AdPropertyRefresh+"."+e}function S(e){return a.PubsubTopic.Presence+"."+e}function E(e,t){return a.PubsubTopic.ModerationActionsByUserAndChannel+"."+e+"."+t}function C(e,t){return a.PubsubTopic.AutoModQueue+"."+e+"."+t}function O(e,t){return a.PubsubTopic.UserModerationNotifications+"."+e+"."+t}function _(e){return a.PubsubTopic.Raid+"."+e}function w(e){return a.PubsubTopic.StreamChange+"."+e}function P(e){return a.PubsubTopic.StreamChangeByChannel+"."+e}function N(e){return a.PubsubTopic.Friendship+"."+e}function T(e){return a.PubsubTopic.ChannelBitsPinEvents+"."+e}function D(e){return a.PubsubTopic.BitsLeaderboardEvents+"."+e}function I(e){return a.PubsubTopic.UserBitsUpdates+"."+e}function A(){return a.PubsubTopic.BitsCampaignEvents+".updates"}function j(e){return a.PubsubTopic.ChannelBitsPinEvents+"."+e}function x(e){return a.PubsubTopic.ChannelBitsPinEvents+".bits-badge-tier-emotes."+e}function L(e){return a.PubsubTopic.UserPropertiesUpdates+"."+e}function F(e){return a.PubsubTopic.UserSubscribeEvents+"."+e}function M(e){return"follows."+e}function R(e){return a.PubsubTopic.CampaignUserEvents+"."+e}function V(e){return a.PubsubTopic.Whispers+"."+e}function B(e){return a.PubsubTopic.OnsiteNotifications+"."+e}function U(e){return a.PubsubTopic.StreamChatRoom+"."+e}function q(e){return a.PubsubTopic.ChannelSquadInvites+"."+e}function G(e){return a.PubsubTopic.ChannelSquadUpdates+"."+e}function H(e){return a.PubsubTopic.SubscribersCSV+"."+e}function W(e){return a.PubsubTopic.CheerbombEventsTopic+"."+e}function z(e){return a.PubsubTopic.MysteryGift+"."+e}function Q(e){return a.PubsubTopic.SquadUpdates+"."+e}function K(e){return a.PubsubTopic.DashboardActivityFeed+"."+e}function Y(e){return a.PubsubTopic.DashboardMultiplayerAdsEvent+"."+e}function $(e){return a.PubsubTopic.DashboardAlertQueueStatus+"."+e}function X(e){return a.PubsubTopic.MultiviewChanletUpdate+"."+e}function J(e){return a.PubsubTopic.CommunityPointsUser+"."+e}function Z(e){return a.PubsubTopic.CommunityPointsChannel+"."+e}function ee(e){return a.PubsubTopic.CommunityPointsPredictionsChannel+"."+e}function te(e){return a.PubsubTopic.CommunityPointsPredictionsUser+"."+e}function ne(e){return a.PubsubTopic.PollEvents+"."+e}function ie(e){return a.PubsubTopic.PrimeVideoWatchPartyEvents+"."+e}function ae(e){return a.PubsubTopic.HypeTrain+"."+e}function re(e){return a.PubsubTopic.HypeTrain+".rewards."+e}function oe(e){return a.PubsubTopic.ChannelDropEvents+"."+e}function se(e){return a.PubsubTopic.UserPreferencesUpdates+"."+e}function le(e){return a.PubsubTopic.Celebration+"."+e}function ce(e){return a.PubsubTopic.EmoteUploads+"."+e}function de(e,t){return a.PubsubTopic.UnbanRequestsByChannel+"."+e+"."+t}function ue(e,t){return a.PubsubTopic.UnbanRequestsByUser+"."+e+"."+t}function pe(e){return i.l.subscribe({topic:e.topic,onMessage:function(t){t.type&&!e.type&&!e.types||t.type&&e.type&&t.type!==e.type||t.type&&e.types&&!e.types.includes(t.type)||Object(r.j)(e.query,e.variables,(function(n){return e.mutator(t,n)}),(function(n){return!!e.skipMessage&&e.skipMessage(t,n)}))}})}function me(e){return i.l.subscribe({topic:e.topic,onMessage:function(t){t.type&&t.type!==e.type||Object(r.i)({fragment:e.fragment,id:e.id,mutator:function(n){return e.mutator(t,n)}})}})}function fe(e){return a.PubsubTopic.CommunityBoostEvents+"."+e}},"/fLC":function(e,t,n){"use strict";var i,a;n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),function(e){e.Pre="preroll",e.Mid="midroll",e.Post="postroll"}(i||(i={})),function(e){e.Pending="pending",e.Processed="processed",e.Filled="filled"}(a||(a={}))},"/mWu":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("mrSG"),a=n("q1tI"),r=n("/7QA"),o=n("yR8l"),s=n("GnwI"),l=n("OCDW"),c=n("uq9l"),d=n("Yegi"),u=n("zZ9p"),p=n("RGzP"),m=n("a4lT"),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.reportInteractive()},t.prototype.componentDidUpdate=function(){this.reportInteractive(),this.props.data&&!this.props.data.loading&&this.props.data.clip&&r.p.setPageTitle(this.props.data.clip.title)},t.prototype.render=function(){return!this.props.data.clip||this.props.data.loading?a.createElement(l.a,null,this.renderPlaceholders()):a.createElement(c.a,{fontSize:this.props.fontSize?this.props.fontSize:d.k.Size3,type:c.e.Span,lineHeight:c.b.Heading,ellipsis:this.props.ellipsis},this.props.data.clip.title)},t.prototype.reportInteractive=function(){this.props.data.clip&&this.props.latencyTracking.reportInteractive()},t.prototype.renderPlaceholders=function(){return a.createElement(u.a,{type:u.f.FadeIn,duration:u.c.Long,delay:u.b.Short,enabled:!0},a.createElement(c.a,{fontSize:this.props.fontSize?this.props.fontSize:d.k.Size3},a.createElement(p.a,{lineCount:1,width:100})))},t=Object(i.__decorate)([Object(s.withLatencyTracking)("ClipsTitle"),Object(o.a)(m)],t)}(a.Component)},"/rYb":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o}));var i=n("eWfW"),a=992e3,r="s-qs-ts",o={bitrate:999999999,codecs:"",framerate:60,group:i.a,height:0,isDefault:!1,name:"Auto",width:0}},"/wcb":function(e,t,n){},"0BjR":function(e,t,n){"use strict";var i,a,r,o,s,l,c,d,u,p,m;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"g",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return p})),function(e){e.UNKNOWN="Unspecified",e.FILE="File",e.PLAYLIST="Playlist",e.SEGMENT="Segment",e.SOURCE="Source",e.DECODER="Decode",e.RENDERER="Render",e.MASTER_PLAYLIST="MasterPlaylist",e.MEDIA_PLAYLIST="MediaPlaylist"}(i||(i={})),function(e){e.GENERIC="Error",e.NOT_SUPPORTED="ErrorNotSupported",e.NO_SOURCE="ErrorNoSource",e.INVALID_DATA="ErrorInvalidData",e.INVALID_STATE="ErrorInvalidState",e.INVALID_PARAMETER="ErrorInvalidParameter",e.TIMEOUT="ErrorTimeout",e.INVALID_OUTPUT="ErrorInvalidOutput",e.INTERNAL="ErrorInternal",e.NETWORK="ErrorNetwork",e.NETWORK_IO="ErrorNetworkIO",e.AUTHORIZATION="ErrorAuthorization",e.NOT_AVAILABLE="ErrorNotAvailable"}(a||(a={})),function(e){e[e.GEOBLOCKED=1]="GEOBLOCKED",e[e.UNSUPPORTED_DEVICE=2]="UNSUPPORTED_DEVICE",e[e.ANONYMIZER_BLOCKED=3]="ANONYMIZER_BLOCKED",e[e.CELLULAR_NETWORK_PROHIBITED=4]="CELLULAR_NETWORK_PROHIBITED",e[e.UNAUTHORIZATION_ENTITLEMENTS=5]="UNAUTHORIZATION_ENTITLEMENTS",e[e.VOD_RESTRICTED=6]="VOD_RESTRICTED"}(r||(r={})),function(e){e.ID3="MetaID3",e.CAPTION="MetaCaption"}(o||(o={})),function(e){e.INITIALIZED="PlayerInitialized",e.QUALITY_CHANGED="PlayerQualityChanged",e.DURATION_CHANGED="PlayerDurationChanged",e.VOLUME_CHANGED="PlayerVolumeChanged",e.MUTED_CHANGED="PlayerMutedChanged",e.PLAYBACK_RATE_CHANGED="PlayerPlaybackRateChanged",e.REBUFFERING="PlayerRebuffering",e.AUDIO_BLOCKED="PlayerAudioBlocked",e.PLAYBACK_BLOCKED="PlayerPlaybackBlocked",e.ERROR="PlayerError",e.RECOVERABLE_ERROR="PlayerRecoverableError",e.ANALYTICS_EVENT="PlayerAnalyticsEvent",e.TIME_UPDATE="PlayerTimeUpdate",e.BUFFER_UPDATE="PlayerBufferUpdate",e.SEEK_COMPLETED="PlayerSeekCompleted",e.SESSION_DATA="PlayerSessionData",e.WORKER_ERROR="PlayerWorkerError",e.METADATA="PlayerMetadata",e.TEXT_CUE="PlayerTextCue",e.TEXT_METADATA_CUE="PlayerTextMetadataCue"}(s||(s={})),function(e){e.PLAYER_LOADED_IN_WORKER="player_loaded_in_worker",e.HLS_MASTER_PLAYLIST_REQUEST="master_manifest_request",e.HLS_MASTER_PLAYLIST_READY="master_manifest_ready",e.HLS_MEDIA_PLAYLIST_REQUEST="variant_request",e.HLS_MEDIA_PLAYLIST_READY="variant_ready",e.MIN_BUFFER_READY="min_buffer_ready",e.VIDEO_ELEMENT_PLAY="video_element_play"}(l||(l={})),function(e){e.AVAILABLE="RemotePlayerAvailable",e.UNAVAILABLE="RemotePlayerUnavailable",e.SESSION_STARTED="RemotePlayerSessionStarted",e.SESSION_ENDED="RemotePlayerSessionEnded"}(c||(c={})),function(e){e.IDLE="Idle",e.READY="Ready",e.BUFFERING="Buffering",e.PLAYING="Playing",e.ENDED="Ended"}(d||(d={})),function(e){e.DEBUG="debug",e.INFO="info",e.WARN="warn",e.ERROR="error"}(u||(u={})),function(e){e[e.GeoBlocked=1]="GeoBlocked",e[e.UnsupportedDevice=2]="UnsupportedDevice",e[e.AnonymizerBlocked=3]="AnonymizerBlocked",e[e.CellularNetworkProhibited=4]="CellularNetworkProhibited",e[e.UnauthorizationEntitlements=5]="UnauthorizationEntitlements",e[e.VodRestricted=6]="VodRestricted",e[e.LVSCCUCap=509]="LVSCCUCap",e[e.Aborted=1e3]="Aborted",e[e.Network=2e3]="Network",e[e.CCUCapReached=2001]="CCUCapReached",e[e.Decode=3e3]="Decode",e[e.FormatNotSupported=4e3]="FormatNotSupported",e[e.ContentNotAvailable=5e3]="ContentNotAvailable",e[e.RendererNotAvailable=6e3]="RendererNotAvailable",e[e.SafariUnsupportedDevice=7004]="SafariUnsupportedDevice",e[e.Fatal=8001]="Fatal",e[e.FatalAuth=8003]="FatalAuth",e[e.Offline=8002]="Offline",e[e.WarnAuth=8004]="WarnAuth"}(p||(p={})),function(e){e.PREMIUM_CONTENT_RESTRICTED="PREMIUM_CONTENT",e.VOD_RESTRICTED="vod_manifest_restricted"}(m||(m={}))},"0FG4":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c}));var i,a=n("RcPG"),r=n("a1OF");!function(e){e[e.Position=0]="Position",e[e.Token=1]="Token"}(i||(i={}));var o="0";function s(e,t,n){var o,s,l=n.type===i.Position?t:e,c=n.map[l];if(c){var d=(o=e,s=c.id,{images:Object(r.b)(s),alt:o,emoteID:s});return{type:a.a.Emote,content:d}}return null}var l={"\\:\\&gt\\;":[":>"],"\\&gt\\;\\(":[">("],"\\&lt\\;\\]":["<]"],"\\&lt\\;3":["<3"],":-?(?:7|L)":[":-7",":-L",":7",":L"],"[oO](_|\\.)[oO]":["o_o","O_O","o_O","O_o","o.o","O.O","o.O","O.o"],"\\;-?(p|P)":[";-p",";-P",";p",";P"],"\\;-?\\)":[";-)",";)"],"\\:-?(o|O)":[":-o",":-O",":o",":O"],"\\:-?(p|P)":[":-p",":-P",":p",":P"],"\\:-?(S|s)":[":-S",":-s",":s",":S"],"\\:-?[\\\\/]":[":-/",":-\\",":/",":\\"],"\\:-?[z|Z|\\|]":[":-|",":-Z",":-z",":|",":Z",":z"],"\\:-?\\(":[":-(",":("],"\\:-?\\)":[":-)",":)"],"\\:-?D":[":-D",":D"],"#-?[\\\\/]":["#-/","#-\\","#/","#\\"],"B-?\\)":["B-)","B)"],"R-?\\)":["R-)","R)"]};function c(e){for(var t={},n=0,i=e;n<i.length;n++){var a=i[n];if(a&&a.emotes)for(var r=0,s=a.emotes;r<s.length;r++){var c=s[r];if(c&&c.id&&c.token)for(var d=0,u=l[c.token]||[c.token];d<u.length;d++){var p=u[d];t[p]&&a.id===o||(t[p]={id:c.id,token:p})}}}return t}},"0J2/":function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var i,a=n("mrSG"),r=n("TSYQ"),o=n("q1tI"),s=n("ANjH"),l=n("/7QA"),c=n("MJbm"),d=n("WUnc"),u=n("Ix37"),p=n("LNol"),m=n("iF2L"),f=n("RGzP"),v=n("OCDW"),g=(n("I04V"),function(e){var t=null,n=e.isSmall?64:80,i=e.type===d.a.Icon&&e.icon===u.a.LogoTwitch;switch(e.type){case d.a.Icon:t=o.createElement(p.a,{asset:e.icon,type:p.b.Inherit,fill:!0});break;case d.a.Avatar:t=o.createElement(m.a,{src:e.src,alt:e.alt,size:n,userLogin:e.login});break;case d.a.Placeholder:t=o.createElement(f.a,{height:n,width:n,overlay:!0});break;case d.a.Empty:}return o.createElement(v.a,{className:r("content-overlay-icon",{"content-overlay-icon--small":e.isSmall&&!i,"content-overlay-icon--small-logo":e.isSmall&&i})},t)}),h=n("bu9A"),b=n("UtoE"),y=n("tGfV"),k=n("c7f0"),S=n("DrMV"),E=n("uq9l"),C=n("Yegi"),O=n("IyK4");n("CTw/");!function(e){e.Content="content-overlay-gate__content",e.MiniContent="content-overlay-gate__mini-content",e.Text="content-overlay-gate__text",e.FocusOverlay="content-overlay-gate__focus-overlay"}(i||(i={}));var _=580,w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={width:Object(S.a)(t.props.videoContainer).width||0},t.onResize=function(e){t.setState({width:e})},t.renderGateContent=function(){if(t.props.mini)return o.createElement(o.Fragment,null,o.createElement(p.a,{asset:u.a.Lock,height:80,width:80}),o.createElement(E.a,{fontSize:C.k.Size4,bold:!0,lineHeight:E.b.Heading,color:C.f.Overlay,"data-test-selector":i.MiniContent},Object(l.d)("Content Restricted","ContentOverlayGate")));var e=t.isSmallBreakpoint(t.state.width);return o.createElement(v.a,{className:r("content-overlay-gate__content",{"content-overlay-gate__content--full":e}),display:C.h.Flex,flexDirection:C.i.Column,alignItems:C.b.Center,"data-a-target":"player-overlay-content-gate","data-test-selector":i.Content,padding:e?{x:1}:void 0,position:C.o.Relative},o.createElement(g,Object(a.__assign)({},t.props.iconProps,{isSmall:e})),t.renderTextContent(),t.props.children&&o.createElement(v.a,{margin:{top:e?2:3},className:"content-overlay-gate__allow-pointers"},t.props.children(e)))},t.renderTextContent=function(){var e=t.props.text;return o.createElement(v.a,{margin:{top:2},textAlign:C.q.Center},"string"==typeof e?t.renderTextItem(e,0):e.map(t.renderTextItem))},t.renderTextItem=function(e,n){return o.createElement(E.a,{key:e+"-"+n,fontSize:t.isSmallBreakpoint(t.state.width)?C.k.Size6:C.k.Size4,bold:!0,lineHeight:E.b.Heading,color:C.f.Overlay,"data-test-selector":i.Text,className:"content-overlay-gate__allow-pointers"},e)},t.isSmallBreakpoint=function(e){return e<_},t}return Object(a.__extends)(t,e),t.prototype.render=function(){return o.createElement(o.Fragment,null,o.createElement(c.a,{onResize:this.onResize}),o.createElement(h.a,{className:"content-overlay-gate",type:h.b.Fullscreen,transparency:h.c.Transparency0},this.props.onFocusPlayer&&o.createElement(O.a,{position:C.o.Absolute,attachTop:!0,attachLeft:!0,attachRight:!0,attachBottom:!0},o.createElement("div",{onClick:this.props.onFocusPlayer,"data-test-selector":i.FocusOverlay})),this.renderGateContent()))},t}(o.Component),P=Object(s.d)(Object(b.c)((function(e){return{mini:Object(k.a)({playerPublicPropsContext:e}).mini,onFocusPlayer:Object(k.b)({playerPublicPropsContext:e}).onFocusPlayer}})),Object(y.e)((function(e){return{videoContainer:e.videoContainer}})))(w)},"0Log":function(e,t,n){"use strict";var i=n("VSaV");n.o(i,"AutoModMessageStatus")&&n.d(t,"AutoModMessageStatus",(function(){return i.AutoModMessageStatus})),n.o(i,"FrienshipChangeType")&&n.d(t,"FrienshipChangeType",(function(){return i.FrienshipChangeType})),n.o(i,"InvitationNetworkType")&&n.d(t,"InvitationNetworkType",(function(){return i.InvitationNetworkType})),n.o(i,"InvitationRejectedReason")&&n.d(t,"InvitationRejectedReason",(function(){return i.InvitationRejectedReason})),n.o(i,"InvitationStatus")&&n.d(t,"InvitationStatus",(function(){return i.InvitationStatus})),n.o(i,"ModerationActions")&&n.d(t,"ModerationActions",(function(){return i.ModerationActions})),n.o(i,"PubsubMessageType")&&n.d(t,"PubsubMessageType",(function(){return i.PubsubMessageType})),n.o(i,"PubsubTopic")&&n.d(t,"PubsubTopic",(function(){return i.PubsubTopic})),n.o(i,"SquadStatus")&&n.d(t,"SquadStatus",(function(){return i.SquadStatus})),n.o(i,"TargetedModerationActions")&&n.d(t,"TargetedModerationActions",(function(){return i.TargetedModerationActions}));var a=n("By5U");n.o(a,"AutoModMessageStatus")&&n.d(t,"AutoModMessageStatus",(function(){return a.AutoModMessageStatus})),n.o(a,"FrienshipChangeType")&&n.d(t,"FrienshipChangeType",(function(){return a.FrienshipChangeType})),n.o(a,"InvitationNetworkType")&&n.d(t,"InvitationNetworkType",(function(){return a.InvitationNetworkType})),n.o(a,"InvitationRejectedReason")&&n.d(t,"InvitationRejectedReason",(function(){return a.InvitationRejectedReason})),n.o(a,"InvitationStatus")&&n.d(t,"InvitationStatus",(function(){return a.InvitationStatus})),n.o(a,"ModerationActions")&&n.d(t,"ModerationActions",(function(){return a.ModerationActions})),n.o(a,"PubsubMessageType")&&n.d(t,"PubsubMessageType",(function(){return a.PubsubMessageType})),n.o(a,"PubsubTopic")&&n.d(t,"PubsubTopic",(function(){return a.PubsubTopic})),n.o(a,"SquadStatus")&&n.d(t,"SquadStatus",(function(){return a.SquadStatus})),n.o(a,"TargetedModerationActions")&&n.d(t,"TargetedModerationActions",(function(){return a.TargetedModerationActions}));var r=n("WQCf");n.d(t,"AutoModMessageStatus",(function(){return r.a})),n.d(t,"FrienshipChangeType",(function(){return r.b})),n.d(t,"InvitationNetworkType",(function(){return r.c})),n.d(t,"InvitationRejectedReason",(function(){return r.d})),n.d(t,"InvitationStatus",(function(){return r.e})),n.d(t,"ModerationActions",(function(){return r.f})),n.d(t,"PubsubMessageType",(function(){return r.g})),n.d(t,"PubsubTopic",(function(){return r.h})),n.d(t,"SquadStatus",(function(){return r.i})),n.d(t,"TargetedModerationActions",(function(){return r.j}))},"0Lz3":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return s}));var i=n("mrSG"),a=n("jeEJ");function r(e,t){var n={};function r(t,i,a,r,s){if(t=t.toLowerCase(),!n[t])return"";var l=n[t].template,c=e.types.find((function(e){return e.animation===a}));return c?o(l,{prefix:t,background:i,animation:a,tier:r,scale:s,extension:c.extension}):""}for(var s=e.order.reduce((function(e,t,n){return e[t]=n,e}),{}),l=new a.a((function(e,t){var n=s[e.type]-s[t.type];return 0!==n?n:e.tierBreakerOrder-t.tierBreakerOrder})),c=0,d=0,u=t;d<u.length;d++)for(var p=u[d],m=0,f=p.nodes;m<f.length;m++){var v=f[m],g=Object(i.__assign)(Object(i.__assign)({},v),{orderedTiers:v.tiers.slice().sort((function(e,t){return t.bits-e.bits})),template:p.templateURL,getImage:r.bind(void 0,v.prefix),tierBreakerOrder:c});n[v.prefix.toLowerCase()]=g,l.push(g),c++}return{indexedActions:n,orderedActions:l.top(l.size()),tiers:e.colors.slice().sort((function(e,t){return t.bits-e.bits})),getImage:r}}function o(e,t){return e.replace("PREFIX",t.prefix.toLowerCase()).replace("BACKGROUND",t.background).replace("ANIMATION",t.animation).replace("TIER",t.tier.toString()).replace("SCALE",t.scale.toString()).replace("EXTENSION",t.extension)}function s(e,t){return{id:t+"-"+e.entry_key,score:e.score,rank:e.rank,user:{__typename:"User",id:e.entry_key},__typename:"UserLeaderboardItem"}}},"0a2F":function(e,t,n){"use strict";var i,a;(i=window)[a="NOLBUNDLE"]=i[a]||{nlsQ:function(e,t,n,r,o,s){return(r=(o=i.document).createElement("script")).async=1,r.src=("http:"===i.location.protocol?"http:":"https:")+"//cdn-gl.imrworldwide.com/conf/"+e+".js#name="+t+"&ns="+a,(s=o.getElementsByTagName("script")[0]).parentNode.insertBefore(r,s),i[a][t]=i[a][t]||{g:n||{},ggPM:function(e,n,r,o,s){(i[a][t].q=i[a][t].q||[]).push([e,n,r,o,s])}},i[a][t]}}},"0wNy":function(e,t,n){"use strict";var i,a,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};a="undefined"!=typeof self?self:void 0,void 0===(i=function(){return a.ns_=function(e){(e=e||{}).ns_=e;var t,n,i,a,o,s={uid:function(){var e=1;return function(){return+new Date+"_"+e++}}(),filter:function(e,t){var n={};for(var i in t)t.hasOwnProperty(i)&&e(t[i])&&(n[i]=t[i]);return n},extend:function(e){var t,n=arguments.length;e=e||{};for(var i=1;n>i;i++)if(t=arguments[i])for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e},getString:function(e,t){var n=String(e);return null==e?t||"na":n},getLong:function(e,t){var n=Number(e);return null==e||isNaN(n)?t||0:n},getInteger:function(e,t){var n=Number(parseInt(e));return null==e||isNaN(n)?t||0:n},getBoolean:function(e,t){var n="true"==String(e).toLowerCase();return null==e?t||!1:n},parseBoolean:function(e,t){return t=t||!1,e?"0"!=e&&void 0:t},isNotEmpty:function(e){return!this.isEmpty(e)},isEmpty:function(e){return null==e||""===e||e instanceof Array&&0===e.length},indexOf:function(e,t){var n=-1;return this.forEach(t,(function(t,i){t==e&&(n=i)})),n},forEach:function(e,t,n){try{if("function"==typeof t)if(n=void 0!==n?n:null,"number"!=typeof e.length||void 0===e[0]){var i=void 0!==e.__proto__;for(var a in e)e.hasOwnProperty(a)&&(!i||i&&void 0===e.__proto__[a])&&"function"!=typeof e[a]&&t.call(n,e[a],a)}else for(var r=0,o=e.length;o>r;r++)t.call(n,e[r],r)}catch(e){}},regionMatches:function(e,t,n,i,a){if(0>t||0>i||t+a>e.length||i+a>n.length)return!1;for(;--a>=0;)if(e.charAt(t++)!=n.charAt(i++))return!1;return!0},size:function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&t++;return t},log:function(e,t){if(void 0!==t&&t&&"undefined"!=typeof console&&console){var n=new Date,i=n.getHours()+":"+n.getMinutes()+":"+n.getSeconds();console.log(i,e)}},isTrue:function(e){return void 0!==e&&("string"==typeof e?"true"===(e=e.toLowerCase())||"1"===e||"on"===e:!!e)},toString:function(e){if(void 0===e)return"undefined";if("string"==typeof e)return e;if("[object Array]"===Object.prototype.toString.call(e))return e.join(",");if(this.size(e)>0){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+":"+e[n]+";");return t}return e.toString()},exists:function(e){return void 0!==e&&null!=e},firstGreaterThan0:function(){for(var e=0,t=arguments.length;t>e;e++){var n=arguments[e];if(n>0)return n}return 0},cloneObject:function(e){return null==e||"object"!=(void 0===e?"undefined":r(e))?e:function(){function e(){}function t(t){return"object"==(void 0===t?"undefined":r(t))?(e.prototype=t,new e):t}function n(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}function i(){this.copiedObjects=[];var e=this;this.recursiveDeepCopy=function(t){return e.deepCopy(t)},this.depth=0}function a(e,t){var n=new i;return t&&(n.maxDepth=t),n.deepCopy(e)}var o=[];return n.prototype={constructor:n,canCopy:function(){return!1},create:function(e){},populate:function(e,t,n){}},i.prototype={constructor:i,maxDepth:256,cacheResult:function(e,t){this.copiedObjects.push([e,t])},getCachedResult:function(e){for(var t=this.copiedObjects,n=t.length,i=0;n>i;i++)if(t[i][0]===e)return t[i][1]},deepCopy:function(e){if(null===e)return null;if("object"!=(void 0===e?"undefined":r(e)))return e;var t=this.getCachedResult(e);if(t)return t;for(var n=0;n<o.length;n++){var i=o[n];if(i.canCopy(e))return this.applyDeepCopier(i,e)}throw new Error("Unable to clone the following object "+e)},applyDeepCopier:function(e,t){var n=e.create(t);if(this.cacheResult(t,n),this.depth++,this.depth>this.maxDepth)throw new Error("Maximum recursion depth exceeded.");return e.populate(this.recursiveDeepCopy,t,n),this.depth--,n}},a.DeepCopier=n,a.deepCopiers=o,a.register=function(e){e instanceof n||(e=new n(e)),o.unshift(e)},a.register({canCopy:function(){return!0},create:function(e){return e instanceof e.constructor?t(e.constructor.prototype):{}},populate:function(e,t,n){for(var i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i]));return n}}),a.register({canCopy:function(e){return e instanceof Array},create:function(e){return new e.constructor},populate:function(e,t,n){for(var i=0;i<t.length;i++)n.push(e(t[i]));return n}}),a.register({canCopy:function(e){return e instanceof Date},create:function(e){return new Date(e)}}),a.register({canCopy:function(e){return function(e){return"undefined"!=typeof window&&window&&window.Node?e instanceof Node:"undefined"!=typeof document&&e===document||"number"==typeof e.nodeType&&e.attributes&&e.childNodes&&e.cloneNode}(e)},create:function(e){return"undefined"!=typeof document&&e===document?document:e.cloneNode(!1)},populate:function(e,t,n){if("undefined"!=typeof document&&t===document)return document;if(t.childNodes&&t.childNodes.length)for(var i=0;i<t.childNodes.length;i++){var a=e(t.childNodes[i]);n.appendChild(a)}}}),{deepCopy:a}}().deepCopy(e)},safeGet:function(e,t){return t=this.exists(t)?t:"",this.exists(e)?e:t},getBrowserName:function(){if(!navigator)return"";var e,t,n=navigator.userAgent||"",i=navigator.appName||"";return-1!=(t=n.indexOf("Opera"))||-1!=(t=n.indexOf("OPR/"))?i="Opera":-1!=(t=n.indexOf("Android"))?i="Android":-1!=(t=n.indexOf("Chrome"))?i="Chrome":-1!=(t=n.indexOf("Safari"))?i="Safari":-1!=(t=n.indexOf("Firefox"))?i="Firefox":-1!=(t=n.indexOf("IEMobile"))?i="Internet Explorer Mobile":"Microsoft Internet Explorer"==i||"Netscape"==i?i="Internet Explorer":(e=n.lastIndexOf(" ")+1)<(t=n.lastIndexOf("/"))?(i=n.substring(e,t)).toLowerCase()==i.toUpperCase()&&(i=navigator.appName):i="unknown",i},getBrowserFullVersion:function(){if(!navigator)return"";var e,t,n,i=navigator.userAgent||"",a=navigator.appName||"",r=navigator.appVersion?""+parseFloat(navigator.appVersion):"";return-1!=(t=i.indexOf("Opera"))?(r=i.substring(t+6),-1!=(t=i.indexOf("Version"))&&(r=i.substring(t+8))):-1!=(t=i.indexOf("OPR/"))?r=i.substring(t+4):-1!=(t=i.indexOf("Android"))?r=i.substring(t+11):-1!=(t=i.indexOf("Chrome"))?r=i.substring(t+7):-1!=(t=i.indexOf("Safari"))?(r=i.substring(t+7),-1!=(t=i.indexOf("Version"))&&(r=i.substring(t+8))):-1!=(t=i.indexOf("Firefox"))?r=i.substring(t+8):"Microsoft Internet Explorer"==a?null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(i)&&(r=parseFloat(RegExp.$1)):"Netscape"==a?null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(i)&&(r=parseFloat(RegExp.$1)):r=i.lastIndexOf(" ")+1<(t=i.lastIndexOf("/"))?i.substring(t+1):"unknown",-1!=(n=(r=r.toString()).indexOf(";"))&&(r=r.substring(0,n)),-1!=(n=r.indexOf(" "))&&(r=r.substring(0,n)),-1!=(n=r.indexOf(")"))&&(r=r.substring(0,n)),e=parseInt(""+r,10),isNaN(e)&&(r=""+parseFloat(navigator.appVersion)),r},browserAcceptsLargeURLs:function(){return"undefined"==typeof window||(window.ActiveXObject,!0)},getNamespace:function(){return e.ns_||e}};return e.StreamSense=e.StreamSense||function(){var t={PLATFORM:"generic",httpGet:function(e,t){if("undefined"!=typeof Image){var n=new Image;n.onload=function(){t&&t(200),n=null},n.onerror=function(){t&&t(),n=null},n.src=e}},httpPost:function(e,t,n){n&&"undefined"!=typeof setTimeout&&setTimeout(n,0)},Storage:function(){var e="cs_";return function(){var t="undefined"!=typeof localStorage?localStorage:null;s.extend(this,{get:function(n){return t&&t.getItem(e+n)},set:function(n,i){t&&t.setItem(e+n,i)},has:function(n){return t&&t.getItem(e+n)},remove:function(n){t&&t.removeItem(e+n)},clear:function(){for(var n=0;t&&n<t.length;++n){var i=t.key(n);i.substr(0,e.length)===e&&t.removeItem(i)}}})}}(),IO:{dir:function(){return null},append:function(e,t,n){},write:function(e,t,n){},deleteFile:function(){return!1},read:function(){return null}},getCrossPublisherId:function(){return null},getAppName:function(){return n.UNKNOWN_VALUE},getAppVersion:function(){return n.UNKNOWN_VALUE},getVisitorId:function(){return this.getDeviceName()+ +new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceName:function(){return n.UNKNOWN_VALUE},getPlatformVersion:function(){return n.UNKNOWN_VALUE},getPlatformName:function(){return"js"},getRuntimeName:function(){return n.UNKNOWN_VALUE},getRuntimeVersion:function(){return n.UNKNOWN_VALUE},getResolution:function(){return n.UNKNOWN_VALUE},getLanguage:function(){return n.UNKNOWN_VALUE},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return!1},setTimeout:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return setTimeout(e,t)})),clearTimeout:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return clearTimeout(e)})),getDeviceArchitecture:function(){return n.UNKNOWN_VALUE},getConnectionType:function(){return n.UNKNOWN_VALUE},getDeviceJailBrokenFlag:function(){return n.UNKNOWN_VALUE},isConnSecure:function(){return"s"===document.location.href.charAt(4)},processMeasurementLabels:function(){}},n={UNKNOWN_VALUE:"unknown",UNKNOWN_RESOLUTION:"0x0"};s.jsonObjectToStringDictionary=function(e){var t={};for(var n in e){var i=e[n];t[n]=null==i?i:e[n]+""}return t},s.getKeys=function(e,t){var n,i=[];for(n in e)t&&!t.test(n)||!e.hasOwnProperty(n)||(i[i.length]=n);return i},s.fixEventTime=function(e){if(e.ns_ts)return parseInt(e.ns_ts);var t=+new Date;return e.ns_ts=String(t),t},s.isBrowser=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},s.addNewPlaybackInterval=function(e,t,n,i){var a,r={};if(!(n>=t))return s.cloneObject(e);if(r.start=t,r.end=n,0==e.length)return e.push(r),s.cloneObject(e);for(a=0;a<e.length;a++)if(r.start>=e[a].start&&r.end<=e[a].end)return s.cloneObject(e);var o,l=!1;for(o=0;o<e.length;o++)if(o+1===e.length&&r.start>=e[o].start||r.start>=e[o].start&&r.start<e[o+1].start){e.splice(o+1,0,r),l=!0;break}l||e.splice(0,0,r);var c=[e[0]];for(a=1;a<e.length;a++)c[c.length-1].end+i<e[a].start?c.push(e[a]):c[c.length-1].end<e[a].end&&(c[c.length-1].end=e[a].end);return s.cloneObject(c)};var i=function(){var e=["play","pause","pause-on-buffering","end","buffer","buffer-stop","keep-alive","hb","custom","load","start","skstart","adskip","cta","error","trans","drmfa","drmap","drmde","bitrt","playrt","volume","window","audio","video","subs","cdn"];return{PLAY:0,PAUSE:1,PAUSE_ON_BUFFERING:2,END:3,BUFFER:4,BUFFER_STOP:5,KEEPALIVE:6,HEARTBEAT:7,CUSTOM:8,LOAD:9,START:10,SEEK_START:11,AD_SKIP:12,CTA:13,ERROR:14,TRANSFER:15,DRM_FAILED:16,DRM_APPROVED:17,DRM_DENIED:18,BIT_RATE:19,PLAYBACK_RATE:20,VOLUME:21,WINDOW_STATE:22,AUDIO:23,VIDEO:24,SUBS:25,CDN:26,toString:function(t){return e[t]}}}(),a={IDLE:0,PLAYBACK_NOT_STARTED:1,PLAYING:2,PAUSED:3,BUFFERING_BEFORE_PLAYBACK:4,BUFFERING_DURING_PLAYBACK:5,BUFFERING_DURING_SEEKING:6,BUFFERING_DURING_PAUSE:7,SEEKING_BEFORE_PLAYBACK:8,SEEKING_DURING_PLAYBACK:9,SEEKING_DURING_BUFFERING:10,SEEKING_DURING_PAUSE:11,PAUSED_DURING_BUFFERING:12},o=function(){var e=["c","s","r"];return{SINGLE_CLIP:0,SEGMENTED:1,REDUCED:2,toString:function(t){return e[t]}}}(),l={STREAMSENSE_VERSION:"5.1.3.160420",MODEL_VERSION:"5.1",DEFAULT_PLAYERNAME:"js_api",DEFAULT_HEARTBEAT_INTERVAL:[{playingtime:6e4,interval:1e4},{playingtime:null,interval:6e4}],DEFAULT_KEEP_ALIVE_INTERVAL:12e5,DEFAULT_PAUSED_ON_BUFFERING_INTERVAL:500,C1_VALUE:"19",C10_VALUE:"js",NS_AP_C12M_VALUE:"1",NS_NC_VALUE:"1",PAGE_NAME_LABEL:"name",RESTRICTED_URL_LENGTH_LIMIT:2048,URL_LENGTH_LIMIT:4096,THROTTLING_DELAY:500,INTERVAL_MERGE_TOLERANCE:500,STANDARD_METADATA_LABELS:["ns_st_ci","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_li","ns_st_ad","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pu","c3","c4","c6"],LABELS_ORDER:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_alias","ca_ns_alias","cb_ns_alias","cc_ns_alias","cd_ns_alias","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_cv","ns_ap_smv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","cs_partner","cs_xcid","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_st_sv","ns_st_pv","ns_st_smv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sc","ns_st_sq","ns_st_ppc","ns_st_apc","ns_st_spc","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_sl","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_ad","ns_st_li","ns_st_ci","ns_st_si","ns_st_pt","ns_st_dpt","ns_st_ipt","ns_st_et","ns_st_det","ns_st_upc","ns_st_dupc","ns_st_iupc","ns_st_upa","ns_st_dupa","ns_st_iupa","ns_st_lpc","ns_st_dlpc","ns_st_lpa","ns_st_dlpa","ns_st_pa","ns_ap_jb","ns_ap_et","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_c12m","cs_c12u","ca_cs_c12u","cb_cs_c12u","cc_cs_c12u","cd_cs_c12u","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_dbc","ns_st_bt","ns_st_dbt","ns_st_bp","ns_st_lt","ns_st_skc","ns_st_dskc","ns_st_ska","ns_st_dska","ns_st_skd","ns_st_skt","ns_st_dskt","ns_st_pc","ns_st_dpc","ns_st_pp","ns_st_br","ns_st_pbr","ns_st_rt","ns_st_prt","ns_st_ub","ns_st_vo","ns_st_pvo","ns_st_ws","ns_st_pws","ns_st_ki","ns_st_rp","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pl","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_sr","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_ce","ns_st_ia","ns_st_dt","ns_st_ddt","ns_st_tdt","ns_st_tm","ns_st_dtm","ns_st_ttm","ns_st_de","ns_st_pu","ns_st_ti","ns_st_cu","ns_st_fee","ns_st_at","ns_st_pat","ns_st_vt","ns_st_pvt","ns_st_tt","ns_st_ptt","ns_st_cdn","ns_st_pcdn","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","ns_ap_referrer","ns_clid","ns_campaign","ns_source","ns_mchannel","ns_linkname","ns_fee","gclid","utm_campaign","utm_source","utm_medium","utm_term","utm_content","ns_ecommerce","ns_ec_sv","ns_client_id","ns_order_id","ns_ec_cur","ns_orderline_id","ns_orderlines","ns_prod_id","ns_qty","ns_prod_price","ns_prod_grp","ns_brand","ns_shop","ns_category","category","ns_c","ns_search_term","ns_search_result","ns_m_exp","ns_m_chs","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9","ns_ap_er"]},c=function(){function e(){var e,t,i,a,r,o,c,d,u,p,m,f,v,g,h,b,y,k,S,E,C,O,_,w,P,N,T,D,I,A,j,x,L,F,M=this,R=l.INTERVAL_MERGE_TOLERANCE;s.extend(this,{getHash:function(){return e},setHash:function(t){e=t},setPlaybackIntervalMergeTolerance:function(e){R=e},getPlaybackIntervalMergeTolerance:function(){return R},setLabels:function(e){null!=e&&s.extend(I,e)},getLabels:function(){return I},setLabel:function(e,t){var n={};n[e]=t,M.setLabels(n)},getLabel:function(e){return I[e]},getClipNumber:function(){return parseInt(M.getLabel("ns_st_cn"))},setClipNumber:function(e){M.setLabel("ns_st_cn",String(e))},getPartNumber:function(){return parseInt(M.getLabel("ns_st_pn"))},createLabels:function(e){var t,n,a,l=e||{};return l.ns_st_dbt=String(M.getBufferingTime()-C),C=M.getBufferingTime(),l.ns_st_det=String(M.getElapsedTime()-u),u=M.getElapsedTime(),l.ns_st_dupc=String(M.getUniquePlaybackInterval()-g),g=M.getUniquePlaybackInterval(),parseInt(l.ns_st_dupc)<0&&(l.ns_st_dupc="0"),t=s.exists(l.ns_st_upc)?parseInt(l.ns_st_upc):M.getUniquePlaybackInterval(),l.ns_st_iupc=String(t-h),h=t,parseInt(l.ns_st_iupc)<0&&(l.ns_st_iupc="0"),l.ns_st_dupa=String(M.getAssetUniquePlaybackInterval()-b),b=M.getAssetUniquePlaybackInterval(),parseInt(l.ns_st_dupa)<0&&(l.ns_st_dupa="0"),n=s.exists(l.ns_st_upa)?parseInt(l.ns_st_upa):M.getAssetUniquePlaybackInterval(),l.ns_st_iupa=String(n-y),y=n,parseInt(l.ns_st_iupa)<0&&(l.ns_st_iupa="0"),l.ns_st_dlpc=String(M.getLongestPlaybackInterval()-k),k=M.getLongestPlaybackInterval(),parseInt(l.ns_st_dlpc)<0&&(l.ns_st_dlpc="0"),l.ns_st_dlpa=String(M.getAssetLongestPlaybackInterval()-S),S=M.getAssetLongestPlaybackInterval(),parseInt(l.ns_st_dlpa)<0&&(l.ns_st_dlpa="0"),a=s.exists(l.ns_st_pt)?parseInt(l.ns_st_pt):M.getPlaybackTime(),l.ns_st_ipt=String(a-o),o=a,l.ns_st_dpt=String(M.getPlaybackTime()-r),r=M.getPlaybackTime(),l.ns_st_dpc=String(M.getPauses()-A),A=M.getPauses(),l.ns_st_dskc=String(M.getSeeks()-j),j=M.getSeeks(),l.ns_st_dbc=String(M.getBuffers()-x),x=M.getBuffers(),l.ns_st_dskt=String(M.getSeekingTime()-w),w=M.getSeekingTime(),l.ns_st_dska=String(M.getSeekingAmount()-T),T=M.getSeekingAmount(),s.extend(l,M.getLabels()),M.setSeekingDirection(0),i&&(l.ns_st_spc=String(L),l.ns_st_apc=String(F)),i||s.parseBoolean(l.ns_st_sc)||(l.ns_st_sc="1"),l},getVideoTrack:function(){return M.getLabel("ns_st_vt")},setVideoTrack:function(e){M.setLabel("ns_st_vt",String(e))},getAudioTrack:function(){return M.getLabel("ns_st_at")},setAudioTrack:function(e){M.setLabel("ns_st_at",String(e))},getSubtitleTrack:function(){return M.getLabel("ns_st_tt")},setSubtitleTrack:function(e){M.setLabel("ns_st_tt",String(e))},getCDN:function(){return M.getLabel("ns_st_cdn")},setCDN:function(e){M.setLabel("ns_st_cdn",String(e))},getClipPlaybackIntervals:function(){return m},setClipPlaybackIntervals:function(e){m=e},getAssetPlaybackIntervals:function(){return f},getUniquePlaybackInterval:function(){return parseInt(M.getLabel("ns_st_upc"))},getAssetUniquePlaybackInterval:function(){return parseInt(M.getLabel("ns_st_upa"))},setAssetUniquePlaybackInterval:function(e){M.setLabel("ns_st_upa",String(e))},setUniquePlaybackInterval:function(e){M.setLabel("ns_st_upc",String(e))},getLongestPlaybackInterval:function(){return parseInt(M.getLabel("ns_st_lpc"))},setLongestPlaybackInterval:function(e){M.setLabel("ns_st_lpc",String(e))},getAssetLongestPlaybackInterval:function(){return parseInt(M.getLabel("ns_st_lpa"))},setAssetLongestPlaybackInterval:function(e){M.setLabel("ns_st_lpa",String(e))},incrementPauses:function(){M.setLabel("ns_st_pc",String(M.getPauses()+1))},incrementSeeks:function(){M.setLabel("ns_st_skc",String(M.getSeeks()+1))},incrementPlayCounter:function(){M.setLabel("ns_st_sq",String(M.getPlayCounter()+1))},getPlayCounter:function(){return parseInt(M.getLabel("ns_st_sq"))},getBufferingTime:function(){return parseInt(M.getLabel("ns_st_bt"))},setBufferingTime:function(e){M.setLabel("ns_st_bt",String(e))},addBufferingTime:function(e){if(!isNaN(E)){var t=M.getBufferingTime();t+=e-E,M.setBufferingTime(t),E=NaN}},setPlaybackStartPosition:function(e){v=parseInt(e)},getPlaybackStartPosition:function(){return v},addInterval:function(e){isNaN(v)||isNaN(e)||(m=s.addNewPlaybackInterval(m,v,e,R),f=s.addNewPlaybackInterval(f,v,e,R),function(){var e,t,n=0;for(e=0;e<m.length;e++)n+=Math.abs(m[e].end-m[e].start);M.setUniquePlaybackInterval(n);var i=0;for(e=0;e<m.length;e++)(t=Math.abs(m[e].end-m[e].start))>i&&(i=t);M.setLongestPlaybackInterval(i);var a=0;for(e=0;e<f.length;e++)a+=Math.abs(f[e].end-f[e].start);M.setAssetUniquePlaybackInterval(a);var r=0;for(e=0;e<f.length;e++)(t=Math.abs(f[e].end-f[e].start))>r&&(r=t);M.setAssetLongestPlaybackInterval(r)}(),v=NaN)},getElapsedTime:function(){return parseInt(M.getLabel("ns_st_et"))},setElapsedTime:function(e){M.setLabel("ns_st_et",String(e))},addElapsedTime:function(e){if(!isNaN(d)){var t=M.getElapsedTime();t+=e-d,M.setElapsedTime(t),d=NaN}},getElapsedTimestamp:function(){return d},setElapsedTimestamp:function(e){d=e},addPlaybackTime:function(e){if(!isNaN(a)){var t=M.getPlaybackTime();t+=e-a,M.setPlaybackTime(t),a=NaN}},getPlaybackTime:function(){return parseInt(M.getLabel("ns_st_pt"))},getExpectedPlaybackPosition:function(e){return isNaN(a)||(c+=e-a),c},setPlaybackTimeOffset:function(e){c=e},getPlaybackTimeOffset:function(){return c},setPlaybackTime:function(e){M.setLabel("ns_st_pt",String(e))},getPlaybackTimestamp:function(){return a},setPlaybackTimestamp:function(e){a=e},setPreviousPlaybackTime:function(e){r=e},setPreviousPlaybackTimestamp:function(e){},getBufferingTimestamp:function(){return E},setBufferingTimestamp:function(e){E=e},getPauses:function(){return parseInt(M.getLabel("ns_st_pc"))},setPauses:function(e){M.setLabel("ns_st_pc",String(e))},getSeeks:function(){return parseInt(M.getLabel("ns_st_skc"))},setSeeks:function(e){M.setLabel("ns_st_skc",String(e))},setSeeking:function(e){O=e},isSeeking:function(){return O},setCollectingSeekingTime:function(e){N=e},isCollectingSeekingTime:function(){return N},setClipStarted:function(e){t=e},isClipStarted:function(){return t},setPlaybackStarted:function(e){i=e},isPlaybackStarted:function(){return i},setSeekingTimestamp:function(e){_=e},getSeekingTimestamp:function(){return _},addSeekingTime:function(e){if(!isNaN(_)){var t=M.getSeekingTime();t+=e-_,M.setSeekingTime(t),_=NaN}},getSeekingTime:function(){return parseInt(M.getLabel("ns_st_skt"))},setSeekingTime:function(e){M.setLabel("ns_st_skt",String(e))},setSeekingTimeBeforeEnd:function(e){D=e},getSeekingTimeBeforeEnd:function(){return D},setSeekStartPosition:function(e){P=e},getSeekStartPosition:function(){return P},setSeekingAmount:function(e){M.setLabel("ns_st_ska",String(e))},getSeekingAmount:function(){return parseInt(M.getLabel("ns_st_ska"))},addSeekingAmount:function(e){var t,n=M.getSeekingAmount();n+=Math.abs(e-P),M.setSeekingAmount(n),P==e?t=0:P>e?t=-1:e>P&&(t=1),M.setSeekingDirection(t),P=0},getSeekingDirection:function(){return parseInt(M.getLabel("ns_st_skd"))},setSeekingDirection:function(e){M.setLabel("ns_st_skd",String(e))},resetClipLifecycleLabels:function(){I.ns_st_pt="0",r=0,o=0,I.ns_st_bt="0",C=0,I.ns_st_bc="0",x=0,I.ns_st_pc="0",A=0,I.ns_st_sq="0",I.ns_st_upa="0",b=0,y=0,I.ns_st_et="0",u=0,I.ns_st_lpa="0",S=0,I.ns_st_skt="0",w=0,I.ns_st_ska="0",T=0,I.ns_st_skc="0",j=0},incrementSegmentPlaybackCounter:function(){L++},incrementClipLoadCounter:function(){M.setLabel("ns_st_sc",String(M.getClipLoadCounter()+1))},incrementAssetPlaybackCounter:function(){F++},setPreviousUniquePlaybackInterval:function(e){g=e},setPreviousEventIndependentUniquePlaybackInterval:function(e){h=e},setPreviousLongestPlaybackInterval:function(e){k=e},resetAssetPlaybackCounters:function(){f=[],M.setAssetUniquePlaybackInterval(0),b=0,y=0,M.setAssetLongestPlaybackInterval(0),S=0},setSegmentPlaybackCounter:function(e){L=e},setClipLoadCounter:function(e){M.setLabel("ns_st_sc",String(e))},setAssetPlaybackCounter:function(e){F=e},setLowestPartNumberPlayed:function(e){p=e},getSegmentPlaybackCounter:function(){return L},getClipLoadCounter:function(){return parseInt(M.getLabel("ns_st_sc"))},getAssetPlaybackCounter:function(){return F},getLowestPartNumberPlayed:function(){return p},getBuffers:function(){return parseInt(M.getLabel("ns_st_bc"))},incrementBufferCount:function(){M.setLabel("ns_st_bc",String(M.getBuffers()+1))},getPreviousBufferingTime:function(){return C}}),(I={}).ns_st_pt="0",I.ns_st_bt="0",I.ns_st_bc="0",I.ns_st_pc="0",I.ns_st_sq="0",I.ns_st_cl="0",I.ns_st_pn="1",I.ns_st_tp="1",I.ns_st_skc="0",I.ns_st_et="0",I.ns_st_cn="1",I.ns_st_sc="0",I.ns_st_ska="0",I.ns_st_skd="0",I.ns_st_skt="0",I.ns_st_upc="0",I.ns_st_lpc="0",I.ns_st_upa="0",I.ns_st_lpa="0",I.ns_st_ub="0",I.ns_st_br="0",i=!1,t=!1,e=n.UNKNOWN_VALUE,a=NaN,c=0,r=0,d=NaN,p=0,u=0,o=0,v=NaN,m=[],f=[],g=0,h=0,b=0,y=0,k=0,S=0,E=NaN,C=0,O=!1,_=NaN,N=!1,P=0,D=0,w=0,T=0,A=0,j=0,x=0,L=0,F=0}return e.resetClip=function(e,t,n){for(var i=e.getLabels(),a={},r=0;n&&r<n.length;++r)i.hasOwnProperty(n[r])&&(a[n[r]]=i[n[r]]);t.setLabels(a),t.setPlaybackIntervalMergeTolerance(e.getPlaybackIntervalMergeTolerance())},e}(),d=function(){function e(){var e,t,n,i,a,r,o,l,d,u=this;s.extend(this,{resetClip:function(){var t=e;e=new c,c.resetClip(t,e)},hashExists:function(e){return null!=r[e]},storeHash:function(e){r[e]={}},removeHash:function(e){delete r[e]},storeClipPlaybackCounters:function(){for(var t in r)if(r.hasOwnProperty(t)&&r[t].clipNumber===e.getClipNumber()){s.extend(r[t],{segmentPlaybackCounter:e.getSegmentPlaybackCounter(),clipLoadCounter:e.getClipLoadCounter(),assetPlaybackCounter:e.getAssetPlaybackCounter(),lowestPartNumberPlayed:e.getLowestPartNumberPlayed(),seeking:e.isSeeking(),seekingTimeBeforeEnd:e.getSeekingTimeBeforeEnd(),seekingStartPosition:e.getSeekStartPosition(),clipPlaybackIntervals:e.getClipPlaybackIntervals(),uniquePlaybackInterval:e.getUniquePlaybackInterval(),longestPlaybackInterval:e.getLongestPlaybackInterval(),videoTrack:e.getVideoTrack(),audioTrack:e.getAudioTrack(),subtitleTrack:e.getSubtitleTrack(),cdn:e.getCDN()});break}},getStoredClipRegisters:function(e){return r[e]},getClipNumber:function(e){return r[e].clipNumber},getMaxClipNumber:function(){return o},storeClipNumber:function(e,t){r[e].clipNumber=t,t>o&&(o=t)},setLabels:function(e){null!=e&&s.extend(i,e)},getLabels:function(){return i},setLabel:function(e,t){var n={};n[e]=t,u.setLabels(n)},getLabel:function(e){return i[e]},getClip:function(){return e},createLabels:function(t){var n=t||{};return l||(n.ns_st_pb=null!=n.ns_st_pb?n.ns_st_pb:"1"),s.extend(n,u.getLabels()),e.isPlaybackStarted()&&(n.ns_st_ppc=String(d)),n},incrementPlayCounter:function(){u.setLabel("ns_st_sp",String(parseInt(u.getLabel("ns_st_sp"))+1))},incrementPauses:function(){u.setLabel("ns_st_pp",String(u.getPauses()+1))},addPlaybackTime:function(e){if(!isNaN(n)){var t=u.getPlaybackTime();t+=e-n,u.setPlaybackTime(t),n=NaN}},addBufferingTime:function(e){if(!isNaN(t)){var n=u.getBufferingTime();n+=e-t,u.setBufferingTime(n),t=NaN}},getBufferingTime:function(){return parseInt(u.getLabel("ns_st_bp"))},setBufferingTime:function(e){u.setLabel("ns_st_bp",String(e))},getPlaybackTime:function(){return parseInt(u.getLabel("ns_st_pa"))},setBufferingTimestamp:function(e){t=e},getBufferingTimestamp:function(){return t},setPlaybackTime:function(e){u.setLabel("ns_st_pa",String(e))},setPlaybackTimestamp:function(e){n=e},getPlaybackTimestamp:function(){return n},getPauses:function(){return parseInt(u.getLabel("ns_st_pp"))},setPauses:function(e){u.setLabel("ns_st_pp",String(e))},isPlaylistStarted:function(){return a},setPlaylistStarted:function(e){a=e},getPlaybackCounter:function(){return d},incrementPlaybackCounter:function(){d++},setFirstEventSent:function(e){l=e}}),e=new c,(i={}).ns_st_bp="0",i.ns_st_pa="0",i.ns_st_pp="0",i.ns_st_sp="1",i.ns_st_id=String(+new Date),t=NaN,n=NaN,r={},o=0,a=!1,l=!1,d=0}return e.resetPlaylist=function(t,n,i){for(var a=t.getClip(),r=t.getLabels(),o={},s=0;i&&s<i.length;s++)r.hasOwnProperty(i[s])&&(o[i[s]]=r[i[s]]);(n=new e).setLabels(o),c.resetClip(a,n.getClip(),i)},e}(),u=function(e){function t(t){a=s.extend({},t);var n=e.getSSECore().getPixelURL();if(e.getAppCore()){if(e.getSSECore().isProperlyInitialized()){var i=e.getSSECore().getExports().et;if("function"==typeof e.getAppCore().getMeasurementDispatcher)e.getAppCore().getMeasurementDispatcher().send(i.HIDDEN,t,n);else{var r=e.getSSECore().getExports().am.newApplicationMeasurement(e.getAppCore(),i.HIDDEN,t,n);e.getAppCore().getQueue().offer(r)}}}else n&&e.getSSECore().getPlatformAPI().httpGet(e.getSSECore().prepareUrl(n,t))}var n,a,r=this;s.extend(this,{newEvent:function(e){t(e.eventLabels),e.eventType!=i.HEARTBEAT&&r.incrementEventCounter()},getEventCounter:function(){return n},incrementEventCounter:function(){n++},setEventCounter:function(e){n=e},getMeasurementSnapshot:function(){return a}}),n=1},p=function(e){function t(){c++;var t={},n=s.fixEventTime(t);t.ns_st_po=String(e.getPlaylist().getClip().getPlaybackTimeOffset()+(n-e.getPlaylist().getClip().getPlaybackTimestamp())),t.ns_st_pa=String(e.getPlaylist().getPlaybackTime()+(n-e.getPlaylist().getPlaybackTimestamp())),t.ns_st_pt=String(e.getPlaylist().getClip().getPlaybackTime()+(n-e.getPlaylist().getClip().getPlaybackTimestamp())),t.ns_st_dpt=String(n-e.getPlaylist().getClip().getPlaybackTimestamp()),e.getStateMachine().getCurrentState()==a.BUFFERING_DURING_PLAYBACK?(t.ns_st_bp=String(e.getPlaylist().getBufferingTime()+(n-e.getPlaylist().getBufferingTimestamp())),t.ns_st_bt=String(e.getPlaylist().getClip().getBufferingTime()+(n-e.getPlaylist().getClip().getBufferingTimestamp())),t.ns_st_dbt=String(n-e.getPlaylist().getClip().getBufferingTimestamp())):t.ns_st_dbt=String(e.getPlaylist().getClip().getBufferingTime()-e.getPlaylist().getClip().getPreviousBufferingTime()),t.ns_st_et=String(e.getPlaylist().getClip().getElapsedTime()+(n-e.getPlaylist().getClip().getElapsedTimestamp())),t.ns_st_det=String(n-e.getPlaylist().getClip().getElapsedTimestamp());var r=s.cloneObject(e.getPlaylist().getClip().getClipPlaybackIntervals()),l=s.cloneObject(e.getPlaylist().getClip().getAssetPlaybackIntervals());r=s.addNewPlaybackInterval(r,e.getPlaylist().getClip().getPlaybackStartPosition(),parseInt(t.ns_st_po),e.getPlaylist().getClip().getPlaybackIntervalMergeTolerance()),l=s.addNewPlaybackInterval(l,e.getPlaylist().getClip().getPlaybackStartPosition(),parseInt(t.ns_st_po),e.getPlaylist().getClip().getPlaybackIntervalMergeTolerance());var u,p,m=0;for(u=0;u<r.length;u++)m+=Math.abs(r[u].end-r[u].start);t.ns_st_upc=String(m),t.ns_st_dupc=String(m-e.getPlaylist().getClip().getUniquePlaybackInterval());var f=0;for(u=0;u<r.length;u++)(p=Math.abs(r[u].end-r[u].start))>f&&(f=p);t.ns_st_lpc=String(f),t.ns_st_dlpc=String(f-e.getPlaylist().getClip().getLongestPlaybackInterval());var v=0;for(u=0;u<l.length;u++)v+=Math.abs(l[u].end-l[u].start);t.ns_st_upa=String(v),t.ns_st_dupa=String(v-e.getPlaylist().getClip().getAssetUniquePlaybackInterval());var g=0;for(u=0;u<l.length;u++)(p=Math.abs(l[u].end-l[u].start))>g&&(g=p);t.ns_st_lpa=String(g),t.ns_st_dlpa=String(g-e.getPlaylist().getClip().getAssetLongestPlaybackInterval()),t.ns_st_hc=String(e.getHeartbeat().getCount());var h=e.getSSECore().createLabels(i.HEARTBEAT,t,n);e.getEventManager().newEvent(h),o=0,d.resume()}function n(){null!=r&&(e.getSSECore().getPlatformAPI().clearTimeout(r),r=null)}var r,o,c,d=this,u=l.DEFAULT_HEARTBEAT_INTERVAL;s.extend(this,{getCount:function(){return c},setIntervals:function(e){u=e},getInterval:function(e){var t=0;if(null!=u)for(var n=0;n<u.length;n++){var i=u[n],a=i.playingtime;if(!a||a>e){t=i.interval;break}}return t},resume:function(){n();var i=d.getInterval(e.getPlaylist().getClip().getPlaybackTime()+(+new Date-e.getPlaylist().getClip().getPlaybackTimestamp()));if(i>0){var a=o>0?o:i;r=e.getSSECore().getPlatformAPI().setTimeout(t,a)}o=0},pause:function(){n();var t=d.getInterval(e.getPlaylist().getClip().getPlaybackTime()+(+new Date-e.getPlaylist().getClip().getPlaybackTimestamp()));o=t-(e.getPlaylist().getClip().getPlaybackTime()+(+new Date-e.getPlaylist().getClip().getPlaybackTimestamp()))%t}}),o=0,c=0},m=function(e){function t(){var t={},n=s.fixEventTime(t);t.ns_st_po=String(e.getPlaylist().getClip().getExpectedPlaybackPosition(n)),e.getPlaylist().addPlaybackTime(n),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().addPlaybackTime(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getStateMachine().getCurrentState()==a.BUFFERING_DURING_PLAYBACK&&(e.getPlaylist().addBufferingTime(n),e.getPlaylist().setBufferingTimestamp(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().setBufferingTimestamp(n)),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().addInterval(parseInt(t.ns_st_po)),e.getPlaylist().getClip().setPlaybackStartPosition(parseInt(t.ns_st_po));var r=e.getSSECore().createLabels(i.KEEPALIVE,t,n);e.getEventManager().newEvent(r),o.resume()}function n(){null!=r&&(e.getSSECore().getPlatformAPI().clearTimeout(r),r=null)}var r,o=this,c=l.DEFAULT_KEEP_ALIVE_INTERVAL;s.extend(o,{resume:function(){n(),r=e.getSSECore().getPlatformAPI().setTimeout(t,c)},pause:function(){n()},setInterval:function(e){c=e},getInterval:function(){return c}})},f=function(e){var t,n,r,o=this;s.extend(o,{eventTypeToState:function(e){if(r==a.IDLE){if(e==i.PLAY)return a.PLAYING;if(e==i.SEEK_START)return a.SEEKING_BEFORE_PLAYBACK;if(e==i.BUFFER)return a.BUFFERING_BEFORE_PLAYBACK}else if(r==a.PLAYBACK_NOT_STARTED){if(e==i.PLAY)return a.PLAYING;if(e==i.SEEK_START)return a.SEEKING_BEFORE_PLAYBACK;if(e==i.BUFFER)return a.BUFFERING_BEFORE_PLAYBACK;if(e==i.END||e==i.AD_SKIP)return a.IDLE}else if(r==a.PLAYING){if(e==i.END||e==i.AD_SKIP)return a.IDLE;if(e==i.BUFFER)return a.BUFFERING_DURING_PLAYBACK;if(e==i.PAUSE)return a.PAUSED;if(e==i.SEEK_START)return a.SEEKING_DURING_PLAYBACK}else if(r==a.PAUSED){if(e==i.END||e==i.AD_SKIP)return a.IDLE;if(e==i.BUFFER)return a.BUFFERING_DURING_PAUSE;if(e==i.PLAY)return a.PLAYING;if(e==i.SEEK_START)return a.SEEKING_DURING_PAUSE}else if(r==a.BUFFERING_BEFORE_PLAYBACK){if(e==i.END||e==i.AD_SKIP)return a.IDLE;if(e==i.PAUSE||e==i.BUFFER_STOP)return a.PLAYBACK_NOT_STARTED;if(e==i.PLAY)return a.PLAYING;if(e==i.SEEK_START)return a.SEEKING_BEFORE_PLAYBACK}else if(r==a.BUFFERING_DURING_PLAYBACK){if(e==i.END||e==i.AD_SKIP)return a.IDLE;if(e==i.PLAY||e==i.BUFFER_STOP)return a.PLAYING;if(e==i.PAUSE_ON_BUFFERING)return a.PAUSED_DURING_BUFFERING;if(e==i.SEEK_START)return a.SEEKING_DURING_BUFFERING;if(e==i.PAUSE)return a.PAUSED}else if(r==a.BUFFERING_DURING_SEEKING){if(e==i.END||e==i.AD_SKIP)return a.IDLE;if(e==i.PLAY)return a.PLAYING;if(e==i.BUFFER_STOP)return a.SEEKING_DURING_PLAYBACK;if(e==i.PAUSE)return a.PAUSED}else if(r==a.BUFFERING_DURING_PAUSE){if(e==i.END||e==i.AD_SKIP)return a.IDLE;if(e==i.PLAY)return a.PLAYING;if(e==i.SEEK_START)return a.SEEKING_DURING_PAUSE;if(e==i.BUFFER_STOP||e==i.PAUSE)return a.PAUSED}else if(r==a.SEEKING_BEFORE_PLAYBACK){if(e==i.END||e==i.AD_SKIP)return a.IDLE;if(e==i.PAUSE)return a.PLAYBACK_NOT_STARTED;if(e==i.PLAY)return a.PLAYING;if(e==i.BUFFER)return a.BUFFERING_BEFORE_PLAYBACK}else if(r==a.SEEKING_DURING_PLAYBACK){if(e==i.END||e==i.AD_SKIP)return a.IDLE;if(e==i.PLAY)return a.PLAYING;if(e==i.PAUSE)return a.PAUSED;if(e==i.BUFFER)return a.BUFFERING_DURING_SEEKING}else if(r==a.SEEKING_DURING_BUFFERING){if(e==i.END||e==i.AD_SKIP)return a.IDLE;if(e==i.PLAY)return a.PLAYING;if(e==i.PAUSE||e==i.BUFFER_STOP)return a.PAUSED}else if(r==a.SEEKING_DURING_PAUSE){if(e==i.END||e==i.AD_SKIP)return a.IDLE;if(e==i.PLAY)return a.PLAYING;if(e==i.PAUSE||e==i.BUFFER_STOP)return a.PAUSED;if(e==i.BUFFER)return a.BUFFERING_DURING_PAUSE}else if(r==a.PAUSED_DURING_BUFFERING){if(e==i.END||e==i.AD_SKIP)return a.IDLE;if(e==i.SEEK_START)return a.SEEKING_DURING_BUFFERING;if(e==i.PAUSE)return a.PAUSED;if(e==i.PLAY||e==i.BUFFER_STOP)return a.PLAYING}return null},getCurrentState:function(){return r},newEvent:function(e,i){var a=o.eventTypeToState(e);r!=a&&(n=r,r=a,t=i)},getPreviousState:function(){return n},getLastStateChangeTimestamp:function(){return t}}),r=a.IDLE,n=null,t=NaN},v=function(e){s.extend(this,{onSeekStartWhenPausedOrBufferingDuringPause:function(t,n){var i=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().isCollectingSeekingTime()||(e.getPlaylist().getClip().setSeekingTimestamp(t),e.getPlaylist().getClip().setCollectingSeekingTime(!0)):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(i),e.getPlaylist().getClip().setSeekingTimestamp(t))},onBufferWhenSeekingOrPlayBackNotStartedOrPaused:function(t,n){e.getPlaylist().setBufferingTimestamp(t),e.getPlaylist().getClip().setBufferingTimestamp(t)},onPlayWhenSeekingDuringBufferingOrSeekingDuringPause:function(t,n){var a=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(a),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(a),e.getHeartbeat().resume(),e.getKeepAlive().resume();var r=e.getSSECore().createLabels(i.PLAY,n,t);e.getEventManager().newEvent(r)},onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t)},onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause:function(t,n){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause:function(t,n){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().getClip().addElapsedTime(t);var a=e.getSSECore().createLabels(i.END,n,t);e.getEventManager().newEvent(a),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(t-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&s.parseBoolean(n.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause:function(t,n){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))}})},g=function(e){s.extend(this,{onEndOrAdSkip:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&e.getPlaylist().getClip().setSeekingTimeBeforeEnd(t-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&s.parseBoolean(n.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onBufferStop:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onSeekStart:function(t,n){var i=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().isCollectingSeekingTime()||(e.getPlaylist().getClip().setSeekingTimestamp(t),e.getPlaylist().getClip().setCollectingSeekingTime(!0)):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(i),e.getPlaylist().getClip().setSeekingTimestamp(t))},onPause:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onPlay:function(t,n){var a=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(a),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(a),e.getSSECore().isLoadingTimeSent()||(n.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+t-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var r=e.getSSECore().createLabels(i.PLAY,n,t);e.getEventManager().newEvent(r)}})},h=function(e){s.extend(this,{onEndAndSkip:function(t,n){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().addElapsedTime(t);var a=e.getSSECore().createLabels(i.END,n,t);e.getEventManager().newEvent(a),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(t-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&s.parseBoolean(n.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPause:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t)},onPlay:function(t,n){var a=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(a),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(a),e.getHeartbeat().resume(),e.getKeepAlive().resume();var r=e.getSSECore().createLabels(i.PLAY,n,t);e.getEventManager().newEvent(r)}})},b=function(e){s.extend(this,{onPauseOnBuffering:function(t,n){var a=parseInt(n.ns_st_po);e.getSSECore().stopPausedOnBufferingTimer(),e.getHeartbeat().pause(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addPlaybackTime(t),e.getPlaylist().getClip().addPlaybackTime(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().addInterval(a),e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var r=e.getSSECore().createLabels(i.PAUSE,n,t);e.getEventManager().newEvent(r),e.getPlaylist().setBufferingTimestamp(t),e.getPlaylist().getClip().setBufferingTimestamp(t),e.getPlaylist().getClip().setPlaybackTimeOffset(a)},onBufferStop:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t)},onEndOrAdSkip:function(t,n){var a=parseInt(n.ns_st_po);e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().addPlaybackTime(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().addInterval(a);var r=e.getSSECore().createLabels(i.END,n,t);e.getEventManager().newEvent(r),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&s.parseBoolean(n.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onSeekStart:function(t,n){var a=parseInt(n.ns_st_po);e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addPlaybackTime(t),e.getPlaylist().getClip().addPlaybackTime(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().addInterval(a),e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(a),e.getPlaylist().getClip().setSeekingTimestamp(t),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var r=e.getSSECore().createLabels(i.PAUSE,n,t);e.getEventManager().newEvent(r)},onPause:function(t,n){var a=parseInt(n.ns_st_po);e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addPlaybackTime(t),e.getPlaylist().getClip().addPlaybackTime(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().addInterval(a),e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var r=e.getSSECore().createLabels(i.PAUSE,n,t);e.getEventManager().newEvent(r)},onPlay:function(t,n){e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t)}})},y=function(e){s.extend(this,{onEndOrAdSkip:function(t,n){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().addElapsedTime(t);var a=e.getSSECore().createLabels(i.END,n,t);e.getEventManager().newEvent(a),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(t-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&s.parseBoolean(n.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPause:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onPlay:function(t,n){var a=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(a),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(a),e.getHeartbeat().resume(),e.getKeepAlive().resume();var r=e.getSSECore().createLabels(i.PLAY,n,t);e.getEventManager().newEvent(r)}})},k=function(e){s.extend(this,{onBuffer:function(t,n){e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()),e.getPlaylist().setBufferingTimestamp(t),e.getPlaylist().getClip().setBufferingTimestamp(t)},onSeekStart:function(t,n){var i=parseInt(n.ns_st_po);e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()),e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(i),e.getPlaylist().getClip().setSeekingTimestamp(t)},onPlay:function(t,n){var a=parseInt(n.ns_st_po);e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().addSeekingAmount(a),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabel("ns_st_pn"))<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabel("ns_st_pn"))),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(a),e.getSSECore().isLoadingTimeSent()||(n.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+t-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var r=e.getSSECore().createLabels(i.PLAY,n,t);e.getEventManager().newEvent(r)}})},S=function(e){s.extend(this,{onEndOrAdSkip:function(t,n){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().getClip().addElapsedTime(t);var a=e.getSSECore().createLabels(i.END,n,t);e.getEventManager().newEvent(a),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(t-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&s.parseBoolean(n.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPlay:function(t,n){var a=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(a),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(a),e.getHeartbeat().resume(),e.getKeepAlive().resume();var r=e.getSSECore().createLabels(i.PLAY,n,t);e.getEventManager().newEvent(r)}})},E=function(e){s.extend(this,{onEndOrAdSkip:function(t,n){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().addElapsedTime(t);var a=e.getSSECore().createLabels(i.END,n,t);e.getEventManager().newEvent(a),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(t-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&s.parseBoolean(n.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onBufferStop:function(t,n){var a=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(a),e.getHeartbeat().resume(),e.getKeepAlive().resume();var r=e.getSSECore().createLabels(i.PLAY,n,t);e.getEventManager().newEvent(r)},onSeekStart:function(t,n){var i=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().isCollectingSeekingTime()||(e.getPlaylist().getClip().setSeekingTimestamp(t),e.getPlaylist().getClip().setCollectingSeekingTime(!0)):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(i),e.getPlaylist().getClip().setSeekingTimestamp(t))},onPause:function(t,n){e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses()},onPlay:function(t,n){var a=parseInt(n.ns_st_po);e.getPlaylist().addBufferingTime(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(a),e.getHeartbeat().resume(),e.getKeepAlive().resume();var r=e.getSSECore().createLabels(i.PLAY,n,t);e.getEventManager().newEvent(r)}})},C=function(e){s.extend(this,{onEndOrAdSkip:function(t,n){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(t-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&s.parseBoolean(n.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onSeekStart:function(t,n){var i=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().setSeekingTimestamp(t):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(i),e.getPlaylist().getClip().setSeekingTimestamp(t))},onPlay:function(t,n){var a=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().addSeekingAmount(a),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(a),e.getSSECore().isLoadingTimeSent()||(n.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+t-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var r=e.getSSECore().createLabels(i.PLAY,n,t);e.getEventManager().newEvent(r)}})},O=function(e){s.extend(this,{onEndOrAdSkip:function(t,n){var a=parseInt(n.ns_st_po);e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addPlaybackTime(t),e.getPlaylist().getClip().addPlaybackTime(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().addInterval(a);var r=e.getSSECore().createLabels(i.END,n,t);e.getEventManager().newEvent(r),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&s.parseBoolean(n.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onBuffer:function(t,n){e.getSSECore().isPauseOnBufferingEnabled()&&e.getSSECore().startPausedOnBufferingTimer(t,n),e.getPlaylist().getClip().incrementBufferCount(),e.getPlaylist().setBufferingTimestamp(t),e.getPlaylist().getClip().setBufferingTimestamp(t)},onSeekStart:function(t,n){var a=parseInt(n.ns_st_po);e.getHeartbeat().pause(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addPlaybackTime(t),e.getPlaylist().getClip().addPlaybackTime(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().addInterval(a),e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(a),e.getPlaylist().getClip().setSeekingTimestamp(t),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var r=e.getSSECore().createLabels(i.PAUSE,n,t);e.getEventManager().newEvent(r)},onPause:function(t,n){var a=parseInt(n.ns_st_po);e.getHeartbeat().pause(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addPlaybackTime(t),e.getPlaylist().getClip().addPlaybackTime(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().addInterval(a),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var r=e.getSSECore().createLabels(i.PAUSE,n,t);e.getEventManager().newEvent(r)}})},_=function(e){s.extend(this,{onEndOrAdSkip:function(t,n){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(t-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&s.parseBoolean(n.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPause:function(t,n){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onPlay:function(t,n){var a=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(a),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(a),e.getSSECore().isLoadingTimeSent()||(n.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+t-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var r=e.getSSECore().createLabels(i.PLAY,n,t);e.getEventManager().newEvent(r)}})},w=function(e){s.extend(this,{onPause:function(t,n){e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1))}})},P=function(e){s.extend(this,{onEndOrAdSkip:function(t,n){parseInt(n.ns_st_po),e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().getClip().addElapsedTime(t);var a=e.getSSECore().createLabels(i.END,n,t);e.getEventManager().newEvent(a),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(t-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&s.parseBoolean(n.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPlay:function(t,n){var a=parseInt(n.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(t),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(a),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().setPlaybackStartPosition(a),e.getSSECore().isLoadingTimeSent()||(n.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+t-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var r=e.getSSECore().createLabels(i.PLAY,n,t);e.getEventManager().newEvent(r)}})},N=function(){function e(e){var t=c.getStateMachine().getCurrentState();if(t==a.IDLE||t==a.PLAYBACK_NOT_STARTED||t==a.BUFFERING_BEFORE_PLAYBACK||t==a.SEEKING_BEFORE_PLAYBACK){if(e==i.PLAY)return!0}else if(t==a.PLAYING){if(e==i.END||e==i.AD_SKIP||e==i.SEEK_START||e==i.PAUSE)return!0}else if(t==a.PAUSED||t==a.BUFFERING_DURING_PAUSE||t==a.SEEKING_DURING_PLAYBACK||t==a.SEEKING_DURING_BUFFERING||t==a.SEEKING_DURING_PAUSE){if(e==i.END||e==i.AD_SKIP||e==i.PLAY)return!0}else if(t==a.BUFFERING_DURING_PLAYBACK){if(e==i.PAUSE_ON_BUFFERING||e==i.END||e==i.AD_SKIP||e==i.SEEK_START||e==i.PAUSE||e==i.PLAY)return!0}else if(t==a.BUFFERING_DURING_SEEKING){if(e==i.END||e==i.AD_SKIP||e==i.PAUSE||e==i.PLAY)return!0}else if(t==a.PAUSED_DURING_BUFFERING&&(e==i.END||e==i.AD_SKIP||e==i.BUFFER_STOP||e==i.PLAY))return!0;return!1}function r(t,n,r){var o=c.getStateMachine().getCurrentState();t==i.AD_SKIP&&!r.hasOwnProperty("ns_st_ui")&&e(t)?r.ns_st_ui="skip":t==i.SEEK_START&&!r.hasOwnProperty("ns_st_ui")&&e(t)&&(r.ns_st_ui="seek"),o==a.IDLE?t==i.BUFFER?N.onBuffer(n,r):t==i.SEEK_START?N.onSeekStart(n,r):t==i.PLAY&&N.onPlay(n,r):o==a.PLAYBACK_NOT_STARTED?t==i.END||t==i.AD_SKIP?I.onEndOrAdSkip(n,r):t==i.SEEK_START?I.onSeekStart(n,r):t==i.PLAY?I.onPlay(n,r):t==i.BUFFER&&U.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(n,r):o==a.PLAYING?t==i.END||t==i.AD_SKIP?A.onEndOrAdSkip(n,r):t==i.BUFFER?A.onBuffer(n,r):t==i.SEEK_START?A.onSeekStart(n,r):t==i.PAUSE&&A.onPause(n,r):o==a.PAUSED?t==i.END||t==i.AD_SKIP?D.onEndOrAdSkip(n,r):t==i.PLAY?D.onPlay(n,r):t==i.BUFFER?U.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(n,r):t==i.SEEK_START&&U.onSeekStartWhenPausedOrBufferingDuringPause(n,r):o==a.BUFFERING_BEFORE_PLAYBACK?t==i.END||t==i.AD_SKIP?j.onEndOrAdSkip(n,r):t==i.BUFFER_STOP?j.onBufferStop(n,r):t==i.SEEK_START?j.onSeekStart(n,r):t==i.PAUSE?j.onPause(n,r):t==i.PLAY&&j.onPlay(n,r):o==a.BUFFERING_DURING_PLAYBACK?t==i.PAUSE_ON_BUFFERING?x.onPauseOnBuffering(n,r):t==i.BUFFER_STOP?x.onBufferStop(n,r):t==i.END||t==i.AD_SKIP?x.onEndOrAdSkip(n,r):t==i.SEEK_START?x.onSeekStart(n,r):t==i.PAUSE?x.onPause(n,r):t==i.PLAY&&x.onPlay(n,r):o==a.BUFFERING_DURING_SEEKING?t==i.END||t==i.AD_SKIP?L.onEndOrAdSkip(n,r):t==i.PAUSE?L.onPause(n,r):t==i.PLAY?L.onPlay(n,r):t==i.BUFFER_STOP&&U.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(n,r):o==a.BUFFERING_DURING_PAUSE?t==i.END||t==i.AD_SKIP?F.onEndAndSkip(n,r):t==i.PAUSE?F.onPause(n,r):t==i.PLAY?F.onPlay(n,r):t==i.SEEK_START?U.onSeekStartWhenPausedOrBufferingDuringPause(n,r):t==i.BUFFER_STOP&&U.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(n,r):o==a.SEEKING_BEFORE_PLAYBACK?t==i.END||t==i.AD_SKIP?R.onEndOrAdSkip(n,r):t==i.PAUSE?R.onPause(n,r):t==i.PLAY?R.onPlay(n,r):t==i.BUFFER&&U.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(n,r):o==a.SEEKING_DURING_PLAYBACK?t==i.END||t==i.AD_SKIP?B.onEndOrAdSkip(n,r):t==i.PLAY?B.onPlay(n,r):t==i.BUFFER?U.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(n,r):t==i.PAUSE&&U.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(n,r):o==a.SEEKING_DURING_BUFFERING?t==i.PAUSE?V.onPause(n,r):t==i.BUFFER?U.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(n,r):t==i.PLAY?U.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(n,r):t==i.END||t==i.AD_SKIP?U.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(n,r):t==i.BUFFER_STOP&&U.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(n,r):o==a.PAUSED_DURING_BUFFERING?t==i.END||t==i.AD_SKIP?M.onEndOrAdSkip(n,r):t==i.BUFFER_STOP?M.onBufferStop(n,r):t==i.SEEK_START?M.onSeekStart(n,r):t==i.PAUSE?M.onPause(n,r):t==i.PLAY&&M.onPlay(n,r):o==a.SEEKING_DURING_PAUSE&&(t==i.BUFFER?U.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(n,r):t==i.PLAY?U.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(n,r):t==i.PAUSE?U.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(n,r):t==i.END||t==i.AD_SKIP?U.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(n,r):t==i.BUFFER_STOP&&U.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(n,r)),e(t)&&c.getPlaylist().setFirstEventSent(!0)}var c,N,D,I,A,j,x,L,F,M,R,V,B,U,q,G,H,W,z,Q,K,Y,$,X,J,Z,ee=this,te={},ne=l.DEFAULT_PAUSED_ON_BUFFERING_INTERVAL,ie=l.THROTTLING_DELAY;s.extend(ee,{createLabels:function(e,t,n){var a={};if("undefined"!=typeof document){var r=document;a.c7=r.URL,a.c8=r.title,a.c9=r.referrer}return null!=t&&s.extend(a,t),a.ns_ts=null!=a.ns_ts?a.ns_ts:String(+new Date),a.ns_st_ev=null!=a.ns_st_ev?a.ns_st_ev:i.toString(e),a.ns_st_mp=null!=a.ns_st_mp?a.ns_st_mp:l.DEFAULT_PLAYERNAME,a.ns_st_mv=null!=a.ns_st_mv?a.ns_st_mv:l.STREAMSENSE_VERSION,a.ns_st_ub=null!=a.ns_st_ub?a.ns_st_ub:"0",a.ns_st_br=null!=a.ns_st_br?a.ns_st_br:"0",a.ns_st_pn=null!=a.ns_st_pn?a.ns_st_pn:"1",a.ns_st_tp=null!=a.ns_st_tp?a.ns_st_tp:"1",a.ns_st_it=null!=a.ns_st_it?a.ns_st_it:o.toString(o.SINGLE_CLIP),a.ns_st_sv=null!=a.ns_st_sv?a.ns_st_sv:l.STREAMSENSE_VERSION,a.ns_st_smv=null!=a.ns_st_smv?a.ns_st_smv:l.MODEL_VERSION,a.ns_type=null!=a.ns_type?a.ns_type:"hidden",a.ns_st_ec=null!=a.ns_st_ec?a.ns_st_ec:String(c.getEventManager().getEventCounter()),a.ns_st_po=null!=a.ns_st_po?a.ns_st_po:String(c.getPlaylist().getPlaylist().getClip().getExpectedPlaybackPosition(n)),a.ns_st_ki=null!=a.ns_st_ki?a.ns_st_ki:String(c.getKeepAlive().getInterval()),c.getPlaylist().createLabels(a),c.getPlaylist().getClip().createLabels(a),s.extend(a,ee.getLabels()),s.extend(a,t),{eventType:e,eventLabels:a}},newEvent:function(e,t,n,o){ee.stopDelayedTransitionTimer();var s=c.getStateMachine().getCurrentState(),l=c.getStateMachine().eventTypeToState(e);if(null!=l&&l!=s)if(!ee.isThrottlingEnabled()||s!=a.PLAYING&&s!=a.PAUSED||l!=a.PLAYING&&l!=a.PAUSED||o){n.ns_st_po||(c.getStateMachine().getCurrentState()==a.PLAYING&&e==i.BUFFER||c.getStateMachine().getCurrentState()==a.BUFFERING_DURING_PLAYBACK&&e==i.BUFFER_STOP?n.ns_st_po=String(c.getPlaylist().getClip().getPlaybackTimeOffset()+(t-c.getPlaylist().getClip().getPlaybackTimestamp())):n.ns_st_po=String(c.getPlaylist().getClip().getExpectedPlaybackPosition(t))),r(e,t,n);var d=0;isNaN(c.getStateMachine().getLastStateChangeTimestamp())||(d=t-c.getStateMachine().getLastStateChangeTimestamp()),c.getStateMachine().newEvent(e,t);for(var u=0,p=Y.length;p>u;u++)Y[u](s,l,n,d)}else K=c.getPlatformAPI().setTimeout(function(e,n,i){return function(){ee.newEvent(e,t,i,!0)}}(e,0,n),ie)},newPseudoEvent:function(e,t,r){if(e!=i.LOAD&&e!=i.START||c.getStateMachine().getCurrentState()==a.IDLE){e!=i.ERROR||r.ns_st_er||(r.ns_st_er=n.UNKNOWN_VALUE),c.getStateMachine().getCurrentState()!=a.IDLE&&c.getStateMachine().getCurrentState()!=a.PLAYBACK_NOT_STARTED&&c.getStateMachine().getCurrentState()!=a.SEEKING_BEFORE_PLAYBACK&&c.getStateMachine().getCurrentState()!=a.BUFFERING_BEFORE_PLAYBACK&&(c.getPlaylist().getClip().addElapsedTime(t),c.getPlaylist().getClip().setElapsedTimestamp(t));var o,s,l,d=!0,u=!1;switch(e){case i.BIT_RATE:o="ns_st_br",s="ns_st_pbr",u=!0;break;case i.PLAYBACK_RATE:o="ns_st_rt",s="ns_st_prt",u=!0;break;case i.VOLUME:o="ns_st_vo",s="ns_st_pvo",u=!0;break;case i.WINDOW_STATE:o="ns_st_ws",s="ns_st_pws",u=!0;break;case i.AUDIO:o="ns_st_at",s="ns_st_pat",u=!1;break;case i.VIDEO:o="ns_st_vt",s="ns_st_pvt",u=!1;break;case i.SUBS:o="ns_st_tt",s="ns_st_ptt",u=!1;break;case i.CDN:o="ns_st_cdn",s="ns_st_pcdn",u=!1;break;default:d=!1}if(d&&r.hasOwnProperty(o)&&(u?(ee.getLabels().hasOwnProperty(o)&&(l=ee.getLabels()[o],r[s]=l),ee.setLabel(o,r[o])):(c.getPlaylist().getClip().getLabels().hasOwnProperty(o)&&(l=c.getPlaylist().getClip().getLabels()[o],r[s]=l),c.getPlaylist().getClip().setLabel(o,r[o]))),!d||c.getStateMachine().getCurrentState()==a.PLAYING||c.getStateMachine().getCurrentState()==a.BUFFERING_DURING_PLAYBACK){r.ns_st_po||(r.ns_st_po=String(c.getPlaylist().getClip().getExpectedPlaybackPosition(t))),c.getStateMachine().getCurrentState()!=a.PLAYING&&c.getStateMachine().getCurrentState()!=a.BUFFERING_DURING_PLAYBACK||(c.getPlaylist().addPlaybackTime(t),c.getPlaylist().setPlaybackTimestamp(t),c.getPlaylist().getClip().addPlaybackTime(t),c.getPlaylist().getClip().setPlaybackTimestamp(t),c.getPlaylist().getClip().addInterval(parseInt(r.ns_st_po)),c.getPlaylist().getClip().setPlaybackStartPosition(parseInt(r.ns_st_po))),c.getStateMachine().getCurrentState()!=a.BUFFERING_BEFORE_PLAYBACK&&c.getStateMachine().getCurrentState()!=a.BUFFERING_DURING_PAUSE&&c.getStateMachine().getCurrentState()!=a.BUFFERING_DURING_PLAYBACK&&c.getStateMachine().getCurrentState()!=a.BUFFERING_DURING_SEEKING||(c.getPlaylist().addBufferingTime(t),c.getPlaylist().setBufferingTimestamp(t),c.getPlaylist().getClip().addBufferingTime(t),c.getPlaylist().getClip().setBufferingTimestamp(t));var p=ee.createLabels(e,r,t);c.getEventManager().newEvent(p)}}},getState:function(){return c.getStateMachine().getCurrentState()},addListener:function(e){Y.push(e)},removeListener:function(e){Y.splice(s.indexOf(e,Y),1)},getLabel:function(e){return $[e]},getLabels:function(){return $},setLabel:function(e,t){null==t?delete $[e]:$[e]=t},setLabels:function(e){for(var t in e)e.hasOwnProperty(t)&&ee.setLabel(t,e[t])},getPlatformAPI:function(){return c.getAppCore()?c.getAppCore().getPlatformAPI():t},getExports:function(){return te},isProperlyInitialized:function(){var e=c.getAppCore().getAppContext(),t=c.getAppCore().getSalt(),n=c.getAppCore().getPixelURL();return e&&n&&t},setImplementationType:function(e){c.getStateMachine().getCurrentState()!=a.IDLE||e!=o.SINGLE_CLIP&&e!=o.SEGMENTED&&e!=o.REDUCED||c.getPlaylist().setLabel("ns_st_it",o.toString(e))},setThrottlingDelay:function(e){ie=e},getThrottlingDelay:function(){return ie},isThrottlingEnabled:function(){return Q},setThrottlingEnabled:function(e){Q=e},isLoadingTimeSent:function(){return q},setLoadingTimeSent:function(e){q=e},getLoadTimeOffset:function(){return G},setLoadTimeOffset:function(e){G=e},getInitTimestamp:function(){return H},setPauseOnBufferingInterval:function(e){ne=e},getPauseOnBufferingInterval:function(){return ne},isPauseOnBufferingEnabled:function(){return W},setPauseOnBufferingEnabled:function(e){W=e},startPausedOnBufferingTimer:function(e,t){ee.stopPausedOnBufferingTimer(),z=ee.getPlatformAPI().setTimeout((function(){var n={},a=s.fixEventTime(n),r=parseInt(t.ns_st_po);n.ns_st_po=String(r+a-e),ee.newEvent(i.PAUSE_ON_BUFFERING,a,n)}),ne)},stopPausedOnBufferingTimer:function(){null!=z&&(ee.getPlatformAPI().clearTimeout(z),z=null)},stopDelayedTransitionTimer:function(){K&&(ee.getPlatformAPI().clearTimeout(K),K=null)},setPixelURL:function(e){if(null==e||0==e.length)return null;var t=decodeURIComponent||unescape,n=e.indexOf("?");if(n>=0){if(n<e.length-1){for(var i=e.substring(n+1).split("&"),a=0,r=i.length;r>a;a++){var o=i[a].split("=");2==o.length?ee.setLabel(o[0],t(o[1])):1==o.length&&ee.setLabel(l.PAGE_NAME_LABEL,t(o[0]))}e=e.substring(0,n+1)}}else e+="?";return X=e},getPixelURL:function(){return X||("undefined"!=typeof ns_p&&"string"==typeof ns_p.src?X=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):"string"==typeof ns_pixelUrl?X=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null)},getSseSM:function(){return c},resetPlaylist:function(e){var t=c.getPlaylist();c.setPlaylist(new d),d.resetPlaylist(t,c.getPlaylist(),e)},resetHeartbeat:function(){c.getHeartbeat().pause(),c.setHeartbeat(new p(c))},resetKeepAlive:function(){c.getKeepAlive().pause(),c.setKeepAlive(new m(c))}}),s.isBrowser()?(J=window,Z=document):(J={},Z={location:{href:""},title:"",URL:"",referrer:"",cookie:""}),s.extend(this,{prepareUrl:function(e,t){for(var n,i=J.encodeURIComponent||escape,a=[],r=l.LABELS_ORDER,o=e.split("?"),c=o[0],d=o[1].split("&"),u=0,p=d.length;p>u;u++){var m=d[u].split("="),f=unescape(m[0]),v=unescape(m[1]);f&&(t[f]=v)}for(var g={},h=0,b=r.length;b>h;h++){var y=r[h];if(t.hasOwnProperty(y)){var k=t[y];void 0!==k&&null!=k&&(g[y]=!0,a.push(i(y)+"="+i(t[y])))}}for(var S in t)if(t.hasOwnProperty(S)){if(g[S])continue;var E=t[S];void 0!==E&&null!=E&&a.push(i(S)+"="+i(t[S]))}n=(n=c+"?"+a.join("&"))+(n.indexOf("&c8=")<0?"&c8="+i(Z.title):"")+(n.indexOf("&c7=")<0?"&c7="+i(Z.URL):"")+(n.indexOf("&c9=")<0?"&c9="+i(Z.referrer):"");var C=s.browserAcceptsLargeURLs()?l.URL_LENGTH_LIMIT:l.RESTRICTED_URL_LENGTH_LIMIT;if(n.length>C&&n.indexOf("&")>0){var O=n.substr(0,C-8).lastIndexOf("&");n=(n.substring(0,O)+"&ns_cut="+i(n.substring(O+1))).substr(0,C)}return n}}),c=new T(ee),s.getNamespace().comScore?(te=s.getNamespace().comScore.exports,c.setAppCore(te.c())):c.setAppCore(null),c.setKeepAlive(new m(c)),c.setHeartbeat(new p(c)),c.setEventManager(new u(c)),c.setStateMachine(new f),c.setPlaylist(new d),$={},N=new k(c),D=new S(c),I=new C(c),A=new O(c),j=new g(c),x=new b(c),L=new y(c),F=new h(c),M=new E(c),R=new _(c),V=new w(c),B=new P(c),U=new v(c),q=!1,G=0,H=+new Date,W=!0,Q=!1,Y=[]},T=function(e){var t,n,i,a,r,o;s.extend(this,{getAppCore:function(){return t},getSSECore:function(){return e},getEventManager:function(){return n},getStateMachine:function(){return i},getHeartbeat:function(){return a},getKeepAlive:function(){return r},getPlaylist:function(){return o},setAppCore:function(e){t=e},setKeepAlive:function(e){r=e},setHeartbeat:function(e){a=e},setEventManager:function(e){n=e},setStateMachine:function(e){i=e},setPlaylist:function(e){o=e}})},D=function(e,t){function n(){o&&c.getSseSM().getStateMachine().getCurrentState()!=a.IDLE&&u.end()}var o,c,u=this,p=l.STANDARD_METADATA_LABELS;s.extend(this,{isProperlyInitialized:function(){return c.isProperlyInitialized()},reset:function(e){var t=c;t.getSseSM().getKeepAlive().pause(),t.getSseSM().getHeartbeat().pause(),c=new N,d.resetPlaylist(t.getSseSM().getPlaylist(),c.getSseSM().getPlaylist(),e)},setPauseOnBufferingInterval:function(e){c.setPauseOnBufferingInterval(e)},getPauseOnBufferingInterval:function(){return c.getPauseOnBufferingInterval()},setKeepAliveInterval:function(e){c.getSseSM().getKeepAlive().setInterval(e)},getKeepAliveInterval:function(){return c.getSseSM().getKeepAlive().getInterval()},setHeartbeatIntervals:function(e){c.getSseSM().getHeartbeat().setIntervals(e)},play:function(e,t){u.notify(i.PLAY,e,t)},pause:function(e,t){u.notify(i.PAUSE,e,t)},end:function(e,t){u.notify(i.END,e,t)},bufferStart:function(e,t){u.notify(i.BUFFER,e,t)},bufferStop:function(e,t){u.notify(i.BUFFER_STOP,e,t)},load:function(e,t){u.notify(i.LOAD,e,t)},start:function(e,t){u.notify(i.START,e,t)},seekStart:function(e,t){u.notify(i.SEEK_START,e,t)},skipAd:function(e,t){u.notify(i.AD_SKIP,e,t)},callToAction:function(e,t){u.notify(i.CTA,e,t)},error:function(e,t){u.notify(i.ERROR,e,t)},transferPlayback:function(e,t){u.notify(i.TRANSFER,e,t)},drmFail:function(e,t){u.notify(i.DRM_FAILED,e,t)},drmApprove:function(e,t){u.notify(i.DRM_APPROVED,e,t)},drmDeny:function(e,t){u.notify(i.DRM_DENIED,e,t)},changeBitrate:function(e,t,n){if(null!=e){var a=n||{};a.ns_st_br=String(e),u.notify(i.BIT_RATE,a,t)}},changePlaybackRate:function(e,t,n){if(null!=e){var a=n||{};a.ns_st_rt=String(e),u.notify(i.PLAYBACK_RATE,a,t)}},changeVolume:function(e,t,n){if(null!=e){var a=n||{};a.ns_st_vo=String(e),u.notify(i.VOLUME,a,t)}},changeWindowState:function(e,t,n){if(null!=e){var a=n||{};a.ns_st_ws=String(e),u.notify(i.WINDOW_STATE,a,t)}},changeAudio:function(e,t,n){if(null!=e){var a=n||{};a.ns_st_at=String(e),u.notify(i.AUDIO,a,t)}},changeVideo:function(e,t,n){if(null!=e){var a=n||{};a.ns_st_vt=String(e),u.notify(i.VIDEO,a,t)}},changeSubtitle:function(e,t,n){if(null!=e){var a=n||{};a.ns_st_tt=String(e),u.notify(i.SUBS,a,t)}},changeCDN:function(e,t,n){if(null!=e){var a=n||{};a.ns_st_cdn=String(e),u.notify(i.CDN,a,t)}},notify:function(e){var t,n;if(t="object"==r(arguments[1])?arguments[1]:"object"==r(arguments[2])?arguments[2]:{},n="number"==typeof arguments[1]?arguments[1]:"number"==typeof arguments[2]?arguments[2]:NaN,i.toString(e)){t=s.jsonObjectToStringDictionary(t);var a=s.fixEventTime(t);t.ns_st_po||isNaN(n)||(t.ns_st_po=s.getInteger(n,0).toString()),t.ns_st_po&&c.getSseSM().getPlaylist().getClip().setPlaybackTimeOffset(parseInt(t.ns_st_po)),e==i.PLAY||e==i.PAUSE||e==i.BUFFER||e==i.END||e==i.SEEK_START||e==i.AD_SKIP||e==i.BUFFER_STOP?c.newEvent(e,a,t):c.newPseudoEvent(e,a,t)}},getLabels:function(){return c.getLabels()},getState:function(){return c.getSseSM().getStateMachine().getCurrentState()},setLabels:function(e){c.setLabels(e)},getLabel:function(e){return c.getLabel(e)},setLabel:function(e,t){c.setLabel(e,t)},getLoadTimeOffset:function(){return c.getLoadTimeOffset()},setLoadTimeOffset:function(e){c.setLoadTimeOffset(e)},setPixelURL:function(e){return c.setPixelURL(e)},getPixelURL:function(){return c.getSseSM().getSSECore().getPixelURL()},setImplementationType:function(e){c.setImplementationType(e)},isPauseOnBufferingEnabled:function(){return c.isPauseOnBufferingEnabled()},setPauseOnBufferingEnabled:function(e){c.setPauseOnBufferingEnabled(e)},isThrottlingEnabled:function(){return c.isThrottlingEnabled()},setThrottlingEnabled:function(e){c.setThrottlingEnabled(e)},setThrottlingDelay:function(e){c.setThrottlingDelay(e)},getThrottlingDelay:function(){return c.getThrottlingDelay()},setPlaybackIntervalMergeTolerance:function(e){c.getSseSM().getPlaylist().getClip().setPlaybackIntervalMergeTolerance(e)},getPlaybackIntervalMergeTolerance:function(){return c.getSseSM().getPlaylist().getClip().getPlaybackIntervalMergeTolerance()},setClip:function(e,t,n){if(void 0===n&&(n=!0),e=s.jsonObjectToStringDictionary(e),n&&c.getSseSM().getStateMachine().getCurrentState()!==a.IDLE&&u.end(),c.getSseSM().getStateMachine().getCurrentState()==a.IDLE){var i="",r=0;if(null!=e.ns_st_cn)i=String(e.ns_st_cn);else for(var o=0;o<p.length;o++)e[p[o]]&&(i+=p[o]+":"+e[p[o]]+";");var l=c.getSseSM().getPlaylist(),d=l.getClip();d.isClipStarted()?(l.hashExists(d.getHash())||(l.storeHash(d.getHash()),l.storeClipNumber(d.getHash(),d.getClipNumber())),l.storeClipPlaybackCounters(),r=l.hashExists(i)?l.getClipNumber(i):s.exists(e.ns_st_cn)?parseInt(e.ns_st_cn):l.getMaxClipNumber()+1):r=l.hashExists(i)?l.getClipNumber(i):d.getClipNumber(),l.resetClip(),(d=l.getClip()).setHash(i),d.setClipNumber(r),d.setLabels(e);var m=l.getStoredClipRegisters(i);return m&&(d.setClipStarted(!0),d.setSegmentPlaybackCounter(m.segmentPlaybackCounter),d.setClipLoadCounter(m.clipLoadCounter),d.setAssetPlaybackCounter(m.assetPlaybackCounter),d.setLowestPartNumberPlayed(m.lowestPartNumberPlayed),d.setSeeking(m.seeking),d.setSeekingTimeBeforeEnd(m.seekingTimeBeforeEnd),d.setSeekStartPosition(m.seekingStartPosition),d.setClipPlaybackIntervals(m.clipPlaybackIntervals),d.setUniquePlaybackInterval(m.uniquePlaybackInterval),d.setLongestPlaybackInterval(m.longestPlaybackInterval),d.setVideoTrack(m.videoTrack),d.setAudioTrack(m.audioTrack),d.setSubtitleTrack(m.subtitleTrack),d.setCDN(m.cdn),d.setPreviousUniquePlaybackInterval(m.uniquePlaybackInterval),d.setPreviousEventIndependentUniquePlaybackInterval(m.uniquePlaybackInterval),d.setPreviousLongestPlaybackInterval(m.longestPlaybackInterval)),d.incrementClipLoadCounter(),d.isClipStarted()&&t&&(l.incrementPlayCounter(),l.incrementPlaybackCounter()),!0}return!1},setPlaylist:function(e,t){return void 0===t&&(t=!0),e=s.jsonObjectToStringDictionary(e),t&&c.getSseSM().getStateMachine().getCurrentState()!==a.IDLE&&u.end(),c.getSseSM().getStateMachine().getCurrentState()==a.IDLE&&(c.getSseSM().getPlaylist().isPlaylistStarted()&&c.resetPlaylist(),c.getSseSM().getPlaylist().setLabels(e),!0)},importState:function(){},exportState:function(){return{}},getVersion:function(){return l.STREAMSENSE_VERSION},addListener:function(e){c.addListener(e)},removeListener:function(e){c.removeListener(e)},getClip:function(){return console&&console.warn&&console.warn("getClip() is deprecated. Use getPlaylist().getClip() instead."),c.getSseSM().getPlaylist().getClip()},getPlaylist:function(){return c.getSseSM().getPlaylist()},setHttpGet:function(e){"function"==typeof e&&(c.getPlatformAPI().httpGet=e)},setHttpPost:function(e){"function"==typeof e&&(c.getPlatformAPI().httpPost=e)},setExitEndEventEnabled:function(e){o=e},isExitEndEventEnabled:function(){return o},getPlatformAPI:function(){return c.getPlatformAPI()}}),s.extend(this,{customNotify:function(e,t){u.notify(i.CUSTOM,e,t)},viewNotify:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){(e=e||u.getPixelURL())&&viewNotify(e,t)}))}),s.isBrowser()&&(window.addEventListener?(window.addEventListener("beforeunload",n),window.addEventListener("unload",n)):window.attachEvent&&(window.attachEvent("onbeforeunload",n),window.attachEvent("onunload",n))),c=new N,o=!0,e&&u.setLabels(e),t&&u.setPixelURL(t)};return function(t){function n(e,t){return l[d]||a(e,t)}function i(){d=-1;for(var t=0;c>=t;t++)if(l.hasOwnProperty(String(t))){d=t;break}return e.StreamSense.activeIndex=d,d}function a(t,n){return n=n||null,(t=t||null)&&"object"==(void 0===t?"undefined":r(t))&&(n=t,t=null),l[++c]=new e.StreamSense(n,t),i(),l[c]}function o(){var t=!1,n=d;if("number"==typeof arguments[0]&&isFinite(arguments[0]))n=arguments[0];else if(arguments[0]instanceof e.StreamSense)for(var a in l)if(l.hasOwnProperty(a)&&l[a]===arguments[0]){n=a;break}return l.hasOwnProperty(String(n))&&(t=l[n],delete l[n],t.reset(),i()),t}var l={},c=-1,d=-1;s.extend(t,{activeIndex:d,newInstance:a,new:a,destroyInstance:o,destroy:o,newPlaylist:function(e){return e=e||{},n().setPlaylist(e),n().getPlaylist()},newClip:function(e,t,i){return e=e||{},"number"==typeof t&&(e.ns_st_cn=String(t)),n().setClip(e,i),n().getClip()},notify:function(e,t,i){return void 0!==e&&(i=i||null,t=t||{},n().notify(e,t,i))},setLabels:function(e){void 0!==e&&n().setLabels(e)},getLabels:function(){return n().getLabels()},setPlaylistLabels:function(e){void 0!==e&&n().getPlaylist().setLabels(e)},getPlaylistLabels:function(){return n().getPlaylist().getLabels()},setClipLabels:function(e){void 0!==e&&n().getClip().setLabels(e)},getClipLabels:function(){return n().getClip().getLabels()},resetInstance:function(e){return n().reset(e||{})},resetPlaylist:function(e){return n().getPlaylist().reset(e||{})},resetClip:function(e){return n().getClip().reset(e||{})},viewEvent:function(e){return e=e||{},n().viewNotify(null,e)},customEvent:function(e,t){return arguments.length>2&&(e=arguments[1],t=arguments[2]),e=e||{},"number"==typeof t&&(e.ns_st_po=String(t)),n().customNotify(e,t)},exportState:function(){return n().exportState()},importState:function(e){n().importState(e)}})}(D),D.PlayerEvents=i,D.InternalStates=a,D.ImplementationType=o,D}(),e.StreamingTag=e.StreamingTag||(n=e.StreamSense,e.StreamSense.PlayerEvents,i=e.StreamSense.InternalStates||null,a=e.StreamSense.ImplementationType||null,o=null!=e.StreamSense.InternalStates&&null!=e.StreamSense.ImplementationType,(t=function(e){function t(e){for(var t in s.exists(e)||(e={}),h)h.hasOwnProperty(t)&&!s.exists(e[h[t]])&&("ns_st_ci"==h[t]?e.ns_st_ci="0":e[h[t]]="*null");return e}function r(e,t,n){if(s.exists(e)&&s.exists(t)&&s.exists(n)){var i=t[e],a=n[e];return s.exists(i)&&s.exists(a)&&i===a}return!1}function l(e){u++;var t={ns_st_cn:String(u),ns_st_pn:"1",ns_st_tp:"0"};s.extend(t,e),f.setClip(t),p=e,f.play()}function c(e){u++,e=t(e);var n={ns_st_cn:String(u),ns_st_pn:"1",ns_st_tp:"1",ns_st_ad:"1"};s.extend(n,e),f.setClip(n),f.play(),m=!1}function d(e,n){e=t(e),b==g.None&&(b=n),m&&b==n&&function(e){for(var t in h)if(h.hasOwnProperty(t)&&!r(h[t],p,e))return!1;return!0}(e)?(f.getClip().setLabels(e),f.getState()!=i.PLAYING&&f.play()):l(e),m=!0,b=n}var u=0,p=null,m=!1,f=null,v=!1,g={None:0,AudioContent:1,VideoContent:2},h=["ns_st_ci","c3","c4","c6","ns_st_st","ns_st_pu","ns_st_pr","ns_st_ep","ns_st_sn","ns_st_en","ns_st_ct"],b=g.None;s.extend(this,{playAdvertisement:function(){f&&(v&&console&&console.warn("Calling deprecated function 'playAdvertisement'. Please call 'playVideoAdvertisement' or 'playAudioAdvertisement' functions instead."),c({ns_st_ct:"va"}))},playVideoAdvertisement:function(e,t){if(f){var n={ns_st_ct:"va"};t?n.ns_st_ct="va"+t:v&&console&&console.warn("Calling 'playVideoAdvertisement' without specifying the media type as a second parameter."),e&&s.extend(n,e),c(n)}},playAudioAdvertisement:function(e,t){if(f){var n={ns_st_ct:"aa"};t?n.ns_st_ct="aa"+t:v&&console&&console.warn("Calling 'playAudioAdvertisement' without specifying the media type as a second parameter."),e&&s.extend(n,e),c(n)}},playContentPart:function(e){if(f){v&&console&&console.warn("Calling deprecated function 'playContentPart'. Please call 'playVideoContentPart' or 'playAudioContentPart' functions instead.");var t={ns_st_ct:"vc"};e&&s.extend(t,e),d(t,g.VideoContent)}},playVideoContentPart:function(e,t){if(f){var n={ns_st_ct:"vc"};t?n.ns_st_ct="vc"+t:v&&console&&console.warn("Calling 'playVideoContentPart' without specifying the media type as a second parameter."),e&&s.extend(n,e),d(n,g.VideoContent)}},playAudioContentPart:function(e,t){if(f){var n={ns_st_ct:"ac"};t?n.ns_st_ct="ac"+t:v&&console&&console.warn("Calling 'playAudioContentPart' without specifying the media type as a second parameter."),e&&s.extend(n,e),d(n,g.AudioContent)}},stop:function(){f&&f.pause()}}),function(){if(o)if(s.getNamespace().comScore)(f=new n).setImplementationType(a.REDUCED);else if(s.exists(e))if(v=s.isTrue(e.debug),s.exists(e.customerC2)&&e.customerC2.length>0){var t=e.secure?"https://sb":"http"+("s"==document.location.href.charAt(4)?"s://sb":"://b");(f=new n).setPixelURL(t+".scorecardresearch.com/p?c1=2"),f.setLabel("c2",e.customerC2),f.setImplementationType(a.REDUCED)}else v&&console&&console.log("Warning: customerC2 is not provided (or incorrect) in the StreamingTag configuration.")}()}).ContentType={LongFormOnDemand:"12",ShortFormOnDemand:"11",Live:"13",UserGeneratedLongFormOnDemand:"22",UserGeneratedShortFormOnDemand:"21",UserGeneratedLive:"23",Bumper:"99",Other:"00"},t.AdType={LinearOnDemandPreRoll:"11",LinearOnDemandMidRoll:"12",LinearOnDemandPostRoll:"13",LinearLive:"21",Other:"00"},t),e}(a.ns_)}.apply(t,[]))||(e.exports=i)},"1+fb":function(e,t,n){},"1/eP":function(e,t,n){"use strict";function i(){try{return window.self!==window.top}catch(e){return!0}}n.d(t,"a",(function(){return i}))},"1CYo":function(e,t,n){},"1DRi":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"watchPartyProgress"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WatchPartyProgress"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"positionSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"start"},arguments:[],directives:[]}]}}],loc:{start:0,end:91}};n.loc.source={body:"fragment watchPartyProgress on WatchPartyProgress {\ndurationSeconds\npositionSeconds\nstart\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"1ZgY":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ClipsBroadcasterInfo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"28"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:174}};n.loc.source={body:"query ClipsBroadcasterInfo($slug: ID!) {\nclip(slug: $slug) {\nid\ngame {\nid\nname\ndisplayName\n}\nbroadcaster {\nid\nprofileImageURL(width: 28)\ndisplayName\nlogin\nstream {\nid\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ClipsBroadcasterInfo=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ClipsBroadcasterInfo")},"25vm":function(e,t,n){},"2Gp+":function(e,t,n){},"2ycz":function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return h}));var i=n("XmgI"),a=n("RcPG"),r=n("0FG4"),o=n("mrSG"),s=n("VJH5");var l=n("i6WW"),c=n("gTu3"),d=n("6j5V"),u=/^(['"*([{</]*)(@?)((?:[^\u0000-\u007F]|[\w-])+)/;function p(e,t){if(!t)return!1;var n=t.displayName,i=t.login;return e===n||e.toLowerCase()===i}function m(e,t){void 0===t&&(t={});for(var n=e.match(/[^\uD800-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDFFF]/g)||[],i=function(e){if(!e)return[];var t=e.list.filter((function(t){return t.categories[s.TMIFlagCategory.Aggressive]&&e.preferences[s.TMIFlagCategory.Aggressive]||t.categories[s.TMIFlagCategory.Identity]&&e.preferences[s.TMIFlagCategory.Identity]||t.categories[s.TMIFlagCategory.Profanity]&&e.preferences[s.TMIFlagCategory.Profanity]||t.categories[s.TMIFlagCategory.Sexual]&&e.preferences[s.TMIFlagCategory.Sexual]}));return 0===t.length?t:(t.sort((function(e,t){return e.startIndex-t.startIndex})),t.reduce((function(e,t,n){if(0===n)return e.push(t),e;var i=e[e.length-1];return t.startIndex<=i.endIndex+1?(i.endIndex=Math.max(t.endIndex,i.endIndex),i.categories=Object(o.__assign)(Object(o.__assign)({},i.categories),t.categories)):e.push(t),e}),[]))}(t.flags),r=0,l=[];r<n.length;){var c=i&&i.shift();c?(l.push.apply(l,f(n.slice(r,c.startIndex),r,t)),l.push({type:a.a.FlaggedSegment,categories:c.categories,content:v(f(n.slice(c.startIndex,c.endIndex+1),c.startIndex,t)),length:c.endIndex-c.startIndex+1,originalText:n.slice(c.startIndex,c.endIndex+1).join("")}),r=c.endIndex+1):(l.push.apply(l,f(n.slice(r),r,t)),r=n.length)}return v(l)}function f(e,t,n){void 0===n&&(n={});var o=n.cheers,s=n.emotes,m=n.links,f=n.mentions,v="",h=0;return e.reduce((function(n,b,y){if(g(b))return v="",n;if(0===v.length&&(h=t+y),v+=b,y<e.length-1&&function(e){return/[.,!]/.test(e)}(e[y+1]))return(k=s&&Object(r.c)(v,h,s))?(v="",n.concat(k)):n;if(y===e.length-1||g(e[y+1])){var k;if(k=s&&Object(r.c)(v,h,s))return n.concat(k);var S=o&&Object(i.f)(v,o);if(S)return n.concat(S);var E=m&&Object(l.a)(v,m);if(E)return n.concat([E]);var C=f&&function(e,t){var n=e.match(u);if(!n)return null;var i=[],r=n[1],o=Boolean(n[2].length),s=n[3],l=e.slice(n[0].length);if(r.length&&i.push(Object(d.a)(r)),o){var m=c.a.Default;p(s,t.sessionUser)?m=c.a.Recipient:t.sessionUser&&t.sessionUser.login===t.senderLogin&&(m=c.a.Sender),i.push({type:a.a.Mention,content:{recipient:s,currentUserMentionRelation:m}})}else{if(!p(s,t.sessionUser))return null;i.push({type:a.a.CurrentUserHighlight,content:s})}return l.length&&i.push(Object(d.a)(l)),i}(v,f);return C?n.concat([C]):n.concat(Object(d.a)(v))}return n}),[])}function v(e){return e.reduce((function(e,t,n){return 0===n?[].concat.call(e,t):[].concat.call(e,Object(d.a)(" "),t)}),[]).reduce((function(e,t,n){if(0===n)return e.concat(t);var i=e[e.length-1];return t.type===a.a.Text&&i.type===a.a.Text?(i.content=""+i.content+t.content,e):e.concat(t)}),[])}function g(e){return/\s/.test(e)}function h(e){return e.map((function(e){switch(e.type){case a.a.Emote:return{__typename:"MessageFragment",content:{__typename:"Emote",emoteID:e.content.emoteID||"",token:e.content.alt||"",setID:""},text:e.content.alt||""};default:return{__typename:"MessageFragment",content:null,text:e.content.toString()}}}))}},"31gx":function(e,t,n){},"3Jez":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("pVnL"),a=n.n(i),r=n("q1tI"),o=n("P+FS"),s=n("uq9l"),l=n("Yegi"),c=n("hMTT"),d=function(e){return r.createElement(s.a,a()({type:s.e.P,fontSize:l.k.Size7,color:e.overlay?l.f.OverlayAlt:l.f.Alt2},Object(o.a)(e)),e.hint)};d.displayName="FormHintComponent",d.displayName="FormHintComponent";var u=Object(c.b)(d)},"3WXF":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"StreamRefetchManager"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEncrypted"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:440}};n.loc.source={body:"query StreamRefetchManager($channel: String) {\nuser(login: $channel) {\nid\nstream {\nid\n# This field is added so that when the SRM eventually fetches this value\n# the query for the create clip button is able to use the updated stream\n# object in the cache and display the clip button. This would be unnecessary\n# if the apollo corruption-handling worked properly (so that the clip button\n# could implictly refetch its query)\nisEncrypted\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.StreamRefetchManager=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"StreamRefetchManager")},"3dkm":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var i=n("/7QA");function a(){return Object(i.d)("N/A","ClipsRelativeTimeHelper")}function r(e){if(!e)return a();try{return Object(i.h)(new Date(e))}catch(e){return a()}}function o(e){if(e<=0)return"00:00";var t=Math.floor(e/60).toString(),n=Math.floor(e-60*Number(t)).toString();return 1===t.length&&(t="0"+t),1===n.length&&(n="0"+n),t+":"+n}},"4/2i":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("mrSG"),a=n("q1tI"),r=n("f00E"),o=n("OCDW"),s=n("Yegi"),l=n("cBvd"),c=n("2JXh"),d=n("AjB5"),u=n("oBNK"),p=(n("m8ny"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.uid=Object(r.c)(),t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this;return a.createElement(o.a,{display:s.h.Flex,flexWrap:s.j.Wrap},this.props.colors.map((function(t,n){return a.createElement(o.a,{key:t.id||n,margin:{right:.5,bottom:.5}},a.createElement(m,{label:t.label},a.createElement(l.a,{name:"color-swatch-picker-"+e.uid,borderRadius:s.e.Rounded,checked:t.selected,type:l.b.Radio,value:t.cssValue,disabled:t.disabled,onChange:function(n){t.onChange&&t.onChange(n),n.currentTarget.checked&&e.props.onSelect&&e.props.onSelect(t)}},"transparent"===t.cssValue&&a.createElement("hr",{className:"color-swatch-selector__transparent-indicator"}),a.createElement(c.a,{borderRadius:s.e.Rounded},a.createElement("div",{className:"color-swatch-selector__swatch",style:{backgroundColor:"transparent"===t.cssValue?"rgb(211,211,211)":t.cssValue}},""===t.cssValue&&a.createElement(d.a,{color:s.f.Base},a.createElement("svg",{className:"color-swatch-selector__null-indicator",width:20,height:20,version:"1.1",viewBox:"0 0 20 20",x:"0px",y:"0px"},a.createElement("path",{d:"M10 0C4.477 0 0 4.477 0 10s4.477 10 10 10 10-4.477 10-10S15.523 0 10 0zM4.343 14.243L8.586 10 4.343 5.758l1.414-1.415L10 8.586l4.242-4.243 1.415 1.414L11.414 10l4.243 4.243-1.414 1.414L10 11.414l-4.243 4.243-1.414-1.414z"}))))))))})))},t}(a.Component)),m=function(e){return e.label?a.createElement(u.a,Object(i.__assign)({display:s.h.Block,label:e.label},e),e.children):a.createElement(a.Fragment,null,e.children)}},"46wp":function(e,t,n){},"4G6/":function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return b}));var i=n("eAel"),a=i.d/i.e,r=i.c/i.e,o=i.b/i.e,s=i.f/i.e,l=i.a/i.e,c=3,d=/([a-zA-Z])([0-9])/gi,u=/([0-9])([a-zA-Z])/gi,p=/^mo(nths?)?/,m=/^w(eeks?)?/,f=/^d(ays?)?/,v=/^h(ours?)?/,g=/^m(inutes?)?/;function h(e){if(!e)return"0s";var t=e,n="";if(t>l){var i=Math.floor(t/l);t-=i*l,n+=i+"mo"}if(t>s){var c=Math.floor(t/s);t-=c*s,n+=c+"w"}if(t>o){var d=Math.floor(t/o);t-=d*o,n+=d+"d"}if(t>r){var u=Math.floor(t/r);t-=u*r,n+=u+"h"}if(t>a){var p=Math.floor(t/a);t-=p*a,n+=p+"m"}return t>0&&(n+=t+"s"),n}function b(e){var t=0,n=e.replace(d,"$1 $2").replace(u,"$1 $2").split(/\W+/);if(n.length%2!=0)return null;for(var i=0;i<n.length;i+=2){var h=n[i],b=parseInt(h,10);if(Number.isNaN(b)||h.length>c)return null;var y=n[i+1];if(y.match(p))t+=b*l;else if(y.match(m))t+=b*s;else if(y.match(f))t+=b*o;else if(y.match(v))t+=b*r;else{if(!y.match(g))return null;t+=b*a}}return t}},"4L7N":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("/MKj"),a=n("kRBY"),r=n("mrSG"),o=n("q1tI"),s=n("VwyG"),l=n("X7Ac"),c=n("yR8l"),d=n("p9E3"),u=n("MLDe"),p=n("v8tf"),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e,t,n=this,i=this.props.data.clip,a="";if(i&&Array.isArray(i.videoQualities)&&i.videoQualities.length){var r=i.videoQualities[0];if((null==r?void 0:r.sourceURL)&&(null===(e=i.playbackAccessToken)||void 0===e?void 0:e.value)&&(null===(t=i.playbackAccessToken)||void 0===t?void 0:t.signature)){var c=encodeURI(i.playbackAccessToken.value),p=i.playbackAccessToken.signature;a=Object(d.a)(r.sourceURL,c,p)}}var m=this.props,f=m.broadcasterId,v=m.broadcasterLogin,g=m.forceShow;return o.createElement(s.a,{ownerLogin:this.props.broadcasterLogin,permittedRoles:{editor:!0,staff:!0}},(function(e){var t=e.permitted;return a&&(t||g)?o.createElement(l.a,{type:l.c.Download,text:n.props.slug,url:a,onShareClick:i?Object(u.c)(i.id,i.game&&i.game.name,f,v,n.props.pageType):void 0}):null}))},t}(o.Component),f=Object(c.a)(p)(m);var v=Object(i.b)((function(e){var t=Object(a.e)(e);return{userLogin:t?t.login:""}}))(f)},"4Nlk":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return m}));var i,a=n("pVnL"),r=n.n(a),o=n("q1tI"),s=n.n(o),l=n("SWse"),c=n("IyK4"),d=n("Yegi"),u=n("HQtB"),p=n("P+FS");!function(e){e.Top="tw-attached--up",e.Bottom="tw-attached--down",e.Left="tw-attached--left",e.Right="tw-attached--right",e.TopLeft="tw-attached--up tw-attached--left",e.TopRight="tw-attached--up tw-attached--right",e.BottomRight="tw-attached--down tw-attached--right",e.BottomLeft="tw-attached--down tw-attached--left",e.TopCenter="tw-attached--up tw-attached--center",e.BottomCenter="tw-attached--down tw-attached--center",e.LeftCenter="tw-attached--left tw-attached--center",e.RightCenter="tw-attached--right tw-attached--center"}(i||(i={}));var m=function(e){var t,n,a,o,m={"tw-attached":!0};e.direction?m[e.direction]=!0:m[i.Bottom]=!0,e.offsetX&&(e.direction===i.Left||e.direction===i.TopLeft||e.direction===i.BottomLeft||e.direction===i.LeftCenter||e.direction===i.BottomRight||e.direction===i.TopRight?n=e.offsetX:t=e.offsetX),e.offsetY&&(e.direction===i.Top||e.direction===i.TopLeft||e.direction===i.TopRight||e.direction===i.TopCenter?o=e.offsetY:a=e.offsetY);var f={marginLeft:t,marginRight:n,marginTop:a,marginBottom:o};return s.a.createElement(c.a,{position:d.o.Absolute},s.a.createElement("div",r()({style:f,className:Object(l.a)(m)},Object(u.a)(e),Object(p.a)(e)),e.children))};m.displayName="Attached",m.displayName="Attached"},"4PMh":function(e,t,n){},"4TNP":function(e,t,n){},"4h+t":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return f}));var i,a=n("DMoW"),r=n("uYEN"),o=n("5zXJ"),s=n("0Lz3"),l={Cheer:a.W.FIRST_PARTY,Kappa:a.W.FIRST_PARTY,Kreygasm:a.W.FIRST_PARTY,Muxy:a.W.THIRD_PARTY,Showlove:a.W.FIRST_PARTY,Streamlabs:a.W.THIRD_PARTY,SwiftRage:a.W.FIRST_PARTY,Uni:a.W.FIRST_PARTY,VoHiYo:a.W.FIRST_PARTY},c=[r.a.Red,r.a.Blue,r.a.Green,r.a.Purple,r.a.Gray],d={indexedActions:{},orderedActions:[],tiers:[],getImage:p};function u(){if(!i){var e=m("Cheer",a.W.DEFAULT);i={indexedActions:{cheer:e},orderedActions:[e],tiers:c.map((function(e){return{bits:e,color:o.j[e]}})),getImage:p}}return i}function p(e,t,n,i,a){var r="animated"===n?"gif":"png";return Object(s.a)(o.h,{prefix:e,background:t,animation:n,tier:i,scale:a,extension:r})}function m(e,t){var n=c.map((function(t){return{__typename:"CheermoteTier",bits:t,canShowInBitsCard:!0,id:e+";"+t}}));return{__typename:"Cheermote",campaign:null,id:e,prefix:e,type:t,tiers:n,orderedTiers:n,getImage:p.bind(void 0,e)}}function f(e){return m(e,l[e])}},"4l7P":function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return b}));var i,a=n("mrSG"),r=n("q1tI"),o=n("ANjH"),s=n("/7QA"),l=n("hyxX"),c=n("wUQP"),d=n("1rIY"),u=n("nqb9"),p=n("/fLC"),m=n("Q3S8"),f=n("Uyxv"),v=(i=Object(d.a)("PictureByPictureContext",{onChannelChange:function(){return null},onMainPlayerContentRestricted:function(){return null},onMainPlayerPlay:function(){return null},onMainPlayerPause:function(){return null},onMainPlayerAdPodStart:function(){return null},onMainPlayerAdPodEnd:function(){return null},onMainPlayerInit:function(){return null},onMainPlayerHLSTrigger:function(){return null},setReady:function(){return null},getMainPlayerMetadata:function(){return{playSessionId:""}},isEligible:!1,isShowing:!1,isReady:!1,isStitched:!1,isRestricted:!1,preflight:null,status:f.b.Unavailable})).context,g=i.withContext,h=function(e){function t(t){var n=e.call(this,t)||this;return n.logger=s.k.withCategory("picture-by-picture-context"),n.setReady=function(e){n.setState({isReady:e})},n.onChannelChange=function(){n.logger.debug("pbyp player detected a channel change, reset isRestricted"),n.setState({isRestricted:!1})},n.onMainPlayerContentRestricted=function(){n.logger.debug("content restricted from pbyp context"),n.setState({isRestricted:!0})},n.onMainPlayerPause=function(){n.logger.debug("pausing from pbyp context"),n.setState({status:f.b.Paused})},n.onMainPlayerPlay=function(){n.logger.debug("playing from pbyp context"),n.setState({status:f.b.Playing,isRestricted:!1})},n.onMainPlayerAdPodStart=function(e){var t=e.stitched,i=e.content,a=e.roll,r=n.state.isReady;if(Object(c.c)(f.a)&&Object(m.s)(i)&&a===p.b.Mid){n.logger.debug((t?"stitched":"")+"adstart detected of rollType "+a);var o=r;n.setState({isShowing:o,isStitched:t})}},n.onMainPlayerAdPodEnd=function(e){var t=e.stitched,i=e.content,a=e.roll;Object(c.c)(f.a)&&Object(m.s)(i)&&a===p.b.Mid&&(n.logger.debug((t?"stitched":"")+"adend detected of rollType "+a),n.setState({isShowing:!1,isStitched:t}))},n.onMainPlayerInit=function(e){n.api=e},n.onMainPlayerHLSTrigger=function(e){n.setState({preflight:e})},n.getMainPlayerMetadata=function(){return n.api?n.api.getPlayerMetadata():u.b},n.state={onChannelChange:n.onChannelChange,onMainPlayerContentRestricted:n.onMainPlayerContentRestricted,onMainPlayerPause:n.onMainPlayerPause,onMainPlayerPlay:n.onMainPlayerPlay,onMainPlayerAdPodStart:n.onMainPlayerAdPodStart,onMainPlayerAdPodEnd:n.onMainPlayerAdPodEnd,onMainPlayerInit:n.onMainPlayerInit,onMainPlayerHLSTrigger:n.onMainPlayerHLSTrigger,getMainPlayerMetadata:n.getMainPlayerMetadata,isEligible:!0,isShowing:!1,isStitched:!1,isReady:!1,isRestricted:!1,preflight:null,setReady:n.setReady,status:f.b.Loading},n}return Object(a.__extends)(t,e),t.prototype.render=function(){return r.createElement(v.Provider,{value:this.state},this.props.children)},t}(r.Component),b=Object(o.d)(Object(l.a)({name:"PictureByPictureContextManager"}))(h)},"4mFl":function(e,t,n){},"4pKX":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VODMidrollManager"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isVOD"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isCollection"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isVOD"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VODMidrollManagerBroadcaster"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isCollection"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VODMidrollManagerBroadcaster"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"VODMidrollManagerBroadcaster"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"adProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VODMidrollManagerAdProperties"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"VODMidrollManagerAdProperties"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AdProperties"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasVodAdsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vodArchiveMidrolls"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vodArchiveMidrollsBreakLength"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vodArchiveMidrollsFrequency"},arguments:[],directives:[]}]}}],loc:{start:0,end:640}};n.loc.source={body:"query VODMidrollManager(\n$vodID: ID!\n$collectionID: ID!\n$isVOD: Boolean!\n$isCollection: Boolean!\n) {\nvideo(id: $vodID) @include(if: $isVOD) {\nid\nbroadcastType\nowner {\n...VODMidrollManagerBroadcaster\n}\n}\ncollection(id: $collectionID) @include(if: $isCollection) {\nid\nitems(first: 1) {\nedges {\nnode {\n... on Video {\nid\nbroadcastType\n}\n}\n}\n}\nowner {\n...VODMidrollManagerBroadcaster\n}\n}\n}\nfragment VODMidrollManagerBroadcaster on User {\nid\nadProperties {\n...VODMidrollManagerAdProperties\n}\n}\nfragment VODMidrollManagerAdProperties on AdProperties {\nhasVodAdsEnabled\nvodArchiveMidrolls\nvodArchiveMidrollsBreakLength\nvodArchiveMidrollsFrequency\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VODMidrollManager=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VODMidrollManager")},"4w0E":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Chat_BanUserFromChatRoom"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"BanUserFromChatRoomInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banUserFromChatRoom"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ban"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moderator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reason"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minTimeoutDurationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxTimeoutDurationSeconds"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:296}};n.loc.source={body:"mutation Chat_BanUserFromChatRoom($input: BanUserFromChatRoomInput!) {\nbanUserFromChatRoom(input: $input) {\nban {\nbannedUser {\nid\nlogin\ndisplayName\n}\ncreatedAt\nexpiresAt\nisPermanent\nmoderator {\nid\nlogin\ndisplayName\n}\nreason\n}\nerror {\ncode\nminTimeoutDurationSeconds\nmaxTimeoutDurationSeconds\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Chat_BanUserFromChatRoom=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"Chat_BanUserFromChatRoom")},"4zL6":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("mrSG"),a=n("q1tI"),r=n("5zf8"),o=n("lVPZ"),s=function(e){function t(t){var n=e.call(this,t)||this;n.setTimeRemaining=function(){n.state.remainingTimeSeconds>0?n.setState((function(e){return{remainingTimeSeconds:e.remainingTimeSeconds-1}})):n.props.onCompletion&&(n.countdownTimer.stop(),n.props.onCompletion())};var i=t.timeToCountDownFromSeconds;return n.state={timeToCountDownFromSeconds:i,remainingTimeSeconds:i},n}return Object(i.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){return e.timeToCountDownFromSeconds!==t.timeToCountDownFromSeconds?{timeToCountDownFromSeconds:e.timeToCountDownFromSeconds,remainingTimeSeconds:e.timeToCountDownFromSeconds}:null},t.prototype.componentDidMount=function(){this.countdownTimer=new o.a({onInterval:this.setTimeRemaining,intervalMillis:1e3}),this.countdownTimer.start()},t.prototype.componentWillUnmount=function(){this.countdownTimer.stop()},t.prototype.render=function(){return a.createElement(a.Fragment,null,Object(r.b)(Math.trunc(this.state.remainingTimeSeconds),this.props.durationStyle))},t}(a.Component)},"58CV":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i,a=n("pVnL"),r=n.n(a),o=n("q1tI"),s=n("SWse"),l=n("HQtB"),c=n("OCDW"),d=n("Yegi"),u=n("hMTT"),p=n("vsSX"),m=n("Fabj"),f=n("ijbd"),v=((i={})[p.d.Primary]="tw-split-button--primary",i[p.d.Secondary]="tw-split-button--secondary",i[p.d.Text]="tw-split-button--text",i[p.d.Destructive]="tw-split-button--destructive",i),g=function(e){var t={"tw-split-button":!0,"tw-split-button--overlay":e.overlay};e.type?t[v[e.type]]=!0:t[v[p.d.Primary]]=!0;var n={"tw-split-button__icon":!0,"tw-split-button__icon--small":e.size===p.c.Small,"tw-split-button__icon--large":e.size===p.c.Large};return o.createElement(c.a,r()({className:Object(s.a)(t),display:e.fullWidth?d.h.Flex:d.h.InlineFlex,alignItems:d.b.Center,fullWidth:e.fullWidth},Object(l.a)(e)),o.createElement(p.a,r()({},Object(l.b)(e),{rounding:p.b.Left,type:e.type?e.type:p.d.Primary}),o.createElement(f.a,{icon:e.icon,size:e.size},e.children)),o.createElement(c.a,{display:d.h.InlineFlex,className:Object(s.a)({"tw-split-button__dropdown":!0})},o.createElement(p.a,r()({},e.dropdown,{size:e.size,overlay:e.overlay,rounding:p.b.Right,type:e.type?e.type:p.d.Primary}),o.createElement(c.a,{className:Object(s.a)(n),display:d.h.Flex,justifyContent:d.m.Center},o.createElement(m.a,{size:e.size,type:e.dropdown.type?e.dropdown.type:m.b.ArrowDown})))))};g.displayName="SplitButtonComponent",g.displayName="SplitButtonComponent";var h=Object(u.b)(g)},"5EAu":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PublishClip"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PublishClipInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publishClip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:123}};n.loc.source={body:"mutation PublishClip($input: PublishClipInput!) {\npublishClip(input: $input) {\nclip {\nid\ntitle\nslug\n}\nerror {\nmessage\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.PublishClip=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"PublishClip")},"5N+U":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("q1tI");function a(e,t){var n=i.useState(e),a=n[0],r=n[1];return i.useEffect((function(){e&&r(!0)}),[e]),{isMounted:a,onExitComplete:function(){t&&t(),r(!1)}}}},"5V0U":function(e,t,n){},"5Y3l":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"m",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"k",(function(){return d})),n.d(t,"l",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"j",(function(){return m})),n.d(t,"i",(function(){return f})),n.d(t,"n",(function(){return v})),n.d(t,"h",(function(){return g})),n.d(t,"a",(function(){return h})),n.d(t,"g",(function(){return i}));var i,a=n("oKCn"),r=100,o=20,s=50,l="https://help.twitch.tv/s/article/watch-parties",c=3,d="515467",u="Watch Parties",p="https://www.amazon.com/gp/video/storefront?filterId=OFFER_FILTER%3DPRIME",m="dvm_tch_wtp_us_cd_s_signup",f="https://primevideo.com",v={disableDoubleClickFullscreen:!0,disableFullscreen:!0,disableKeyboardShortcuts:!0,disablePopoutPlayer:!0,disableStatusIndicator:!0,disableStatusOverlay:!0,disableSettingsMenuButton:!0,disableTheatreMode:!0,disableUserPreferencePersistence:!1,disableWhispersCompatability:!0,enableExtensions:!1,forceQuality:a.f.Low,initialMuted:{enabled:!0,showOverlay:!0,overlayDuration:1/0}},g=5,h="https://www.primevideo.com/help?nodeId=202095490&view-type=content-only";!function(e){e.USER_NOT_PRIME="USER_NOT_PRIME",e.GEO_RESTRICTED="GEO_RESTRICTED"}(i||(i={}))},"5cw2":function(e,t,n){},"5tm5":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateUserViewedVideo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateUserViewedVideoInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateUserViewedVideo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:125}};n.loc.source={body:"mutation updateUserViewedVideo($input: UpdateUserViewedVideoInput!) {\nupdateUserViewedVideo(input: $input) {\nvideo {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.updateUserViewedVideo=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"updateUserViewedVideo")},"5zC2":function(e,t,n){"use strict";n.d(t,"a",(function(){return i.a})),n.d(t,"c",(function(){return k})),n.d(t,"b",(function(){return O}));n("k8pZ");var i=n("qCDY"),a=n("wUQP"),r=n("mrSG"),o=n("1hWM"),s=n("q1tI"),l=n("yR8l"),c=n("geRD"),d=n("w09P"),u=n("UBQQ"),p=n("DMoW");function m(e){switch(e){case p.mc.COMPONENT:return o.ExtensionAnchor.Component;case p.mc.PANEL:return o.ExtensionAnchor.Panel;case p.mc.VIDEO_OVERLAY:return o.ExtensionAnchor.Overlay;case p.mc.HIDDEN:default:return o.ExtensionAnchor.Hidden}}function f(e){var t={};if(e.component){var n=e.component,i=n.aspectRatioX,a=n.aspectRatioY,r=n.canLinkExternalContent,o=n.viewerURL,s=n.targetHeight,l=n.hasAutoscale,c=n.scalePixels;t.component={aspectRatioX:i,aspectRatioY:a,canLinkExternalContent:r,viewerUrl:o,targetHeight:s,autoScale:l,scalePixels:c||0,aspectHeight:0,aspectWidth:0,zoom:!1,zoomPixels:0}}if(e.config){var d=e.config;r=d.canLinkExternalContent,o=d.viewerURL;t.config={canLinkExternalContent:r,viewerUrl:o}}if(e.hidden){var u=e.hidden;r=u.canLinkExternalContent,o=u.viewerURL;t.hidden={canLinkExternalContent:r,viewerUrl:o}}if(e.liveConfig){var p=e.liveConfig;r=p.canLinkExternalContent,o=p.viewerURL;t.liveConfig={canLinkExternalContent:r,viewerUrl:o}}if(e.mobile&&(t.mobile={viewerUrl:e.mobile.viewerURL}),e.panel){var m=e.panel,f=(r=m.canLinkExternalContent,m.height);o=m.viewerURL;t.panel={canLinkExternalContent:r,height:f,viewerUrl:o}}if(e.videoOverlay){var v=e.videoOverlay;r=v.canLinkExternalContent,o=v.viewerURL;t.videoOverlay={canLinkExternalContent:r,viewerUrl:o}}return t}function v(e){var t,n,i=null===(n=null===(t=null==e?void 0:e.user)||void 0===t?void 0:t.channel)||void 0===n?void 0:n.selfInstalledExtensions;return i&&i.reduce((function(e,t){var n=t.installation,i=t.token,a=t.configuration;if(n){var r=n.extension,s=n.abilities,l=n.activationConfig,c=r.authorName,d=r.id,u=r.isBitsEnabled,v=r.description,g=r.name,h=r.iconURLs,b=r.id,y=r.hasIdentityLinking,k=r.sku,S=r.summary,E=r.vendorCode,C=r.state,O=r.version,_=r.whitelistedConfigURLs,w=r.whitelistedPanelURLs,P=l.anchor,N=l.slot,T=l.state,D=P===p.mc.COMPONENT,I=function(e){switch(e){case p.tc.APPROVED:return o.ExtensionState.Approved;case p.tc.ASSETS_UPLOADED:return o.ExtensionState.HostedTest;case p.tc.IN_REVIEW:return o.ExtensionState.InReview;case p.tc.IN_TEST:return o.ExtensionState.Testing;case p.tc.PENDING_ACTION:return o.ExtensionState.PendingAction;case p.tc.READY_FOR_REVIEW:return o.ExtensionState.ReadyForReview;case p.tc.RELEASED:return o.ExtensionState.Released;case p.tc.UPLOADING:return o.ExtensionState.Uploading;default:return null}}(C);if(P&&N&&I&&i){var A={abilities:s,id:r.id,extension:{authorName:c,clientId:d,bitsEnabled:u,description:v,name:g,iconUrl:h.square100,iconUrls:h,id:b,requestIdentityLink:y,sku:k,summary:S,state:I,token:i.jwt,vendorCode:E,version:O,views:f(r.views),viewerSummary:S,whitelistedConfigUrls:_,whitelistedPanelUrls:w},activationConfig:{anchor:m(P),slot:N,state:T===p.b.ACTIVE?o.ExtensionActivationStatus.Active:o.ExtensionActivationStatus.Inactive,x:D&&l.x||void 0,y:D&&l.y||void 0},configuration:{broadcaster:(null==a?void 0:a.broadcaster)||void 0,developer:(null==a?void 0:a.developer)||void 0,global:(null==a?void 0:a.global)||void 0}};return e.concat(A)}}}),[])||[]}var g=n("lBSt"),h=n("/7QA"),b=n("g/rS"),y=n("l0mi");function k(e){return Object(a.c)("extensions_gql_migration")?function(e){return function(t){var n=function(n){function i(){var e=null!==n&&n.apply(this,arguments)||this;return e.onDestroyExtension=function(t){Object(c.j)(u,{channelID:e.currentChannelID},(function(e){var n,i,a;return(null===(a=null===(i=null===(n=e.user)||void 0===n?void 0:n.channel)||void 0===i?void 0:i.selfInstalledExtensions)||void 0===a?void 0:a.length)?d(e,(function(e){var t,n;return null===(n=null===(t=null==e?void 0:e.user)||void 0===t?void 0:t.channel)||void 0===n?void 0:n.selfInstalledExtensions}),(function(e){return null==e?void 0:e.filter((function(e){var n=e.installation;return(null==n?void 0:n.extension.id)!==t}))})):e}))},e.onShouldFetchExtensions=function(){e.fetchExtensions()},e.fetchExtensions=function(){e.props.data.refetch({channelID:e.currentChannelID})},e}return Object(r.__extends)(i,n),Object.defineProperty(i.prototype,"installedExtensionData",{get:function(){return!this.props.data||this.props.data.loading||this.props.data.error?null:v(this.props.data)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentChannelID",{get:function(){return e.options(this.props).variables.channelID},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fetchedChannelID",{get:function(){var e,t;return(null===(t=null===(e=this.props.data.user)||void 0===e?void 0:e.channel)||void 0===t?void 0:t.id)||null},enumerable:!0,configurable:!0}),i.prototype.componentWillUnmount=function(){this.fetchedChannelID&&o.extensionService.unsubscribeFromExtensionControl(this.fetchedChannelID)},i.prototype.componentDidMount=function(){var e=this.props,t=this.extensionResponseTimestamp(e);this.shouldSkip(e)||(this.installedExtensionData&&this.fetchedChannelID&&t&&o.extensionService.registerCoordinatorInstallations(this.installedExtensionData,t,this.fetchedChannelID),o.extensionService.subscribeToExtensionControl(this.currentChannelID,{onDestroyExtension:this.onDestroyExtension,onShouldFetchExtensions:this.onShouldFetchExtensions}))},i.prototype.componentDidUpdate=function(t){if(!this.shouldSkip(this.props)){var n=e.options(t).variables.channelID,i=this.extensionResponseTimestamp(t),a=this.currentChannelID,r=this.extensionResponseTimestamp(this.props),s=n!==a,l=null!==this.installedExtensionData||null!==this.props.data.error||this.props.data.loading;!s&&l||(this.fetchExtensions(),o.extensionService.unsubscribeFromExtensionControl(n),o.extensionService.subscribeToExtensionControl(a,{onDestroyExtension:this.onDestroyExtension,onShouldFetchExtensions:this.onShouldFetchExtensions})),i!==r&&r&&this.installedExtensionData&&this.fetchedChannelID&&o.extensionService.registerCoordinatorInstallations(this.installedExtensionData,r,this.fetchedChannelID)}},i.prototype.render=function(){var n,i;return i=this.shouldSkip(this.props)?Object(r.__assign)(Object(r.__assign)({},this.props),{data:void 0}):Object(r.__assign)(Object(r.__assign)({},this.props),((n={data:void 0})[e.name||"data"]={error:this.props.data.error,fetchedChannelID:this.fetchedChannelID,installedExtensions:this.installedExtensionData,loading:this.props.data.loading,refetch:this.fetchExtensions},n)),s.createElement(t,Object(r.__assign)({},i))},i.prototype.extensionResponseTimestamp=function(e){var t,n,i,a;return e.data&&!e.data.loading&&!e.data.error&&(null===(n=null===(t=e.data.user)||void 0===t?void 0:t.channel)||void 0===n?void 0:n.selfInstalledExtensions)&&(null===(a=null===(i=e.data.user)||void 0===i?void 0:i.channel)||void 0===a?void 0:a.selfInstalledExtensions[0])?e.data.user.channel.selfInstalledExtensions[0].issuedAt:null},i.prototype.shouldSkip=function(t){return void 0!==e.skip&&("function"==typeof e.skip?e.skip(t):e.skip)},i}(s.Component);return Object(l.a)(u,{options:function(t){return{variables:{channelID:e.options(t).variables.channelID}}}})(n)}}(e):function(e){return function(t){var n=function(n){function i(){var t=null!==n&&n.apply(this,arguments)||this;return t.state={error:null,fetchedChannelID:null,installedExtensionsData:null,loading:!1},t.fetchExtensions=function(n){return Object(r.__awaiter)(t,void 0,void 0,(function(){var t,i;return Object(r.__generator)(this,(function(a){switch(a.label){case 0:this.setState({fetchedChannelID:n,loading:!0}),a.label=1;case 1:return a.trys.push([1,3,,4]),n=n||e.options(this.props).variables.channelID,[4,o.extensionService.getInstalledExtensions(n)];case 2:return t=a.sent(),[3,4];case 3:return a.sent(),this.setState({loading:!1,error:new Error("Failed to load data.")}),[2];case 4:return i=Object(g.extensionInstallationsFromRest)(t),h.p.store.dispatch(Object(b.d)(n,i)),this.setState({error:null,installedExtensionsData:i,loading:!1}),[2]}}))}))},t.onShouldFetchExtensions=function(){t.fetchExtensions(t.currentChannelID)},t.onDestroyExtension=function(e){if(h.p.store.dispatch(Object(b.c)(t.currentChannelID,e)),t.state.installedExtensionsData){var n=t.state.installedExtensionsData.filter((function(t){return t.extension.id!==e}));t.setState({installedExtensionsData:n})}},t}return Object(r.__extends)(i,n),Object.defineProperty(i.prototype,"currentChannelID",{get:function(){return e.options(this.props).variables.channelID},enumerable:!0,configurable:!0}),i.prototype.componentDidMount=function(){var e=this.props;if(!this.shouldSkip(e)){var t=this.currentChannelID;this.fetchExtensions(t),o.extensionService.subscribeToExtensionControl(t,{onDestroyExtension:this.onDestroyExtension,onShouldFetchExtensions:this.onShouldFetchExtensions})}},i.prototype.componentWillUnmount=function(){o.extensionService.unsubscribeFromExtensionControl(this.currentChannelID)},i.prototype.componentDidUpdate=function(t){if(!this.shouldSkip(this.props)){var n=e.options(t).variables.channelID,i=this.currentChannelID,a=n!==i,r=null!==this.state.installedExtensionsData||null!==this.state.error||this.state.loading;!a&&r||(this.setState({installedExtensionsData:null}),this.fetchExtensions(i),o.extensionService.unsubscribeFromExtensionControl(n),o.extensionService.subscribeToExtensionControl(i,{onDestroyExtension:this.onDestroyExtension,onShouldFetchExtensions:this.onShouldFetchExtensions}))}},i.prototype.render=function(){var n;if(this.shouldSkip(this.props))return s.createElement(t,Object(r.__assign)({},this.props));var i=Object.assign({},this.props,((n={__withExtensionsForChannelCurrentUser:void 0})[e.name||"data"]={error:this.state.error,fetchedChannelID:this.state.fetchedChannelID,installedExtensions:this.state.installedExtensionsData,loading:this.state.loading,refetch:this.fetchExtensions},n));return s.createElement(t,Object(r.__assign)({},i))},i.prototype.shouldSkip=function(t){return void 0!==e.skip&&("function"==typeof e.skip?e.skip(t):e.skip)},i}(s.Component);return Object(l.a)(y,{name:"__withExtensionsForChannelCurrentUser",options:function(t){return{variables:{channelID:e.options(t).variables.channelID}}}})(n)}}(e)}var S=n("/MKj"),E=n("kRBY"),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){var e=Object(a.c)("extensions_gql_migration");o.extensionService.setEnvironmentOptions({apiUrl:h.a.apiBaseURL,dynamicSettings:h.b,useGQL:e}),this.setExtensionServiceAuthToken()},t.prototype.componentDidUpdate=function(e){e.authToken!==this.props.authToken&&this.setExtensionServiceAuthToken()},t.prototype.render=function(){return null},t.prototype.setExtensionServiceAuthToken=function(){var e=this.props.authToken||"";o.extensionService.setEnvironmentOptions({authToken:e})},t}(s.Component);var O=Object(S.b)((function(e){return{authToken:Object(E.a)(e)}}))(C)},"5zXJ":function(e,t,n){"use strict";n.d(t,"t",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"r",(function(){return c})),n.d(t,"m",(function(){return d})),n.d(t,"o",(function(){return u})),n.d(t,"p",(function(){return p})),n.d(t,"n",(function(){return m})),n.d(t,"q",(function(){return f})),n.d(t,"k",(function(){return v})),n.d(t,"l",(function(){return g})),n.d(t,"j",(function(){return h})),n.d(t,"s",(function(){return b})),n.d(t,"i",(function(){return y})),n.d(t,"a",(function(){return k})),n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return E})),n.d(t,"e",(function(){return C})),n.d(t,"b",(function(){return O}));var i,a=n("uYEN"),r={ERROR_DISPLAY_TIMEOUT:5e3,GET_BALANCE_RATE_LIMIT:5e3,UNDO_PROMPT_DURATION:5e3},o="https://d3aqoihi2n8ty8.cloudfront.net",s=o+"/cheer",l=o+"/actions"+"/PREFIX/BACKGROUND/ANIMATION/TIER/SCALE.EXTENSION",c="bonus",d=8e5,u=1e5,p=25e4,m=500,f=1e3,v="cheer",g=a.a.Purple,h=((i={})[a.a.Gray]="#979797",i[a.a.Purple]="#9c3ee8",i[a.a.Green]="#1db2a5",i[a.a.Blue]="#0099fe",i[a.a.Red]="#f43021",i[a.a.Yellow]="#f3a71a",i),b="bits_sponsored_cheermotes",y="bits_charity_event",k="bits_project_marley",S="AnAnonymousCheerer",E="ananonymouscheerer",C="407665396",O="Anon"},"5zf8":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d}));var i,a,r=n("/7QA");function o(e,t){switch(e){case i.Second:return Object(r.d)("{secondCount, plural, one {# second} other {# seconds}}",{secondCount:t},"formatDuration");case i.Minute:return Object(r.d)("{minuteCount, plural, one {# minute} other {# minutes}}",{minuteCount:t},"formatDuration");case i.Hour:return Object(r.d)("{hourCount, plural, one {# hour} other {# hours}}",{hourCount:t},"formatDuration");case i.Day:return Object(r.d)("{dayCount, plural, one {# day} other {# days}}",{dayCount:t},"formatDuration");case i.Week:return Object(r.d)("{weekCount, plural, one {# week} other {# weeks}}",{weekCount:t},"formatDuration");case i.Month:return Object(r.d)("{monthCount, plural, one {# month} other {# months}}",{monthCount:t},"formatDuration");default:return""}}function s(e,t){switch(e){case i.Second:return Object(r.d)("{secondCount}s",{secondCount:t},"formatDuration");case i.Minute:return Object(r.d)("{minuteCount}m",{minuteCount:t},"formatDuration");case i.Hour:return Object(r.d)("{hourCount}h",{hourCount:t},"formatDuration");case i.Day:return Object(r.d)("{dayCount}d",{dayCount:t},"formatDuration");case i.Week:return Object(r.d)("{weekCount}w",{weekCount:t},"formatDuration");case i.Month:return Object(r.d)("{monthCount}mo",{monthCount:t},"formatDuration");default:return""}}function l(e,t){var n;switch(void 0===t&&(t=a.Humanized),t===a.ClockAuto&&(t=e>=3600?a.ClockHMS:a.ClockMS),t){case a.ClockHM:case a.ClockHMS:n=i.Hour;break;case a.ClockMS:n=i.Minute}var o=2;t===a.ClockHMS&&(o=3);var l=function(e,t){void 0===t&&(t=i.Month);var n={};return n.seconds=e,e<60||t===i.Second?n:(n.minutes=Math.floor(e/60),n.seconds=e%60,n.minutes<60||t===i.Minute?n:(n.hours=Math.floor(n.minutes/60),n.minutes=n.minutes%60,n.hours<24||t===i.Hour?n:(n.days=Math.floor(n.hours/24),n.hours=n.hours%24,n.days<7||t===i.Day?n:n.days<=26||t===i.Week?(n.weeks=Math.floor(n.days/7),n.days=n.days%7,n):(n.months=Math.round((n.days+3)/30),n))))}(e,n),u=Object.keys(l);if(u.forEach((function(e,n){t!==a.Humanized&&t!==a.HumanizedShort||l[e]||delete l[e],n<u.length-o&&delete l[e]})),t===a.Humanized)return d(l);if(t===a.HumanizedShort)return function(e){return void 0!==e.months?s(i.Month,e.months):void 0!==e.weeks&&void 0!==e.days?s(i.Week,e.weeks)+" "+s(i.Day,e.days):void 0!==e.weeks?s(i.Week,e.weeks):void 0!==e.days&&void 0!==e.hours?s(i.Day,e.days)+" "+s(i.Hour,e.hours):void 0!==e.days?s(i.Day,e.days):void 0!==e.hours&&void 0!==e.minutes?s(i.Hour,e.hours)+" "+s(i.Minute,e.minutes):void 0!==e.hours?s(i.Hour,e.hours):void 0!==e.minutes&&void 0!==e.seconds?s(i.Minute,e.minutes)+" "+s(i.Second,e.seconds):void 0!==e.minutes?s(i.Minute,e.minutes):s(i.Second,e.seconds||0)}(l);var p=":",m=!1;switch(r.p.intl.getLanguageCode()){case"cy":case"da":case"fi":case"id":case"nb":case"si":p=".";break;case"af":case"fr":case"lt":m=!0}var f=l.seconds||0,v=l.minutes||0,g=l.hours||0;switch(t){case a.ClockHM:case a.ClockHMS:var h=(m?c(g,2):g)+p+c(v,2);return t===a.ClockHMS&&(h+=p+c(f,2)),h;case a.ClockMS:return(m?c(v,2):v)+p+c(f,2)}}function c(e,t){var n=e.toString();return n.length<t?"0".repeat(t-n.length)+n:n}function d(e){return void 0!==e.months?o(i.Month,e.months):void 0!==e.weeks&&void 0!==e.days?o(i.Week,e.weeks)+" "+o(i.Day,e.days):void 0!==e.weeks?o(i.Week,e.weeks):void 0!==e.days&&void 0!==e.hours?o(i.Day,e.days)+" "+o(i.Hour,e.hours):void 0!==e.days?o(i.Day,e.days):void 0!==e.hours&&void 0!==e.minutes?o(i.Hour,e.hours)+" "+o(i.Minute,e.minutes):void 0!==e.hours?o(i.Hour,e.hours):void 0!==e.minutes&&void 0!==e.seconds?o(i.Minute,e.minutes)+" "+o(i.Second,e.seconds):void 0!==e.minutes?o(i.Minute,e.minutes):o(i.Second,e.seconds||0)}!function(e){e[e.Second=0]="Second",e[e.Minute=1]="Minute",e[e.Hour=2]="Hour",e[e.Day=3]="Day",e[e.Week=4]="Week",e[e.Month=5]="Month"}(i||(i={})),function(e){e[e.Humanized=0]="Humanized",e[e.HumanizedShort=1]="HumanizedShort",e[e.ClockAuto=2]="ClockAuto",e[e.ClockHM=3]="ClockHM",e[e.ClockMS=4]="ClockMS",e[e.ClockHMS=5]="ClockHMS"}(a||(a={}))},"69Mc":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s}));var i=n("7AWC");function a(e){var t=e.mediaPlayerInstance,n=e.videoAdMetadata;return Object(i.d)(n)?0:t?t.getDuration():0}function r(e){var t=e.mediaPlayerInstance,n=e.videoAdMetadata;return Object(i.d)(n)?0:t?t.getPosition():0}function o(e){var t=e.mediaPlayerInstance,n=e.videoAdMetadata;return Object(i.d)(n)?1:t?t.getPlaybackRate():1}function s(e,t){var n=t.mediaPlayerInstance,a=t.videoAdMetadata;Object(i.d)(a)||n&&n.setPlaybackRate(e)}},"6FuP":function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.Orange="orange",e.Blue="blue"}(i||(i={}))},"6JW5":function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"watchPartySession"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WatchParty"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"progress"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"watchPartyProgress"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewersCount"},arguments:[],directives:[]}]}}],loc:{start:0,end:182}};i.loc.source={body:'#import "twilight/features/watch-party/models/watch-party-progress-fragment.gql"\nfragment watchPartySession on WatchParty {\nid\nprogress {\n...watchPartyProgress\n}\nstate\nviewersCount\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("1DRi").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))),e.exports=i},"6ZyN":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionPanel_Conditions_BitsBalance"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"extensionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"extensionVersion"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"conditionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"conditionOwnerID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"extension"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"extensionID"}}},{kind:"Argument",name:{kind:"Name",value:"version"},value:{kind:"Variable",name:{kind:"Name",value:"extensionVersion"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"challengeCondition"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"conditionID"},value:{kind:"Variable",name:{kind:"Name",value:"conditionID"}}},{kind:"ObjectField",name:{kind:"Name",value:"conditionOwnerID"},value:{kind:"Variable",name:{kind:"Name",value:"conditionOwnerID"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:333}};n.loc.source={body:"query ExtensionPanel_Conditions_BitsBalance(\n$extensionID: ID!\n$extensionVersion: String\n$conditionID: ID!\n$conditionOwnerID: ID!\n) {\ncurrentUser {\nid\nbitsBalance\n}\nextension(id: $extensionID version: $extensionVersion) {\nid\nchallengeCondition(input: {\nconditionID: $conditionID\nconditionOwnerID: $conditionOwnerID\n}) {\nid\nname\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ExtensionPanel_Conditions_BitsBalance=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ExtensionPanel_Conditions_BitsBalance")},"6dZO":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetCurrentTrackLinkFireData"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currentRadioTrack"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"track"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"artists"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"creatorChannelID"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentPromotions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rank"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"buttonText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"SVG"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"darkURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lightURL"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:248}};n.loc.source={body:"query GetCurrentTrackLinkFireData($channelID: ID!) {\nchannel(id:$channelID) {\nid\ncurrentRadioTrack {\ntrack {\nid\ntitle\nartists {\nid\nname\ncreatorChannelID\n}\n}\ncontentPromotions {\nrank\ntitle\nurl\nbuttonText\nicon(format:SVG) {\ndarkURL\nlightURL\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.GetCurrentTrackLinkFireData=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"GetCurrentTrackLinkFireData")},"6isu":function(e,t,n){},"6j5V":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("RcPG");function a(e){return{type:i.a.Text,content:e}}},"6l+s":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FollowPanelOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follower"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"disableNotifications"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:159}};n.loc.source={body:"query FollowPanelOverlay($channelLogin: String!) {\nuser(login: $channelLogin) {\nid\ndisplayName\nlogin\nself {\nfollower {\nnode {\nid\n}\ndisableNotifications\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.FollowPanelOverlay=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"FollowPanelOverlay")},"6llN":function(e,t,n){},"6tZN":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("pVnL"),a=n.n(i),r=n("8OQS"),o=n.n(r),s=n("q1tI"),l=n("E1Lb"),c=n("p8fB"),d=n("OCDW"),u=n("Yegi"),p=n("Ix37"),m=n("9ysU"),f=function(e){var t,n,i,r,f=e.label,v=e.figure,g=e.actionIcon,h=e.type,b=e.selected,y=e.value,k=o()(e,["label","figure","actionIcon","type","selected","value"]);return v&&(t=s.createElement(d.a,{display:u.h.Flex,alignItems:u.b.Center,padding:{right:.5},flexShrink:0},s.createElement(m.a,v))),y&&(i=s.createElement(d.a,{alignItems:u.b.Center,padding:{x:.5},margin:{left:1}},y)),r=k.children?s.createElement(d.a,{flexGrow:1},k.children):s.createElement(s.Fragment,null,s.createElement(d.a,{flexGrow:1},f),i),b&&!g?n=s.createElement(l.a,{asset:p.a.Check}):g&&(n=s.createElement(l.a,{asset:g})),n&&(n=s.createElement(d.a,{display:u.h.Flex,alignItems:u.b.Center,margin:y?{left:.5}:{left:2},flexShrink:0},n)),s.createElement(d.a,{position:u.o.Relative,fullWidth:!0},s.createElement(c.a,a()({type:h,borderRadius:u.e.Medium,selected:b},k),s.createElement(d.a,{display:u.h.Flex,alignItems:u.b.Center,position:u.o.Relative,padding:.5},t,r,n)))};f.displayName="DropDownMenuItem",f.defaultProps={type:c.b.Alpha},f.displayName="DropDownMenuItem"},"6zXJ":function(e,t,n){"use strict";function i(e){var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),i=e-3600*t-60*n;return t<10&&(t="0"+t),n<10&&(n="0"+n),i<10&&(i="0"+i),t+"h"+n+"m"+i+"s"}n.d(t,"a",(function(){return i}))},"7AWC":function(e,t,n){"use strict";function i(e){return!!e&&(e.stitched||e.started)}function a(e){var t=e.adContext.videoAdMetadata;return r(t)&&t.videoAd||void 0}function r(e){return!!e&&!e.stitched}function o(e){return!!e&&e.stitched}n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o}))},"7aRD":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return E}));var i,a=n("mrSG"),r=n("q1tI"),o=n("ANjH"),s=n("/7QA"),l=n("xgo/"),c=n("Gx9W"),d=n("juvP"),u=n("wNtA"),p=n("Fn4s"),m=n("/fLC"),f=n("0BjR"),v=n("7AWC");!function(e){e.StandardVideoAd="standard_video_ad",e.MultiplayerAd="multiplayer_ad"}(i||(i={}));var g,h="twitch-stitched-ad",b="twitch-stream-source",y="twitch-ad-quartile",k="|",S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMetadata=function(e){var n,i;try{if("text/json"===e.type){var a=void 0;try{a=JSON.parse(e.data)}catch(e){return void s.p.logger.warn("failed to parse stitched ad metadata")}if(!a)return void s.p.logger.warn("failed to parse stitched ad metadata");if(a.CLASS===h){var r=a["X-TV-TWITCH-AD-CLICK-TRACKING-URL"],o={duration:parseInt(a.DURATION,10)||0,start:new Date(a["START-DATE"]).getTime(),numberOfAds:parseInt(a["X-TV-TWITCH-AD-POD-LENGTH"],10),adPosition:parseInt(a["X-TV-TWITCH-AD-POD-POSITION"],10)+1,adUrl:a["X-TV-TWITCH-AD-URL"],roll:t.getRollType(a["X-TV-TWITCH-AD-ROLL-TYPE"]),advertiserId:a["X-TV-TWITCH-AD-ADVERTISER-ID"]||"",creativeId:a["X-TV-TWITCH-AD-CREATIVE-ID"]||"",lineItemId:a["X-TV-TWITCH-AD-LINE-ITEM-ID"]||"",adSessionId:a["X-TV-TWITCH-AD-AD-SESSION-ID"]||"",adFormat:t.getAdFormat(a["X-TV-TWITCH-AD-AD-FORMAT"]),orderId:a["X-TV-TWITCH-AD-ORDER-ID"]||"",stitchedAdTrackingURLsStart:a["X-TV-TWITCH-AD-TRACKING-START"]||"",stichedAdTrackingURLsComplete:a["X-TV-TWITCH-AD-TRACKING-COMPLETE"]||"",stitched:!0,stitchedAdClickTrackUrls:r?r.split(k):[],radsToken:a["X-TV-TWITCH-AD-RADS-TOKEN"]||"",isVLM:"1"===a["X-TV-TWITCH-AD-VLM"],hideAdOverlay:"1"===a["X-TV-TWITCH-AD-HIDE-AD-OVERLAY"]};t.props.setRadToken(o.radsToken),(null===(n=t.props.stitchedAdMetadata)||void 0===n?void 0:n.adPosition)&&o.adPosition&&o.adPosition>(null===(i=t.props.stitchedAdMetadata)||void 0===i?void 0:i.adPosition)&&C(g.END,t.props.stitchedAdMetadata.stichedAdTrackingURLsComplete),C(g.START,o.stitchedAdTrackingURLsStart),t.props.startStitchedAd(o)}else if(a.CLASS===y&&a["X-TV-TWITCH-AD-QUARTILE"]){var l=parseInt(a["X-TV-TWITCH-AD-QUARTILE"]||"",10);0===l?t.props.trackVideoRAdEvent(c.a.VideoAdImpression,t.buildTrackingPayload()):t.props.trackVideoRAdEvent(c.a.VideoAdQuartileComplete,t.buildTrackingPayload({quartile:l}))}else t.props.stitchedAdMetadata&&a.CLASS===b&&"live"===a["X-TV-TWITCH-STREAM-SOURCE"]&&(C(g.END,t.props.stitchedAdMetadata.stichedAdTrackingURLsComplete),t.props.trackVideoRAdEvent(c.a.VideoAdPodComplete,{stitched:!0,roll_type:t.props.stitchedAdMetadata.roll,player_mute:!!t.props.muted,player_volume:+(t.props.volume||0).toFixed(10),visible:"visible"===document.visibilityState}),t.props.reset())}}catch(e){t.props.logger.errorAndReport(e,"Unable to create metadata for stitched ad.")}},t.buildTrackingPayload=function(e){var n=t.props.stitchedAdMetadata;return Object(a.__assign)({player_mute:!!t.props.muted,player_volume:+(t.props.volume||0).toFixed(10),visible:"visible"===document.visibilityState,ad_id:null==n?void 0:n.advertiserId,ad_position:null==n?void 0:n.adPosition,duration:null==n?void 0:n.duration,creative_id:null==n?void 0:n.creativeId,total_ads:null==n?void 0:n.numberOfAds,order_id:null==n?void 0:n.orderId,line_item_id:null==n?void 0:n.lineItemId,roll_type:null==n?void 0:n.roll},e)},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(f.f.METADATA,this.onMetadata)},t.prototype.render=function(){return null},t.prototype.getRollType=function(e){return"MIDROLL"===e?m.b.Mid:"POSTROLL"===e?m.b.Post:m.b.Pre},t.prototype.getAdFormat=function(e){return"multiplayer_ad"===e?i.MultiplayerAd:i.StandardVideoAd},t}(r.Component),E=Object(o.d)(Object(l.a)(),Object(u.c)((function(e){var t=e.reset,n=e.startStitchedAd,i=e.videoAdMetadata,a=e.setRadToken,r=Object(v.c)(i)&&i||void 0;return{reset:t,startStitchedAd:n,stitchedAdMetadata:r,setRadToken:a}})),Object(p.c)((function(e){var t=e.logger,n=e.muted,i=e.volume;return{logger:t,muted:n,volume:i}})),Object(d.a)())(S);function C(e,t){t?t.split("|").forEach((function(e){return fetch(e)})):s.p.logger.warn("failed to send stitched ad "+e+" tracking event - no "+e+" URL(s) provided")}!function(e){e.START="start",e.END="end"}(g||(g={}))},"7e2m":function(e,t,n){},"8EUQ":function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return i}));var i={};n.r(i),n.d(i,"SUB_CHECKOUT__PRODUCT_KEY",(function(){return o})),n.d(i,"SUB_CHECKOUT__RECIPIENT_KEY",(function(){return s})),n.d(i,"SUB_CHECKOUT__MYSTERY_GIFT_COUNT",(function(){return l})),n.d(i,"SUB_CHECKOUT__GIFTING_ANONYMOUSLY",(function(){return c})),n.d(i,"SUB_CHECKOUT__IS_ONE_TIME_PURCHASE",(function(){return d})),n.d(i,"SUB_CHECKOUT__MULTIMONTH_GIFT_KEY",(function(){return u})),n.d(i,"clearSubscriptionCheckoutKeys",(function(){return m})),n.d(i,"showLoginModalWithCheckoutDispatch",(function(){return f}));var a=n("/7QA"),r=n("y5D0"),o="SUB_CHECKOUT__PRODUCT",s="SUB_CHECKOUT__RECIPIENT",l="SUB_CHECKOUT__MYSTERY_GIFT_COUNT",c="SUB_CHECKOUT__GIFTING_ANONYMOUSLY",d="SUB_CHECKOUT__IS_ONE_TIME_PURCHASE",u="SUB_CHECKOUT__MULTIMONTH_GIFT_MONTHS",p=[o,s,l,c,d,u];function m(){p.forEach((function(e){return a.n.remove(e)}))}function f(e){return function(){return Object(r.e)(e,{onClose:m})}}var v=function(e){var t=e.amount,n=e.exponent;return t/Math.pow(10,n)}},"8h5J":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CollectionSideBar"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileURL"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"80"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"45"}}],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:291}};n.loc.source={body:"query CollectionSideBar($collectionID: ID!) {\ncollection(id: $collectionID) {\nid\ntitle\nlengthSeconds\nowner {\nid\ndisplayName\nlogin\nprofileURL\n}\nitems(first: 100) {\ntotalCount\nedges {\nnode {\n__typename\n... on Video {\nid\ntitle\nlengthSeconds\npreviewThumbnailURL(width: 80 height: 45)\n}\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.CollectionSideBar=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"CollectionSideBar")},"8mkg":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PreviewContentOverlayQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"285"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"160"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canPrimeSubscribe"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:228}};n.loc.source={body:"query PreviewContentOverlayQuery($channel: String) {\nuser(login: $channel) {\nid\nstream {\nid\npreviewImageURL(width: 285 height: 160)\n}\nsubscriptionProducts{\nid\nname\ntier\n}\nself {\ncanPrimeSubscribe\nsubscriptionBenefit {\nid\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.PreviewContentOverlayQuery=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"PreviewContentOverlayQuery")},"8pOs":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionsNotificationBitsBalance"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:74}};n.loc.source={body:"query ExtensionsNotificationBitsBalance {\ncurrentUser {\nid\nbitsBalance\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ExtensionsNotificationBitsBalance=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ExtensionsNotificationBitsBalance")},"99qK":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ClipsEditPoller"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"creationState"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:130}};n.loc.source={body:"query ClipsEditPoller($slug: ID!) {\nclip(slug: $slug) {\nid\nbroadcaster {\nid\ndisplayName\nlogin\n}\ngame {\nid\nname\n}\ncreationState\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ClipsEditPoller=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ClipsEditPoller")},"9AWm":function(e,t,n){},"9E+/":function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoAdRequestHandling"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isLive"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isVOD"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isCollection"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoAdRequestCurrentUser"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isLive"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoAdRequestBroadcaster"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isVOD"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoAdRequestVOD"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isCollection"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoAdRequestVOD"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoAdRequestBroadcaster"},directives:[]}]}}]}}]}}],loc:{start:0,end:568}};i.loc.source={body:'#import "./broadcaster.gql"\n#import "./video.gql"\n#import "./current-user.gql"\nquery VideoAdRequestHandling(\n$login: String!\n$vodID: ID!\n$collectionID: ID!\n$isLive: Boolean!\n$isVOD: Boolean!\n$isCollection: Boolean!\n) {\ncurrentUser {\n...VideoAdRequestCurrentUser\n}\nuser(login: $login) @include(if: $isLive) {\n...VideoAdRequestBroadcaster\n}\nvideo(id: $vodID) @include(if: $isVOD) {\n...VideoAdRequestVOD\n}\ncollection(id: $collectionID) @include(if: $isCollection) {\nid\nitems(first: 1) {\nedges {\nnode {\n...VideoAdRequestVOD\n}\n}\n}\nowner {\n...VideoAdRequestBroadcaster\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("S9aP").definitions)),i.definitions=i.definitions.concat(r(n("TZqV").definitions)),i.definitions=i.definitions.concat(r(n("qRon").definitions));var o={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),o[e.name.value]=t}})),e.exports=i,e.exports.VideoAdRequestHandling=function(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=o[t]||new Set,a=new Set,r=new Set;for(i.forEach((function(e){r.add(e)}));r.size>0;){var l=r;r=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(o[e]||new Set).forEach((function(e){r.add(e)})))}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(i,"VideoAdRequestHandling")},"9cHc":function(e,t,n){e.exports=n.p+"assets/ghost-0b3330e7d9b4c970f7dc.svg"},"9pLp":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionsInfoBalloon"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"extensionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"extensionVersion"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extension"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"extensionID"}}},{kind:"Argument",name:{kind:"Name",value:"version"},value:{kind:"Variable",name:{kind:"Name",value:"extensionVersion"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"screenshotURLs"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:153}};n.loc.source={body:"query ExtensionsInfoBalloon($extensionID: ID! $extensionVersion: String) {\nextension(id: $extensionID version: $extensionVersion) {\nid\nscreenshotURLs\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ExtensionsInfoBalloon=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ExtensionsInfoBalloon")},"9ysU":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("pVnL"),a=n.n(i),r=n("q1tI"),o=n("P+FS"),s=n("qc9Q"),l=n("wt2C"),c=n("JjwZ"),d=n("E1Lb"),u=n("OCDW"),p=n("Yegi"),m=n("IyK4"),f=function(e){var t,n;return void 0!==(n=e).src&&void 0!==n.alt&&(t=r.createElement(u.a,{className:"tw-drop-down-menu-item-figure--image"},r.createElement(l.b,{ratio:e.aspectRatio||l.c.Aspect1x1},r.createElement(c.a,Object(s.a)(e))))),function(e){return void 0===e.src}(e)&&(t=r.createElement(u.a,{display:p.h.Flex,alignItems:p.b.Center},r.createElement(d.a,{asset:e.icon}))),r.createElement(m.a,a()({className:"tw-drop-down-menu-item-figure"},Object(o.a)(e)),t)};f.displayName="DropDownMenuItemFigure",f.displayName="DropDownMenuItemFigure"},A6FP:function(e,t,n){},AARb:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayerVODPostplayRecommendationsVideo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"640"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"360"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewingHistory"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerVODPostplayRecommendations"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"videos"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"32"}},{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"EnumValue",value:"TIME"}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ARCHIVE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayerVODPostplayRecommendationsVideo"},directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:422}};n.loc.source={body:"fragment VideoPlayerVODPostplayRecommendationsVideo on Video {\nid\ncreatedAt\nlengthSeconds\ntitle\npreviewThumbnailURL(width: 640 height: 360)\ngame {\nid\nname\n}\nself {\nviewingHistory {\nposition\n}\n}\n}\nquery VideoPlayerVODPostplayRecommendations($videoID: ID!) {\nvideo(id: $videoID) {\nid\nowner {\nid\ndisplayName\nvideos(first: 32 sort: TIME type: ARCHIVE) {\nedges {\nnode {\n...VideoPlayerVODPostplayRecommendationsVideo\n}\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoPlayerVODPostplayRecommendations=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoPlayerVODPostplayRecommendations")},AKMF:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("mrSG"),a=n("/7QA"),r=n("S1Za");function o(e){return e.videoPlayer.activeVideoPlayerInstanceRefID}a.p.store.registerReducer("videoPlayer",(function(e,t){switch(void 0===e&&(e={activeVideoPlayerInstanceRefID:void 0}),t.type){case r.a:return Object(i.__assign)(Object(i.__assign)({},e),{activeVideoPlayerInstanceRefID:t.playerRefID});default:return e}}))},AM4R:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("mrSG"),a=n("q1tI"),r=n("ANjH"),o=n("IMms"),s=n("juvP"),l=n("Fn4s"),c=n("0BjR"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeInSecFloored=0,t.onTimeChanged=function(){var e=t.props.mediaPlayerInstance;if(e){var n=e.getPosition(),i=Math.floor(n),a=e.getStartOffset()||0;t.props.onTimeChanged&&t.props.onTimeChanged(n,a),i!==t.timeInSecFloored&&(t.props.onTimeSecondsChanged&&t.props.onTimeSecondsChanged(i,a),t.timeInSecFloored=i)}},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.throttleMilliseconds?(this.onTimeChangedThrottled=Object(o.a)(this.onTimeChanged,this.props.throttleMilliseconds,{leading:!1}),this.props.playerEvents.addEventListener(c.f.TIME_UPDATE,this.onTimeChangedThrottled)):this.props.playerEvents.addEventListener(c.f.TIME_UPDATE,this.onTimeChanged)},t.prototype.componentDidUpdate=function(e){e.throttleMilliseconds&&!this.props.throttleMilliseconds?(this.props.playerEvents.removeEventListener(c.f.TIME_UPDATE,this.onTimeChangedThrottled),this.onTimeChangedThrottled.cancel(),this.props.playerEvents.addEventListener(c.f.TIME_UPDATE,this.onTimeChanged)):!e.throttleMilliseconds&&this.props.throttleMilliseconds&&this.props.playerEvents.removeEventListener(c.f.TIME_UPDATE,this.onTimeChanged),this.props.throttleMilliseconds&&e.throttleMilliseconds!==this.props.throttleMilliseconds&&(e.throttleMilliseconds&&(this.props.playerEvents.removeEventListener(c.f.TIME_UPDATE,this.onTimeChangedThrottled),this.onTimeChangedThrottled.cancel()),this.onTimeChangedThrottled=Object(o.a)(this.onTimeChanged,this.props.throttleMilliseconds,{leading:!1}),this.props.playerEvents.addEventListener(c.f.TIME_UPDATE,this.onTimeChangedThrottled))},t.prototype.componentWillUnmount=function(){this.onTimeChangedThrottled&&(this.props.playerEvents.removeEventListener(c.f.TIME_UPDATE,this.onTimeChangedThrottled),this.onTimeChangedThrottled.cancel())},t.prototype.render=function(){return null},t}(a.Component),u=Object(r.d)(Object(l.c)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),Object(s.a)())(d)},"AU/8":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ClipShareOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:94}};n.loc.source={body:"query ClipShareOverlay($slug: ID!) {\nclip(slug: $slug) {\nid\nbroadcaster {\nid\nlogin\n}\ntitle\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ClipShareOverlay=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ClipShareOverlay")},AoeK:function(e,t,n){},Ar2k:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return v}));var i,a=n("mrSG"),r=n("TSYQ"),o=n("q1tI"),s=n("/0dD"),l=n("76Lv"),c=n("4Nlk"),d=n("OCDW"),u=n("mDIl"),p=(n("f0/i"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e,t=((e={})[Object(l.b)(s.a.Dark)]=this.props.forceDarkTheme,e),n=Object(a.__assign)({direction:c.b.Right,show:!0},this.props.balloonProps);return o.createElement(d.a,{className:r("rich-content-tooltip",t)},this.props.children,o.createElement(u.a,Object(a.__assign)({},n),o.createElement("div",{ref:this.props.refCallback,className:"rich-content-tooltip__pointer-target"},o.createElement(d.a,{padding:.5},this.props.content))))},t}(o.Component)),m=n("/7QA"),f=n("oBNK"),v=(n("lX3L"),function(e){function t(t){var n=e.call(this,t)||this;return n.state={isError:!1,options:null,richOptions:null,hovering:!1},n.logger=m.p.logger.withCategory("tooltip-layer"),n.clearTimeoutAndRun=function(e,t){void 0===t&&(t=0),n.displayTimeout&&(clearTimeout(n.displayTimeout),n.displayTimeout=0),n.displayTimeout=setTimeout((function(){e(),n.displayTimeout=0}),t)},n.setRef=function(e){n.removeEventListeners(),n.addEventListeners(e),n.ref=e},n.addEventListeners=function(e){e&&(e.addEventListener("mouseenter",n.handleMouseEnter),e.addEventListener("mouseleave",n.handleMouseLeave),e.addEventListener("click",n.handleMouseClick))},n.removeEventListeners=function(){n.ref&&(n.ref.removeEventListener("mouseenter",n.handleMouseEnter),n.ref.removeEventListener("mouseleave",n.handleMouseLeave),n.ref.removeEventListener("click",n.handleMouseClick))},n.handleMouseEnter=function(){n.setState({hovering:!0})},n.handleMouseLeave=function(){n.setState({hovering:!1},(function(){n.displayTimeout||n.hideTooltip()}))},n.handleMouseClick=function(){n.setState({hovering:!1},(function(){n.hideTooltip(!0)}))},i=n,n}return Object(a.__extends)(t,e),t.prototype.componentDidCatch=function(e,t){var n=this;this.setState({isError:!0},(function(){m.p.stats.recordComponentError("TooltipLayer"),n.logger.errorAndReport(e,"A unhandled exception occurred in the component hierarchy",{info:t})}))},t.prototype.render=function(){var e,t;if(this.state.isError)return null;var n=this.state.options&&this.state.options.from||this.state.richOptions&&this.state.richOptions.from;if(!n)return null;var i=this.state.richOptions?2:0,s=n.getBoundingClientRect(),l={transform:"translate("+Math.floor(s.left)+"px, "+Math.floor(s.top)+"px)",width:this.state.options&&this.state.options.elementWidth?this.state.options.elementWidth+i:s.width+i,height:s.height},c=o.createElement("div",{style:{width:l.width,height:l.height}}),d=null;this.state.options?d=o.createElement(f.a,{direction:this.state.options.direction,align:this.state.options.align,label:this.state.options.label,width:this.state.options.width,show:!0},c):this.state.richOptions&&(d=o.createElement(p,{content:this.state.richOptions.richContent,refCallback:this.state.richOptions.allowHover&&this.setRef||void 0,forceDarkTheme:this.state.richOptions.forceDarkTheme,balloonProps:Object(a.__assign)(Object(a.__assign)({},this.state.richOptions.balloonProps),{show:!0})},c));var u=r({"tooltip-layer":!0,"tooltip-layer__modal":(null===(e=this.state.options)||void 0===e?void 0:e.renderInModal)||(null===(t=this.state.richOptions)||void 0===t?void 0:t.renderInModal)});return o.createElement("div",{className:u,style:l},d)},t.prototype.showTooltip=function(e){var t=this;this.clearTimeoutAndRun((function(){t.setState({options:e,richOptions:null})})),this.hoverTimeout&&(clearTimeout(this.hoverTimeout),this.hoverTimeout=0)},t.prototype.showRichTooltip=function(e){var t=this;this.clearTimeoutAndRun((function(){t.setState({richOptions:e,options:null})}),e&&e.delayOpenMS&&!this.hoverTimeout?e.delayOpenMS:0),this.hoverTimeout&&(clearTimeout(this.hoverTimeout),this.hoverTimeout=0)},t.prototype.hideTooltip=function(e){var t=this;e||this.state.hovering||this.displayTimeout||(this.hoverTimeout=setTimeout((function(){clearTimeout(t.hoverTimeout),t.hoverTimeout=0}),1e3)),this.clearTimeoutAndRun((function(){t.state.hovering||t.setState({options:null,richOptions:null})}),!e&&this.state.richOptions&&this.state.richOptions.allowHover?400:0)},t}(o.Component));function g(){return function(e){return function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.logger=m.k.withCategory("TooltipLayer"),e.show=function(t){i?i.showTooltip(t):e.logger.errorAndReport(new Error,"Attempted to show a tooltip in the global layer, but the global layer was not mounted.")},e.showRich=function(t){i?i.showRichTooltip(t):e.logger.errorAndReport(new Error,"Attempted to show a tooltip in the global layer, but the global layer was not mounted.")},e.hide=function(){i?i.hideTooltip():e.logger.errorAndReport(new Error,"Attempted to show a tooltip in the global layer, but the global layer was not mounted.")},e}return Object(a.__extends)(n,t),n.prototype.render=function(){var t={tooltipLayer:{show:this.show,showRich:this.showRich,hide:this.hide}};return o.createElement(e,Object(a.__assign)({},this.props,t))},n.displayName="WithTooltipLayerManipulation("+(e.displayName||e.name||"Component")+")",n}(o.Component)}}},Av26:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("q1tI"),a=n("ANjH"),r=n("2Ygb"),o=n("1rIY");function s(e,t,n){var s=Object(o.a)(e,t),l=s.withContext;return{withMemoContext:function(e){return function(t){var o=l(e||n),s=Object(a.d)(o,i.memo)(t);return s.displayName=Object(r.a)("withVideoPlayerContext",t),s}},context:s.context}}},B2TP:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"createClip"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateClipInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createClip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:110}};n.loc.source={body:"mutation createClip($input: CreateClipInput!) {\ncreateClip(input: $input) {\nclip {\nid\nurl\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.createClip=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"createClip")},B8XJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("pVnL"),a=n.n(i),r=n("8OQS"),o=n.n(r),s=n("q1tI"),l=n("SWse"),c=function(e){var t=e.alternateRows,n=e.className,i=o()(e,["alternateRows","className"]),r={};return t&&(r["tw-table--alternate-rows"]=!0),s.createElement("table",a()({},i,{className:Object(l.a)("tw-table",r,n)}))};c.displayName="Table",c.displayName="Table"},BBJN:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return u}));var i,a=n("pVnL"),r=n.n(a),o=n("q1tI"),s=n("SWse"),l=n("P+FS"),c=n("HQtB"),d=n("OCDW");!function(e){e.Default="",e.Small="tw-grid--gutter-sm",e.Medium="tw-grid--gutter-md",e.Large="tw-grid--gutter-lg",e.None="tw-grid--gutter-none"}(i||(i={}));var u=function(e){var t={"tw-grid":!0};return e.gutterSize&&(t[e.gutterSize]=!0),o.createElement(d.a,r()({alignItems:e.alignItems,fullHeight:e.fullHeight,justifyContent:e.justifyContent,breakpointExtraSmall:e.breakpointExtraSmall,breakpointSmall:e.breakpointSmall,breakpointMedium:e.breakpointMedium,breakpointLarge:e.breakpointLarge,breakpointExtraLarge:e.breakpointExtraLarge,breakpointExtraExtraLarge:e.breakpointExtraExtraLarge,className:Object(s.a)(t)},Object(c.a)(e),Object(l.a)(e)),e.children)};u.displayName="Grid",u.displayName="Grid"},BQmI:function(e,t,n){},"BQs+":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return p}));var i,a=n("mrSG"),r=n("/7QA"),o=n("2xye"),s=n("IZXT"),l=n("I6K6"),c=n("bTcf"),d=n("L7EG");function u(e,t,n){return Object(a.__awaiter)(this,void 0,void 0,(function(){var i,c,p,m,f,v;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:a.trys.push([0,5,,6]),i=void 0,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.query({query:d,variables:{videoID:e.id}})];case 2:return c=a.sent().data,i=c,[3,4];case 3:return p=a.sent(),Object(s.d)()?r.k.warn("Failed to query tracking video"):r.k.errorAndReport(p,"Failed to query tracking video"),[2];case 4:return m=function(e,t){return{id:e.id,owner:t.owner,broadcastType:t.broadcastType,game:t.game}}(e,i.video),f={channel:m.owner?m.owner.login:null,channel_id:Number(e.owner.id),game:m.game?m.game.name:null,partner:!!m.owner&&m.owner.roles.isPartner,location:t.location,share_context:t.collectionID?o.ShareItemContext.Collection:null,share_platform:t.platform,shared_item_id:t.collectionID?t.collectionID:m.id,shared_item_type:t.collectionID?o.ShareItemType.Collection:Object(l.a)(m.broadcastType),shared_item_url:t.shareURL,source_item_id:m.id,source_item_type:Object(l.a)(m.broadcastType)},r.p.tracking.track(o.SpadeEventType.ShareItem,f),[3,6];case 5:return v=a.sent(),r.k.errorAndReport(v.toString(),u.name),[3,6];case 6:return[2]}}))}))}function p(e,t,n){return Object(a.__awaiter)(this,void 0,void 0,(function(){var i,s,l;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,n.query({query:c,variables:{creatorID:e.owner.id}})];case 1:return i=a.sent().data,s={channel:i.user?i.user.login:null,channel_id:Number(e.owner.id),game:null,partner:!!i.user&&i.user.roles.isPartner,location:t.location,share_context:null,share_platform:t.platform,shared_item_id:e.id,shared_item_type:o.ShareItemType.Collection,shared_item_url:t.shareURL,source_item_id:e.id,source_item_type:o.SourceItemType.Collection},r.p.tracking.track(o.SpadeEventType.ShareItem,s),[3,3];case 2:return l=a.sent(),r.k.errorAndReport(l.toString(),p.name),[3,3];case 3:return[2]}}))}))}!function(e){e.Copy="link",e.Embed="option_embed",e.Facebook="fb",e.Link="option_link",e.Reddit="reddit",e.Twitter="twitter",e.Unknown="",e.VKontakte="vk",e.Download="download"}(i||(i={}))},Bnzf:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return d}));var i,a,r=n("/7QA"),o=n("i/Zp");!function(e){e.MUTED="video-muted",e.QUALITY="video-quality"}(a||(a={}));var s="default",l=((i={})[a.MUTED]=[{segmentKey:"carousel",playerTypes:[o.a.Frontpage]}],i[a.QUALITY]=[{segmentKey:"clips",playerTypes:[o.a.ClipsEditing,o.a.ClipsViewing,o.a.ClipsEmbed,o.a.ClipsWatchPage]}],i);function c(e,t){var n=l[e];for(var i in n)if(n[i].playerTypes&&n[i].playerTypes.includes(t))return n[i].segmentKey;return s}var d={get:function(e,t){return r.p.storage.get(e,{})[c(e,t)]},set:function(e,t,n){var i=r.p.storage.get(e,{});i[c(e,t)]=n,r.p.storage.set(e,i)}}},By5U:function(e,t){},C94G:function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var i,a,r,o=n("mrSG"),s=n("mhh4"),l=n.n(s),c=n("lPix"),d=n.n(c),u=n("y6Ww"),p=n.n(u),m=n("Y8dt"),f=n.n(m),v=n("I0QV"),g=n.n(v),h=n("xtP5"),b=n.n(h),y=n("fMSA"),k=n.n(y),S=n("3A8p"),E=n.n(S),C=n("xWjd"),O=n.n(C),_=n("cr+I"),w=n("/7QA"),P=n("D7An"),N=n("0BjR"),T={key:"cvp-log",validValues:["debug","error","info","warn"],defaultValue:"error"};!function(e){e.Base="player-core-base",e.VarA="player-core-variant-a",e.VarB="player-core-variant-b"}(r||(r={}));var D=((i={})[r.Base]={baseJs:p.a,wasmJs:l.a,wasm:d.a,mediaPlayerLoader:function(){return Promise.all([n.e(0),n.e(285)]).then(n.t.bind(null,"LLme",7))}},i[r.VarA]={baseJs:b.a,wasmJs:f.a,wasm:g.a,mediaPlayerLoader:function(){return Promise.all([n.e(0),n.e(286)]).then(n.t.bind(null,"ZwuK",7))}},i[r.VarB]={baseJs:O.a,wasmJs:k.a,wasm:E.a,mediaPlayerLoader:function(){return Promise.all([n.e(0),n.e(287)]).then(n.t.bind(null,"Eykc",7))}},i),I=new Map([["debug",N.d.DEBUG],["error",N.d.ERROR],["warn",N.d.WARN],["info",N.d.INFO]]);function A(){var e;return Object(o.__awaiter)(this,void 0,Promise,(function(){var t,n,i,s,l,c,d,u,p,m,f,v,g,h,b;return Object(o.__generator)(this,(function(o){switch(o.label){case 0:return t=performance.now(),n=w.p.store.getState(),i=!(!n.session.user||!n.session.user.roles)&&n.session.user.roles.isStaff,s=w.p.experiments.getAndTrackAssignment(i?"TWILIGHT_PLAYER_CORE_NPM_STAFF":"TWILIGHT_PLAYER_CORE_NPM")||"",y=(s||"").match(/([^+]+)(?:\+([^+]+))?/),k=y?"player-core-"+y[1]:r.Base,l=k in D?k:r.Base,c={enableRemoteSearch:!0,wasmWorker:"",asmWorker:"",wasmBinary:""},[4,(d=D[l]).mediaPlayerLoader()];case 1:return u=o.sent(),a||(p=new URL(d.wasmJs,document.URL).toString(),m=new URL(d.wasm,document.URL).toString(),f=new URL(d.baseJs,document.URL).toString(),a=u.isWasmSupported?u.createWorker(p,m):u.createWorker(f,d.wasm)),(v=new u.MediaPlayer(c,a)).setClientId(w.p.config.authSettings.clientID),v.setLogLevel(I.get(function(){var e=_.parse(window.location.search)[T.key];if(!e||-1===T.validValues.indexOf(e))return T.defaultValue;return e}())||N.d.ERROR),"player_warp",(g=null===(e=P.b.player_warp)||void 0===e?void 0:e.id)&&null!==(h=w.p.experiments.getExperimentById(g))&&(v.setExperimentData?v.setExperimentData(h):null!==h.assignment&&v.setExperiment(g,h.assignment)),v.addEventListener(N.f.INITIALIZED,(function(){if(v.getExperiments&&v.setExperiment){var e=v.getExperiments();for(var t in w.p.experiments.addToDefaultAssignments(e),e)if(e.hasOwnProperty(t)&&t!==g){var n=w.p.experiments.getExperimentById(t);null!==n&&(v.setExperimentData?v.setExperimentData(n):null!==n.assignment&&v.setExperiment(t,n.assignment))}}})),b=new Promise((function(e){v.addEventListener(N.f.INITIALIZED,(function(){var n=Math.round(performance.now()-t);e(n)}))})),[2,{mediaPlayerInstance:v,playerLoadTimePromise:b,mediaPlayerHandle:u,isWasm:u.isWasmSupported}]}var y,k}))}))}},CB2K:function(e,t,n){},CGXs:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("mrSG"),a=n("q1tI"),r=n("emD7"),o=n("/7QA");function s(e,t,n){var s=Object(a.useState)(null),l=s[0],c=s[1],d=Object(a.useState)(null),u=d[0],p=d[1];e!==Object(r.a)(e)&&p(null);var m=Object(a.useRef)(n);m.current=n;var f=function(){c((function(e){return Object(i.__assign)(Object(i.__assign)({},e),{isSubscribing:!1})}))},v=function(e){c((function(t){return Object(i.__assign)(Object(i.__assign)({},t),{error:e,isSubscribing:!1})}))};return Object(a.useEffect)((function(){if(!t&&e){c((function(e){return Object(i.__assign)(Object(i.__assign)({},e),{isSubscribing:!0})}));var n=o.l.subscribe({topic:e,success:f,failure:v,onMessage:function(e){m.current&&m.current(e)||p(e)}});return function(){n(),c(null),p(null)}}}),[e,t]),[u,l]}},"CTw/":function(e,t,n){},CZEi:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("pVnL"),a=n.n(i),r=n("q1tI"),o=n("P+FS"),s=n("HQtB"),l=n("Yegi"),c=n("OCDW"),d=function(e){var t,n,i;return e.row&&(t=l.b.Center),e.elevation&&(n=e.elevation),e.background===l.d.Overlay&&(i=l.f.Overlay),r.createElement(c.a,a()({className:"tw-card",position:l.o.Relative},Object(s.a)(e),Object(o.a)(e)),r.createElement(c.a,{display:l.h.Flex,flexDirection:e.row?l.i.Row:l.i.Column,alignItems:t,elevation:n,background:e.background,borderRadius:e.borderRadius,color:i,border:e.border,flexWrap:l.j.NoWrap},e.children))};d.displayName="Card",d.displayName="Card"},CZEr:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"FollowButton_UnfollowUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnfollowUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unfollowUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follow"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disableNotifications"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:240}};n.loc.source={body:"mutation FollowButton_UnfollowUser($input: UnfollowUserInput!) {\nunfollowUser(input: $input) {\n# This mutation returns the unmutated follower edge.\n# We actually do not care about any field returned here.\nfollow {\ndisableNotifications\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.FollowButton_UnfollowUser=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"FollowButton_UnfollowUser")},Cdgh:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"l",(function(){return p})),n.d(t,"j",(function(){return m})),n.d(t,"h",(function(){return v})),n.d(t,"q",(function(){return g})),n.d(t,"a",(function(){return h})),n.d(t,"p",(function(){return S})),n.d(t,"k",(function(){return E})),n.d(t,"i",(function(){return C})),n.d(t,"m",(function(){return O})),n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return w})),n.d(t,"n",(function(){return P})),n.d(t,"g",(function(){return N})),n.d(t,"o",(function(){return T})),n.d(t,"r",(function(){return D}));var i=n("mrSG"),a=n("uhBA"),r=n("wUQP"),o=n("DMoW"),s=n("4rCz"),l=new a.EventEmitter,c=5e3,d=4e3,u=new Map([[0,{id:"88",token:"PogChamp"}],[1,{id:"9",token:"<3"}],[2,{id:"81274",token:"VoHiYo"}]]),p=function(e,t){var n=t.find((function(t){var n;return null===(n=null==t?void 0:t.offers)||void 0===n?void 0:n.find((function(t){return t.id===e}))}));return n?C(n.intensity):0},m=function(e){if(!(null==e?void 0:e.subscriptionProducts))return[];var t=[];e.subscriptionProducts.forEach((function(e){e&&e.emotes&&e.emotes.forEach((function(e){e&&e.id&&e.token&&t.push({id:e.id,token:e.token})}))}));for(var n=0;t.length<3;)t.push(u.get(n)||{id:"81274",token:"VoHiYo"}),n++;return t},f={velocityMin:8,velocityMax:20,drag:.04,decayMin:.015,decayMax:.04,timeUntilDecay:1500,gravity:.011,distance:800,particlesNum:80,numUniqueEmotes:3,fireworks:[{xPercent:.5,yPercent:.25,delay:400},{xPercent:.25,yPercent:.5,delay:950},{xPercent:.75,yPercent:.5,delay:1500}],throttle:2e3},v=function(){var e,t=s.b.get("celebi_animation_settings","{}");try{e=JSON.parse(t)}catch(t){s.l.warn("Unable to parse animation settings JSON from savant. Falling back to hardcoded defaults."),e=f}return Object(i.__assign)(Object(i.__assign)({},f),e)},g=function(e,t){for(var n,i,a="string"==typeof t?function(e){for(var t=0,n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t}(t):t,r=e.length;0!==r;){var o=Math.floor((i=void 0,((i=1e4*Math.sin(a++))-Math.floor(i))*r));r-=1,n=[e[o],e[r]],e[r]=n[0],e[o]=n[1]}return e};var h;o.L.BITS_CHEER,o.K.FIREWORKS,o.J.EVERYWHERE;!function(e){e[e.Cute=0]="Cute",e[e.Noice=1]="Noice",e[e.Cool=2]="Cool",e[e.Wow=3]="Wow",e[e.PogChamp=4]="PogChamp",e[e.OmegaPog=5]="OmegaPog",e[e.ExtinctionEvent=6]="ExtinctionEvent"}(h||(h={}));var b=0,y=Object.keys(h).length/2,k=Math.floor((100-b)/y);function S(e){var t=Math.floor((e-b)/k);return Math.min(h.ExtinctionEvent,Math.max(0,t))}function E(e){var t=w();switch(e){case o.K.FIREWORKS:return Object(s.d)("Fireworks","CelebrationEffect");case o.K.FLAMETHROWERS:return Object(s.d)("Flamethrowers","CelebrationEffect");case o.K.RAIN:return Object(s.d)("Rain","CelebrationEffect");default:return t}}function C(e){switch(e){case o.M.SMALL:return 2*k;case o.M.MEDIUM:return 4*k;case o.M.LARGE:return 6*k;default:return 2*k}}function O(e){var t=Object(s.d)("Small","CelebrationSize");switch(e){case o.M.SMALL:return t;case o.M.MEDIUM:return Object(s.d)("Medium","CelebrationSize");case o.M.LARGE:return Object(s.d)("Large","CelebrationSize");default:return t}}function _(e){switch(e.toUpperCase()){case"SMALL":return o.M.SMALL;case"MEDIUM":return o.M.MEDIUM;case"LARGE":return o.M.LARGE;default:return o.M.UNKNOWN}}function w(){return Object(s.d)("Celebration","CelebrationEffect")}var P=function(){return Object(r.c)("cep_enabled")},N=function(e){return l.emit("celebrationPurchaseSuccessEvent",e)},T=function(e){return l.on("celebrationPurchaseSuccessEvent",e)},D=function(e){return l.off("celebrationPurchaseSuccessEvent",e)}},CoFg:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("pVnL"),a=n.n(i),r=n("q1tI"),o=n("SWse"),s=n("P+FS"),l=n("HQtB"),c=n("IyK4"),d=n("Yegi"),u=n("hMTT"),p=n("gdM2"),m=function(e,t){var n={"tw-select":!0,"tw-select--small":e.size===p.c.Small,"tw-select--large":e.size===p.c.Large,"tw-select--disabled":e.disabled,"tw-select--error":e.error,"tw-select--overlay":e.overlay},i=p.c.Default;return e.size&&(i=e.size),r.createElement(c.a,{display:d.h.Block,borderRadius:p.a[e.size?e.size:p.c.Default],fontSize:p.b[i],padding:{left:1,right:3,y:e.size===p.c.Small?void 0:.5},fullWidth:!0},r.createElement("select",a()({className:Object(o.a)(n),defaultValue:e.defaultValue,autoComplete:e.autoComplete,disabled:e.disabled,id:e.id,name:e.name,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,required:e.required,tabIndex:e.tabIndex,value:e.value,ref:t||e.refDelegate},Object(s.a)(e),Object(l.a)(e)),e.children))};m.displayName="SelectComponent",m.displayName="Select";var f=r.forwardRef(m),v=Object(u.b)(f)},"D/KL":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PrimeSubscribe_SpendPrimeSubscriptionCredit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SpendSubscriptionCreditInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"spendSubscriptionCredit"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"platform"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endsAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:227}};n.loc.source={body:"mutation PrimeSubscribe_SpendPrimeSubscriptionCredit($input: SpendSubscriptionCreditInput!) {\nspendSubscriptionCredit(input: $input) {\nuserID\nsubscriptionBenefit {\nid\npurchasedWithPrime\ntier\nplatform\nendsAt\n}\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.PrimeSubscribe_SpendPrimeSubscriptionCredit=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"PrimeSubscribe_SpendPrimeSubscriptionCredit")},DJtx:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Clips_ModalDelete"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"curator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"thumbnailURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:143}};n.loc.source={body:"query Clips_ModalDelete($slug: ID!) {\nclip(slug: $slug) {\nid\nbroadcaster {\nid\n}\ncurator {\nid\nlogin\n}\nthumbnailURL\ncreatedAt\nviewCount\ntitle\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Clips_ModalDelete=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"Clips_ModalDelete")},"DKG/":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("pVnL"),a=n.n(i),r=n("q1tI"),o=n("SWse"),s=n("P+FS"),l=n("hMTT"),c=n("Ojlg"),d=function(e){var t;e.required&&(t=r.createElement(c.a,null));var n={"tw-form-label":!0,"tw-form-label--overlay":e.overlay};return r.createElement("label",a()({},Object(s.a)(e),{className:Object(o.a)(n),htmlFor:e.id}),t,e.label)};d.displayName="FormLabelComponent",d.displayName="FormLabelComponent";var u=Object(l.b)(d)},"DLy/":function(e,t,n){"use strict";n.d(t,"a",(function(){return B}));var i=n("mrSG"),a=n("q1tI"),r=n("ANjH"),o=n("/7QA"),s=n("EuPq"),l=n("X7Ac"),c=n("wbMx"),d=n("oC+A"),u=n("eJ65"),p=n("yR8l"),m=n("+GjP"),f=n("bRfm"),v=n("GnwI"),g=n("MLDe"),h=n("4L7N"),b=n("u5aL"),y=n("Jxh/"),k=n("r62z"),S=n("OCDW"),E=n("LNol"),C=n("Ix37"),O=n("Yegi"),_=n("AjB5"),w=n("uq9l"),P=n("p9DJ"),N=(n("+T1G"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getUrl=function(){return t.props.url||window.location.href},t.onShareClick=function(){t.props.onShareClick&&t.props.onShareClick(t.props.type)},t.copyPageUrl=function(){t.onShareClick(),Object(y.a)(t.getUrl())},t.renderIcon=function(){var e=t.getAssetFromType();return a.createElement(S.a,{className:"clips-mobile-share-sheet__share-icon clips-social-button__icon "+t.addSocialClassModifier("clips-social-button__icon")},a.createElement(E.a,{asset:e,fill:!0}))},t.isLink=function(){return t.props.type!==c.c.Copy},t.getAssetFromType=function(){switch(t.props.type){case c.c.Twitter:return C.a.Twitter;case c.c.Facebook:return C.a.Facebook;case c.c.VKontakte:return C.a.VKontakte;case c.c.Reddit:return C.a.Reddit;case c.c.Copy:default:return C.a.Copy}},t.getLabelFromType=function(){switch(t.props.type){case c.c.Twitter:return Object(o.d)("Twitter","ClipsSocialShare");case c.c.Facebook:return Object(o.d)("Facebook","ClipsSocialShare");case c.c.VKontakte:return Object(o.d)("VK","ClipsSocialShare");case c.c.Reddit:return Object(o.d)("Reddit","ClipsSocialShare");case c.c.Copy:return Object(o.d)("Copy","ClipsSocialShare");default:return""}},t.addSocialClassModifier=function(e){switch(t.props.type){case c.c.Twitter:return e+"--twitter";case c.c.Reddit:return e+"--reddit";case c.c.Facebook:return e+"--facebook";case c.c.VKontakte:return e+"--vkontakte";case c.c.Copy:return e+"--copy";default:return""}},t.getLinkTarget=function(){var e=t.props,n=e.text,i=e.type,a=t.getUrl(),r=n||"";switch(i){case c.c.Reddit:return Object(k.b)(a,r);case c.c.VKontakte:return Object(k.d)(a);case c.c.Facebook:return Object(k.a)(a);case c.c.Twitter:return Object(k.c)(a,r);default:return""}},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=a.createElement(S.a,{className:"clips-mobile-share-sheet__row",display:O.h.Flex,alignItems:O.b.Center,key:this.props.type,margin:{bottom:1,x:2}},this.renderIcon(),a.createElement(_.a,{margin:{left:1}},a.createElement(w.a,{type:w.e.Span},this.getLabelFromType())));return this.renderLink(e)},t.prototype.renderLink=function(e){return this.isLink()?a.createElement(P.a,{linkTo:this.getLinkTarget(),targetBlank:!0,onClick:this.onShareClick,"data-test-selector":"clips-social-button__link"},e):a.createElement("div",{onClick:this.copyPageUrl,"data-test-selector":"clips-social-button__link"},e)},t}(a.Component)),T=[{type:l.c.Twitter,params:{tt_medium:"twtr"}},{type:l.c.Facebook,params:{tt_medium:"fb"}},{type:l.c.Reddit,params:{tt_medium:"redt"}},{type:l.c.Embed},{type:l.c.Copy}],D=n("5e0Q"),I=n("zZ9p"),A=n("swlv"),j=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isModalOpen:!1,isCopiedModalOpen:!1,prevClipID:t.props.clip.id},t.onToggleShareButton=function(){t.setState((function(e){return{isModalOpen:!e.isModalOpen}}))},t.onShareClick=function(e){t.setState({isModalOpen:!1}),e===c.c.Copy&&(t.setState({isCopiedModalOpen:!0}),setTimeout((function(){return t.setState({isCopiedModalOpen:!1})}),1500))},t.onClickOut=function(){t.setState({isModalOpen:!1})},t}return Object(i.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){return e.clip.id&&t.prevClipID&&e.clip.id!==t.prevClipID?{isModalOpen:!1,prevClipID:e.clip.id}:e.clip.id!==t.prevClipID?{prevClipID:e.clip.id}:null},t.prototype.render=function(){var e=this,t=Object(o.d)("Share Clip","ClipsSocialShare"),n=Object(o.d)("Copied!","ClipsSocialShare");return a.createElement(S.a,{display:O.h.Flex,justifyContent:O.m.End,alignItems:O.b.Center,margin:{top:1,bottom:1}},a.createElement(D.a,{type:D.d.Secondary,onClick:this.onToggleShareButton,"data-test-selector":"social-share-mobile-button"},t),this.state.isModalOpen&&a.createElement(_.a,{position:O.o.Fixed,background:O.d.Overlay,zIndex:O.t.Above,attachLeft:!0,attachTop:!0,fullHeight:!0,fullWidth:!0},a.createElement(b.a,{onClickOut:this.onClickOut},a.createElement(S.a,{position:O.o.Absolute,attachLeft:!0,attachRight:!0,attachBottom:!0,className:"clips-mobile-share-sheet",display:O.h.Flex,flexDirection:O.i.Column,zIndex:O.t.Above,"data-test-selector":"social-share-mobile-menu-root"},a.createElement(I.a,{type:I.f.SlideInBottom,enabled:this.state.isModalOpen},a.createElement(_.a,{background:O.d.Base,elevation:3,padding:{bottom:2}},a.createElement(_.a,{className:"clips-mobile-share-sheet__title",display:O.h.Flex,flexDirection:O.i.Row,justifyContent:O.m.Between,alignItems:O.b.Center,margin:{bottom:2},padding:{right:1,left:2},borderBottom:!0},a.createElement(w.a,{bold:!0,color:O.f.Alt,type:w.e.Span,fontSize:O.k.Size6,"data-test-selector":"social-share-mobile-menu-title"},t),a.createElement(A.a,{"data-test-selector":"social-share-mobile-menu-close",icon:C.a.Close,"aria-label":"Close Share",size:A.b.Large,onClick:this.onToggleShareButton})),a.createElement(S.a,null,T.map((function(t){return a.createElement(N,{key:t.type,type:t.type,text:e.props.clip.title,url:Object(m.g)(e.props.clip.url,t.params),onShareClick:e.onShareClick})})))))))),this.state.isCopiedModalOpen&&a.createElement(S.a,{fullWidth:!0,attachLeft:!0,attachBottom:!0,className:"clips-mobile-share-sheet",position:O.o.Fixed,zIndex:O.t.Above},a.createElement(I.a,{type:I.f.SlideInBottom,duration:I.c.Short,enabled:this.state.isCopiedModalOpen},a.createElement(_.a,{padding:{x:1,y:1},background:O.d.Base,elevation:3,borderTop:!0,display:O.h.Flex,alignItems:O.b.Center},a.createElement(S.a,{margin:{right:.5}},a.createElement(I.a,{type:I.f.BounceIn,duration:I.c.Medium,delay:I.b.Short,enabled:this.state.isCopiedModalOpen},a.createElement(E.a,{type:E.b.Success,asset:C.a.Check}))),a.createElement(w.a,{type:w.e.Span,fontSize:O.k.Size4,bold:!0},n)))))},t}(a.Component),x=n("mDIl"),L=n("4Nlk"),F=n("afq6"),M=n("RGzP"),R=n("ydo7"),V=(n("rb53"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.trackLinkShare=function(){var e=t.props.data.clip;if(e)return Object(g.c)(e.id,e.game&&e.game.name,e.broadcaster&&e.broadcaster.id,e.broadcaster&&e.broadcaster.login,t.props.pageType)(l.c.CopyInput)},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.reportInteractive()},t.prototype.componentDidUpdate=function(){this.reportInteractive()},t.prototype.shouldComponentUpdate=function(e){return this.props.slug!==e.slug||this.props.data.loading!==e.data.loading},t.prototype.render=function(){var e=this,t=this.props.data.clip,n=f.a.platform.isMobile()||f.a.platform.isTablet(),i=!(!t||!t.id);if(!i&&!n)return a.createElement(S.a,null,this.renderPlaceholders());if(!i&&n)return a.createElement(S.a,null,this.renderMobilePlaceholders());if(!t)return null;if(n)return a.createElement(j,{clip:t});var r=Object(o.d)("More","ClipsSocialShare");return a.createElement(S.a,{display:O.h.Flex,position:O.o.Relative,zIndex:O.t.Above,justifyContent:O.m.End,alignItems:O.b.Center,margin:{y:1}},a.createElement(S.a,{display:O.h.InlineBlock,margin:{right:1}},a.createElement(h.a,{broadcasterLogin:t.broadcaster&&t.broadcaster.login||"",broadcasterId:t.broadcaster&&t.broadcaster.id||"",slug:this.props.slug,pageType:this.props.pageType})),T.map((function(n){return a.createElement(S.a,{display:O.h.InlineBlock,key:n.type,margin:{right:1}},a.createElement(c.a,{key:n.type,type:n.type,embedModalType:d.b.Clip,clipSlug:e.props.slug,text:t.title,url:Object(m.g)(t.url,n.params),onShareClick:Object(g.c)(t.id,t.game&&t.game.name,t.broadcaster&&t.broadcaster.id,t.broadcaster&&t.broadcaster.login,e.props.pageType)}))})),a.createElement(S.a,{display:O.h.InlineBlock,position:O.o.Relative},a.createElement(u.a,null,a.createElement(D.a,{type:D.d.Secondary,"aria-label":r,"data-a-target":"clips-share-button","data-test-selector":"social-share-button"},r),a.createElement(x.a,{direction:L.b.BottomRight},a.createElement(S.a,{padding:1},a.createElement(F.a,{id:"social-share-link",orientation:F.b.Vertical,label:Object(o.d)("Link","ClipsSocialShare"),"data-test-selector":"social-share-link"},a.createElement(s.a,{value:t.url,onClick:this.trackLinkShare})))))))},t.prototype.reportInteractive=function(){this.props.data.clip&&this.props.latencyTracking.reportInteractive()},t.prototype.renderPlaceholders=function(){return a.createElement(I.a,{type:I.f.FadeIn,duration:I.c.Medium,enabled:!0},a.createElement(S.a,{margin:{top:1,bottom:1},display:O.h.Flex,justifyContent:O.m.End},a.createElement(S.a,{margin:{left:1}},a.createElement(M.a,{width:30,height:30})),a.createElement(S.a,{margin:{left:1}},a.createElement(M.a,{width:30,height:30})),a.createElement(S.a,{margin:{left:1}},a.createElement(M.a,{width:30,height:30})),a.createElement(S.a,{margin:{left:1}},a.createElement(M.a,{width:30,height:30})),a.createElement(S.a,{margin:{left:1}},a.createElement(M.a,{width:46,height:30}))))},t.prototype.renderMobilePlaceholders=function(){return a.createElement(S.a,{margin:{y:1},display:O.h.Flex,justifyContent:O.m.End},a.createElement(S.a,null,a.createElement(M.a,{width:72,height:30})))},t}(a.Component)),B=Object(r.d)(Object(v.withLatencyTracking)("ClipsSocialShare"),Object(p.a)(R))(V)},DWKZ:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return h}));var i=n("mrSG"),a=n("q1tI"),r=n("/MKj"),o=n("ANjH"),s=n("juvP"),l=n("0BjR"),c=n("Av26"),d=n("Fn4s"),u=n("tGfV"),p=Object(c.a)("PlayerActivityContext",{disablePlayerActiveTimeout:function(){return null},enablePlayerActiveTimeout:function(){return null}},(function(e){return{playerActivityContext:e}})),m=p.withMemoContext,f=p.context,v=5e3,g=function(e){function t(t){var n=e.call(this,t)||this;return n.listenersAttached=!1,n.playerActiveTimeoutEnabled=!0,n.mouseIsInsidePlayer=!1,n.handleMouseEnter=function(){n.mouseIsInsidePlayer=!0,n.setPlayerActive()},n.handleMouseLeave=function(){n.mouseIsInsidePlayer=!1,n.setPlayerInactive()},n.onMouseMove=function(){n.mouseIsInsidePlayer&&(n.mouseMoveRAF||(n.mouseMoveRAF=requestAnimationFrame(n.setPlayerActive)))},n.onQualityChange=function(){var e=n.props.mediaPlayerInstance;e&&!e.isAutoQualityMode()&&n.setPlayerActive()},n.setPlayerActive=function(){n.clearPlayerActiveTimeout(),n.setState((function(e){return e.active?null:{active:!0}}),n.setPlayerActiveTimeout)},n.setPlayerInactive=function(){n.clearPlayerActiveTimeout(),n.clearMouseMoveRAF(),n.props.isMenuShowing||n.setState((function(e){return e.active?{active:!1}:null}))},n.setPlayerActiveTimeout=function(){n.clearPlayerActiveTimeout(),n.playerActiveTimeoutEnabled&&(n.playerActiveTimeout=setTimeout(n.setPlayerInactive,v))},n.clearPlayerActiveTimeout=function(){n.playerActiveTimeout&&(clearTimeout(n.playerActiveTimeout),delete n.playerActiveTimeout)},n.clearMouseMoveRAF=function(){n.mouseMoveRAF&&(cancelAnimationFrame(n.mouseMoveRAF),delete n.mouseMoveRAF)},n.disablePlayerActiveTimeout=function(){n.playerActiveTimeoutEnabled=!1,n.setPlayerActive()},n.enablePlayerActiveTimeout=function(){n.playerActiveTimeoutEnabled=!0,n.setPlayerActive()},n.state={disablePlayerActiveTimeout:n.disablePlayerActiveTimeout,enablePlayerActiveTimeout:n.enablePlayerActiveTimeout},n}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.props.playerEvents.addEventListener;this.maybeAttachDomEventListeners(),e(l.g.PLAYING,this.setPlayerActive),e(l.f.QUALITY_CHANGED,this.onQualityChange),e(l.f.SEEK_COMPLETED,this.setPlayerActive)},t.prototype.componentDidUpdate=function(e){this.maybeAttachDomEventListeners();var t=e.theatreModeEnabled!==this.props.theatreModeEnabled,n=e.playerIsPersisting!==this.props.playerIsPersisting,i=e.isMenuShowing!==this.props.isMenuShowing;(t||n||i)&&this.setPlayerActive()},t.prototype.componentWillUnmount=function(){var e=this.props.containerRef;e&&(e.removeEventListener("mouseleave",this.handleMouseLeave),e.removeEventListener("mouseenter",this.setPlayerActive),e.removeEventListener("mousemove",this.onMouseMove)),this.clearPlayerActiveTimeout()},t.prototype.render=function(){return a.createElement(f.Provider,{value:this.state},this.props.children||null)},t.prototype.maybeAttachDomEventListeners=function(){var e=this.props.containerRef;e&&!this.listenersAttached&&(this.listenersAttached=!0,e.addEventListener("mouseleave",this.handleMouseLeave),e.addEventListener("mouseenter",this.handleMouseEnter),e.addEventListener("mousemove",this.onMouseMove))},t}(a.Component),h=Object(o.d)(Object(s.a)(),Object(d.c)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),Object(u.e)((function(e){return{isMenuShowing:e.isMenuShowing}})),Object(r.b)((function(e){var t=e.ui;return{theatreModeEnabled:t.theatreModeEnabled,playerIsPersisting:t.persistentPlayerEnabled&&t.persistentPlayerIsPersisting}})))(g)},DWfd:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n("mrSG"),a=n("q1tI"),r=n("GAh5"),o=n.n(r),s=n("JjwZ"),l=function(e){function t(t){var n=e.call(this,t)||this;return n.setImage=function(e){var t=e.src,i=e.altSrc,a=new Image;a.onerror=function(){return n.setState({src:i})},a.onload=function(){return n.setState({src:t})},a.src=t},n.state={src:t.src},n}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.src&&this.setImage(this.props)},t.prototype.componentDidUpdate=function(e){e.src!==this.props.src&&this.setImage(this.props)},t.prototype.render=function(){return a.createElement(s.a,Object(i.__assign)({},this.props,{src:this.state.src}))},t}(a.Component),c=n("OCDW"),d=n("Yegi"),u=n("p8fB"),p=n("AjB5"),m=n("wt2C"),f=n("LNol"),v=n("Ix37"),g=n("uq9l"),h=n("eUaf"),b=(n("CB2K"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(){t.props.onClick&&t.props.onClick(t.props.index)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e={src:this.props.imageURL,alt:this.props.text};return a.createElement(c.a,{className:"media-row",display:d.h.Flex,flexWrap:d.j.NoWrap},a.createElement(u.a,{linkTo:this.props.linkTo,onClick:this.onClick,selected:this.props.active},a.createElement(c.a,{display:d.h.Flex,flexDirection:d.i.Row,padding:.5},a.createElement(p.a,{className:"media-row__image-wrapper",flexGrow:0,flexShrink:0,borderRadius:d.e.Small,overflow:d.n.Hidden,position:d.o.Relative},a.createElement(m.b,{align:m.a.Center,ratio:m.c.BoxArt},a.createElement(l,Object(i.__assign)({},e,{altSrc:o.a}))),a.createElement(p.a,{className:this.props.active?"":"media-row__image-play-overlay",alignItems:d.b.Center,background:d.d.Overlay,color:d.f.Overlay,display:d.h.Flex,justifyContent:d.m.Center,position:d.o.Absolute,attachTop:!0,attachBottom:!0,attachLeft:!0,attachRight:!0},a.createElement(f.a,{asset:v.a.Play,type:f.b.Inherit}))),a.createElement(c.a,{display:d.h.Flex,flexDirection:d.i.Column,flexGrow:1,flexShrink:1,padding:{left:1,top:1}},a.createElement(c.a,{className:"media-row__info-text"},a.createElement(g.a,null,this.props.text)),a.createElement(c.a,{className:"media-row__info-description"},a.createElement(g.a,null,this.props.description))),this.renderCount())))},t.prototype.renderCount=function(){return this.props.count?a.createElement(a.Fragment,null,a.createElement(c.a,{alignSelf:d.c.Center},a.createElement(h.a,{label:this.props.count.toString()})),a.createElement(f.a,{asset:v.a.GlyphArrRight,type:f.b.Alt})):null},t}(a.Component))},DbCr:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("pVnL"),a=n.n(i),r=n("q1tI"),o=n("P+FS"),s=n("uq9l"),l=n("Yegi"),c=function(e){return r.createElement(s.a,a()({type:s.e.P,fontSize:l.k.Size7,color:l.f.Error},Object(o.a)(e)),"*",e.errorMessage)};c.displayName="FormError",c.displayName="FormError"},DdiD:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VODPreviewOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"1280"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"720"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:115}};n.loc.source={body:"query VODPreviewOverlay($vodID: ID) {\nvideo(id: $vodID) {\nid\npreviewThumbnailURL(width: 1280 height: 720)\ntitle\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VODPreviewOverlay=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VODPreviewOverlay")},DrMV:function(e,t,n){"use strict";function i(e){return e?{height:e.clientHeight,width:e.clientWidth}:{}}n.d(t,"a",(function(){return i}))},Eh0y:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),function(e){e[e.AHEAD=-1]="AHEAD",e[e.ON_TIME=0]="ON_TIME",e[e.BEHIND=1]="BEHIND"}(i||(i={}));var a={amount:0,direction:i.ON_TIME}},EuPq:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("mrSG"),a=n("q1tI"),r=n("TwdJ"),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClickHandler=function(e){t.props.onClick&&t.props.onClick(),e.currentTarget.select()},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(r.a,{readOnly:!0,type:r.c.Text,value:this.props.value,onClick:this.handleClickHandler})},t}(a.Component)},EvGT:function(e,t,n){},Ey21:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"streamTagsTrackingTags"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Stream"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"streamTagsTrackingTag"},directives:[]}]}}]}}],loc:{start:0,end:175}};i.loc.source={body:'#import "twilight/features/video-player/components/stream-tags-tracking/query-fragment-tag.gql"\nfragment streamTagsTrackingTags on Stream {\ntags {\n...streamTagsTrackingTag\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("ZaRQ").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))),e.exports=i},F6zs:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("q1tI"),a=n("uq9l"),r=n("f00E"),o=function(){function e(e){this.counter=0,this.prefix="",this.prefix=e||Object(r.c)(),this.reset()}return e.prototype.reset=function(){this.counter=0},e.prototype.bold=function(){var e=this;return function(t){return i.createElement(a.a,{key:e.key(),type:a.e.Strong},t)}},e.prototype.key=function(){var e=this.prefix+"_"+this.counter;return this.counter++,e},e}()},"F8/l":function(e,t,n){},FCKE:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=n("q1tI").createRef()},FMdv:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("8OQS"),a=n.n(i),r=n("q1tI"),o=n("OCDW"),s=n("Yegi"),l=n("4Nlk"),c=n("vh7/"),d=function(e){var t=e.show,n=e.direction,i=e.offsetX,d=e.offsetY,u=a()(e,["show","direction","offsetX","offsetY"]);return r.createElement(o.a,{display:t?s.h.Block:s.h.Hide},r.createElement(l.a,{direction:n,offsetX:i,offsetY:d},r.createElement(c.a,u)))};d.displayName="AttachedDropDownMenu"},Fn4s:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return m}));var i=n("/7QA"),a=n("f00E"),r=n("/rYb"),o=n("Av26"),s=n("GSI7"),l=n("eWfW"),c=n("S8uQ"),d={addRestriction:function(){return null},audioBlocked:!1,accessExpiration:null,availableQualities:[],hasPlayed:!1,isLiveLowLatencyEnabled:!0,isPlayerCoreLoading:!0,liftRestriction:function(){return null},logger:i.p.logger.withCategory("DEFAULT-PLAYER-CONTEXT-PROVIDER"),playerRefID:"",playSessionId:Object(a.c)(),playSessionStartTime:0,quality:l.a,qualityBitrate:r.b,removeError:function(){return null},restrictions:Object(s.b)(),setError:function(){return null},sourceStatus:c.a.Loading,updateContext:function(){return null},resetOnSourceChange:function(){return null},playerLoadTimePromise:void 0,speed:1},u=Object(o.a)("PlayerContext",d,(function(e){return{playerContext:e}})),p=u.withMemoContext,m=u.context},G228:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("mrSG"),a=n("q1tI"),r=n("N0BP"),o=n("swlv"),s=n("oBNK"),l=a.memo((function(e){var t=a.createElement(o.a,Object(i.__assign)({icon:e.buttonIcon,linkTo:e.linkTo,onClick:e.onClick,disabled:e.disabled,"aria-label":e.label,overlay:!0},Object(r.a)(e)));return e.disabled?t:a.createElement(s.a,{label:e.label,align:e.tooltipAlign||s.b.Center,direction:e.tooltipDirection||s.c.Top,show:!!e.tooltipForceShow},t)}))},G9R1:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return v}));var i,a=n("pVnL"),r=n.n(a),o=n("q1tI"),s=n("SWse"),l=n("P+FS"),c=n("HQtB"),d=n("qc9Q"),u=n("wt2C"),p=n("JjwZ"),m=n("OCDW"),f=n("Yegi");!function(e){e.Default="tw-card-img--size-default",e.Size2="tw-card-img--size-2",e.Size3="tw-card-img--size-3",e.Size4="tw-card-img--size-4",e.Size6="tw-card-img--size-6",e.Size8="tw-card-img--size-8",e.Size12="tw-card-img--size-12",e.Size16="tw-card-img--size-16",e.Size24="tw-card-img--size-24",e.Size32="tw-card-img--size-32"}(i||(i={}));var v=function(e){var t={"tw-card-img":!0};return e.size&&e.size!==i.Default&&(t[e.size]=!0),o.createElement(m.a,r()({className:Object(s.a)(t),flexShrink:0,borderRadius:e.borderRadius,overflow:f.n.Hidden},Object(c.a)(e),Object(l.a)(e)),o.createElement(u.b,{ratio:e.aspect?e.aspect:u.c.Aspect16x9,overflow:e.overflow},o.createElement(p.a,Object(d.a)(e))),e.children)};v.displayName="CardImage",v.displayName="CardImage"},GAh5:function(e,t,n){e.exports=n.p+"assets/404_boxart-285x380-e47bf9697a801efb5447.jpg"},GLwt:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("q1tI"),a=function(e){var t=void 0===e?{}:e,n=t.initialValue,a=void 0!==n&&n,r=t.enterDelay,o=void 0===r?200:r,s=Object(i.useState)(a),l=s[0],c=s[1],d=Object(i.useState)(null),u=d[0],p=d[1],m=Object(i.useRef)(null),f=Object(i.useRef)();function v(){f.current&&window.clearTimeout(f.current)}var g=Object(i.useCallback)((function(){v(),f.current=window.setTimeout((function(){c(!0)}),o)}),[o]),h=Object(i.useCallback)((function(){v(),c(!1)}),[]),b=Object(i.useCallback)((function(e){null!==document.querySelector("html[data-js-focus-visible]")&&null===e.currentTarget.querySelector("[data-focus-visible-added]")||c(!0)}),[]);return{isOpen:l,setIsOpen:c,anchorRef:u,setAnchorRef:p,popperRef:m,anchorProps:{ref:p,onMouseEnter:g,onMouseLeave:h,onFocus:b,onBlur:h},tooltipProps:{show:l,anchorRef:u,popperRef:m}}}},GSI7:function(e,t,n){"use strict";var i;function a(){var e;return(e={})[i.Mature]=!1,e[i.Age]=!1,e[i.TwitchGate]=!1,e[i.PremiumContent]=!1,e[i.SubscriberVOD]=!1,e}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),function(e){e.Mature="mature",e.Age="age",e.TwitchGate="twitch-gate",e.PremiumContent="premium-content",e.SubscriberVOD="subscriber-vod"}(i||(i={}))},Gchv:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryUserViewedVideo"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewedVideos"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"history"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:121}};n.loc.source={body:"query queryUserViewedVideo {\ncurrentUser {\nid\nviewedVideos(first: 100) {\nedges {\nnode {\nid\n}\nhistory {\nposition\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.queryUserViewedVideo=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"queryUserViewedVideo")},Gx9W:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.VideoAdRequest="video_ad_request",e.VideoAdRequestDeclined="video_ad_request_declined",e.VideoAdRequestError="video_ad_request_error",e.VideoAdError="video_ad_error",e.VideoAdImpression="video_ad_impression",e.VideoAdQuartileComplete="video_ad_quartile_complete",e.VideoAdPodComplete="video_ad_pod_complete"}(i||(i={}))},H31v:function(e,t,n){"use strict";var i,a;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),function(e){e.Bits="bits",e.Leaderboard="bits-leader"}(i||(i={})),function(e){e.Badge="badge_update",e.Balance="balance_update",e.FirstPurchase="first_bits_purchase",e.BadgeNotification="badge_update_notification"}(a||(a={}))},HGFl:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return u})),n.d(t,"g",(function(){return p})),n.d(t,"f",(function(){return m}));var i,a,r=n("NAv5"),o={RFC3399:"YYYY-MM-DDTHH:mm:ssZ",timeString:"h:mma",Comscore:"YYYY-MM-DD"};function s(e,t){return Object(r.format)(e,t)}function l(e,t){var n=new Date;return n.setHours(e.hours),n.setMinutes(e.minutes),n.setSeconds(0),s(n,t)}function c(e){return Object(r.parse)(e)}function d(e,t){var n=u(e),i=t||new Date;return i.setHours(n.hours,n.minutes),i}function u(e){var t=e.split(":");if(2!==t.length)throw new Error("invalid time string: "+e);var n=parseInt(t[0],10),i=parseInt(t[1].substring(0,2),10),a=t[1].substring(t[1].length-2);if(12===n&&"am"===a&&(n=0),"pm"===a&&n<12&&(n+=12),isNaN(n)||n<0||n>23||isNaN(i)||i<0||i>59)throw new Error("invalid time string: "+e);return{hours:n,minutes:i}}function p(e){return e.hours>-1&&e.hours<24&&e.minutes>-1&&e.minutes<60&&(!e.seconds||e.seconds>-1&&e.seconds<60)}function m(e,t){var n=new Date,i=t===a.Prior?n.getDate()-e:n.getDate()+e;return new Date(n.setDate(i))}!function(e){e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday"}(i||(i={})),function(e){e[e.Prior=0]="Prior",e[e.Ahead=1]="Ahead"}(a||(a={}))},HKDh:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("mrSG"),a=n("q1tI"),r=n("9rZX"),o=n("IwqK"),s=n("5N+U"),l=n("Mg72"),c=(n("j1XZ"),a.forwardRef((function(e,t){return a.createElement("div",Object(i.__assign)({},e,{ref:t,className:"tw-tooltip-popper-arrow"}))}))),d=(n("+NZI"),function(e){var t=Object(s.a)(e.show,e.onExitComplete),n=t.isMounted,r=t.onExitComplete;return n?a.createElement(u,Object(i.__assign)({},e,{onExitComplete:r})):null}),u=function(e){var t,n=e.popperRef,s=e.anchorRef,d=Object(i.__rest)(e,["popperRef","anchorRef"]);a.useEffect((function(){var e=document.getElementById("root");e&&r.setAppElement(e)}),[]);var u=a.useState(null),m=u[0],f=u[1],v=a.useState(null),g=v[0],h=v[1],b=Object(o.a)(s,m,Object(i.__assign)(Object(i.__assign)({placement:"bottom"},d.options),{modifiers:Object(i.__spreadArrays)([{name:"arrow",options:{element:g,padding:8}},{name:"offset",options:{offset:[0,10]}}],(null===(t=d.options)||void 0===t?void 0:t.modifiers)||[])}));return Object(a.useEffect)((function(){n&&(n.current=b)}),[b,n]),a.createElement(r,{ariaHideApp:!1,role:"tooltip",style:p,className:"react-modal__content",overlayClassName:"react-modal__overlay",portalClassName:d.portalClassName||"rfc-tooltip-layer",isOpen:!0,shouldCloseOnEsc:!1,shouldCloseOnOverlayClick:!1,shouldFocusAfterRender:!1,shouldReturnFocusAfterClose:!1},a.createElement("div",Object(i.__assign)({ref:f,style:b.styles.popper},b.attributes.popper),a.createElement(l.a,{type:d.transitionType||l.d.ScaleOver,duration:d.transitionDuration||l.c.Short,show:d.show,transitionInitialMount:!0,onExitComplete:d.onExitComplete,onEnterComplete:d.onEnterComplete},a.createElement(c,{ref:h,style:b.styles.arrow}),d.children)))},p={overlay:{position:"fixed",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"}}},"HQn/":function(e,t,n){},HTvb:function(e,t,n){},HYfb:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionsUIContext_ChannelID"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:96}};n.loc.source={body:"query ExtensionsUIContext_ChannelID($channelLogin: String) {\nuser(login: $channelLogin) {\nid\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ExtensionsUIContext_ChannelID=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ExtensionsUIContext_ChannelID")},HzXE:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ChatRoomBanStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chatRoomBanStatus"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelID"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}},{kind:"Argument",name:{kind:"Name",value:"userID"},value:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bannedUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moderator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reason"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"targetUser"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"targetUserID"}}},{kind:"Argument",name:{kind:"Name",value:"lookupType"},value:{kind:"EnumValue",value:"ALL"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:306}};n.loc.source={body:"query ChatRoomBanStatus($targetUserID: ID! $channelID: ID!) {\nchatRoomBanStatus(channelID: $channelID userID: $targetUserID) {\nbannedUser {\nid\nlogin\ndisplayName\n}\ncreatedAt\nexpiresAt\nisPermanent\nmoderator {\nid\nlogin\ndisplayName\n}\nreason\n}\ntargetUser: user (id: $targetUserID lookupType: ALL) {\nid\nlogin\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ChatRoomBanStatus=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ChatRoomBanStatus")},I04V:function(e,t,n){},I5Yy:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoAdRequestTag"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Tag"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagName"},arguments:[],directives:[]}]}}],loc:{start:0,end:48}};n.loc.source={body:"fragment VideoAdRequestTag on Tag {\nid\ntagName\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},IMms:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("DzJC"),a=i},IycQ:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ActiveWatchParty"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"watchParty"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"session"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"watchPartySession"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:212}};i.loc.source={body:'#import "twilight/features/watch-party/models/watch-party-session-fragment.gql"\nquery ActiveWatchParty($channelLogin: String!) {\nuser(login: $channelLogin) {\nid\nwatchParty {\nsession {\n...watchPartySession\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("6JW5").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.ActiveWatchParty=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"ActiveWatchParty")},J6px:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l}));var i=n("/7QA"),a="sub_to_skip_ads";function r(e,t){return e&&t&&"control"!==i.p.experiments.getAndTrackAssignment(a)}function o(e,t,n,r,o,s,l){var c=i.p.experiments.getAndTrackAssignment(a)===l&&o>=3&&o<=20||i.p.experiments.getAndTrackAssignment(a)===s;return e&&t&&!n&&!r&&c}function s(e,t,n,i,a){return o(e,t,n,i,a,"treatment","treatment_targeted")}function l(e,t,n,i,a){return o(e,t,n,i,a,"treatment_v2","treatment_v2_targeted")}},J9w5:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Core_Services_Spade_Video"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:81}};n.loc.source={body:"query Core_Services_Spade_Video($id: ID!) {\nvideo(id: $id) {\nid\nbroadcastType\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Core_Services_Spade_Video=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"Core_Services_Spade_Video")},JQql:function(e,t,n){},JWfW:function(e,t,n){},JcRA:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("mrSG"),a=n("q1tI"),r=n("5e0Q"),o=n("2JXh"),s=n("Yegi"),l=n("HQtB"),c=n("AjB5"),d=n("IyK4"),u=n("zZ9p"),p=n("OCDW"),m=n("LNol"),f=300,v=function(e){function t(t){var n=e.call(this,t)||this;return n.enqueueTextBufferFlush=function(e){var t=function(){n.setState((function(e){return{currentText:e.textBuffer,textBuffer:""}}),(function(){n.triggerTextTransition(),n.enqueueAnimationEndNotification(f)}))};if(n.textBufferFlushTimout&&clearTimeout(n.textBufferFlushTimout),e<=0)return t();n.textBufferFlushTimout=setTimeout(t,e)},n.enqueueAnimationEndNotification=function(e){n.props.onAnimationEnd&&(n.animationNotificationTimeout&&clearTimeout(n.animationNotificationTimeout),n.animationNotificationTimeout=setTimeout(n.props.onAnimationEnd,e))},n.onClick=function(e){n.state.isIconAnimationEnabled||n.props.onClick&&(n.setState({isFocused:!1}),n.props.onClick(e))},n.setTextRef=function(e){n.textRef=e},n.onFocus=function(){var e=n.props.text||"";n.setState({textBuffer:void 0!==n.props.textOnHover?n.props.textOnHover:e,isFocused:!0,transitionOn:!0})},n.onBlur=function(){n.setState({textBuffer:n.props.text||"",isFocused:!1})},n.onIconAnimationComplete=function(){n.setState({isIconAnimationEnabled:!1})},n.state={textBuffer:"",currentText:t.text||"",currentIcon:t.icon,currentIconOnHover:t.iconOnHover,isFocused:!1,transitionOn:t.preventTransition,offsetPixels:0,isIconAnimationEnabled:!1},n}return Object(i.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){var n={};return t.currentText!==e.text&&t.currentText!==e.textOnHover&&(n.textBuffer=e.text||""),t.currentIcon!==e.icon&&(n.currentIcon=e.icon,n.isIconAnimationEnabled=!0),t.currentIconOnHover!==e.iconOnHover&&(n.currentIconOnHover=e.iconOnHover,n.isIconAnimationEnabled=!0),Object.keys(n).length>0?n:null},t.prototype.getSnapshotBeforeUpdate=function(e,t){return this.state.currentText!==t.currentText&&this.textRef&&(this.prevTextSize=this.textRef.getBoundingClientRect().width),null},t.prototype.componentDidUpdate=function(e,t){var n=this.state.textBuffer!==t.textBuffer&&""!==this.state.textBuffer,i=t.isIconAnimationEnabled&&!this.state.isIconAnimationEnabled;n&&this.enqueueTextBufferFlush(this.props.delayText||0),i&&this.enqueueAnimationEndNotification(0)},t.prototype.render=function(){var e=void 0===this.props.fullWidthButton||this.props.fullWidthButton,t=this.props.size||r.b.Default;return a.createElement(o.a,{overflow:s.n.Hidden,background:this.props.background||void 0,borderRadius:s.e.Medium,display:s.h.InlineFlex},a.createElement("div",{onMouseEnter:this.onFocus,onMouseLeave:this.onBlur,onFocus:this.onFocus,onBlur:this.onBlur},a.createElement(r.a,Object(i.__assign)({fullWidth:e,overlay:this.props.overlayButton,onClick:this.onClick,type:this.getCurrentType(),tabIndex:this.props.tabIndex,"aria-label":this.props.ariaLabel,disabledInteraction:this.props.disabled,size:t},Object(l.a)(this.props)),a.createElement(c.a,{display:s.h.Flex,justifyContent:s.m.Center,alignItems:s.b.Center,color:this.props.darkModeEnabled&&this.getCurrentType()===r.d.Text?s.f.Link:void 0},this.renderIcon(),this.renderText()))))},t.prototype.renderIcon=function(){var e=this.state.currentText?.5:0;return a.createElement(d.a,{display:s.h.Flex,justifyContent:s.m.Center,alignItems:s.b.Center,margin:{right:e}},a.createElement("div",{style:{transform:this.getIconTransform(),transition:this.getIconTransition()}},a.createElement(u.a,{enabled:this.state.isIconAnimationEnabled,onAnimationEnd:this.onIconAnimationComplete,duration:u.c.Long,type:u.f.BounceIn},a.createElement(p.a,{display:s.h.Flex,justifyContent:s.m.Center,alignItems:s.b.Center},a.createElement(m.a,{type:m.b.Inherit,asset:this.getIcon()})))))},t.prototype.renderText=function(){var e=!0===this.props.disableTextAnimation?void 0:{opacity:this.getTextOpacity(),transform:this.getTextTransform(),transition:this.getTextTransition()};return a.createElement("span",{ref:this.setTextRef,style:e},this.state.currentText)},t.prototype.getIconTransform=function(){var e="scale(1)",t="translateX(0px)";return this.state.isFocused&&(e="scale(1.2)"),Math.abs(this.state.offsetPixels)>15&&(t="translateX("+this.state.offsetPixels/2+"px)"),t+" "+e},t.prototype.getIconTransition=function(){return this.state.transitionOn?f+"ms transform ease":""},t.prototype.getTextTransform=function(){return"translateX("+(this.state.offsetPixels||this.props.isFollowing?"-10px":0)+")"},t.prototype.getTextOpacity=function(){return this.state.offsetPixels||this.props.isFollowing?0:1},t.prototype.getTextTransition=function(){return this.props.preventTransition?"":f+"ms all ease "+f+"ms"},t.prototype.getCurrentType=function(){return this.state.isFocused&&this.props.typeOnHover?this.props.typeOnHover:this.props.type},t.prototype.getIcon=function(){return this.state.isFocused&&this.state.currentIconOnHover?this.state.currentIconOnHover:this.state.currentIcon},t.prototype.triggerTextTransition=function(){var e=this;if(this.textRef){var t=this.textRef.getBoundingClientRect().width;this.setState({offsetPixels:t-this.prevTextSize},(function(){e.prevTextSize=t,requestAnimationFrame((function(){requestAnimationFrame((function(){e.setState({offsetPixels:0})}))}))}))}},t}(a.Component)},JdvU:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e,t){return"https://static-cdn.jtvnw.net/ttv-boxart/"+encodeURIComponent(e)+"-"+t.width+"x"+t.height+".jpg"}},JfgP:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerSubscriberVODOverlayVideoQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"150"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:152}};n.loc.source={body:"query VideoPlayerSubscriberVODOverlayVideoQuery($videoID: ID!) {\nvideo(id: $videoID) {\nid\nowner {\nid\ndisplayName\nprofileImageURL(width: 150)\nlogin\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoPlayerSubscriberVODOverlayVideoQuery=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoPlayerSubscriberVODOverlayVideoQuery")},JiyE:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.White="#FFFFFF",e.Black="#000000",e.Red="#E91916",e.Orange="#E91916",e.Yellow="#FFBF00",e.Green="#00C7AC",e.Blue="#1F69FF",e.PrimeBlue="#0E9BD8",e.TwitchPurple="#9147FF",e.Twitter="#1da1f2",e.Facebook="#3b5998",e.Reddit="#ff4500",e.Snapchat="#fffc00",e.Instagram="#405de6",e.Youtube="#cd201f",e.Paypal="#003087",e.Vk="#45668e",e.Purple1="#040109",e.Purple2="#0D031C",e.Purple3="#15052E",e.Purple4="#24094E",e.Purple5="#330C6E",e.Purple6="#451093",e.Purple7="#5C16C5",e.Purple8="#772CE8",e.Purple9="#9147FF",e.Purple10="#A970FF",e.Purple11="#BF94FF",e.Purple12="#D1B3FF",e.Purple13="#E3D1FF",e.Purple14="#F0E5FF",e.Purple15="#FCFAFF",e.HintedGrey1="#0E0E10",e.HintedGrey2="#18181B",e.HintedGrey3="#1F1F23",e.HintedGrey4="#26262C",e.HintedGrey5="#323239",e.HintedGrey6="#3B3B44",e.HintedGrey7="#53535F",e.HintedGrey8="#848494",e.HintedGrey9="#ADADB8",e.HintedGrey10="#C8C8D0",e.HintedGrey11="#D3D3D9",e.HintedGrey12="#DEDEE3",e.HintedGrey13="#E6E6EA",e.HintedGrey14="#EFEFF1",e.HintedGrey15="#F7F7F8",e.BrandMutedIce="#F0F0FF",e.BrandMutedCupcake="#FAB3FF",e.BrandMutedMint="#BDFAE0",e.BrandMutedSky="#56BDE6",e.BrandMutedBlush="#FACCCC",e.BrandMutedCanary="#FEEE86",e.BrandMutedSmoke="#D1D1E6",e.BrandMutedLavender="#BDA8FF",e.BrandMutedMustard="#FFBF00",e.BrandMutedEmerald="#00C7AC",e.BrandMutedCoral="#FF6666",e.BrandMutedOcean="#0013A3",e.BrandAccentGrape="#8205B3",e.BrandAccentDragonfruit="#FA1ED2",e.BrandAccentCarrot="#FF6905",e.BrandAccentSun="#FAFA19",e.BrandAccentLime="#BFFF00",e.BrandAccentTurquoise="#00FAFA",e.BrandAccentEggplant="#421561",e.BrandAccentWine="#BD0078",e.BrandAccentSlime="#00FA04",e.BrandAccentSeafoam="#6BFFC4",e.BrandAccentCherry="#FA2929",e.BrandAccentMarine="#1F69FF"}(i||(i={}))},Jr7Z:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("mrSG"),a=n("q1tI"),r=n("/7QA"),o=n("yR8l"),s=n("GnwI"),l=n("OCDW"),c=n("Yegi"),d=n("LNol"),u=n("Ix37"),p=n("uq9l"),m=n("zZ9p"),f=n("RGzP"),v=n("+GMQ"),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.reportInteractive()},t.prototype.componentDidUpdate=function(){this.reportInteractive()},t.prototype.render=function(){if(!this.props.data.clip||this.props.data.loading)return a.createElement(l.a,null,this.renderPlaceholders());var e=this.props.padding&&this.props.padding.bottom,t=void 0===e?.5:e;return a.createElement(l.a,{display:c.h.Flex,alignItems:c.b.Center,padding:{bottom:t}},!this.props.hideSymbol&&a.createElement(l.a,{margin:{right:.5},display:c.h.Flex,alignItems:c.b.Center},a.createElement(d.a,{asset:u.a.GlyphViews,type:d.b.Brand})),a.createElement(p.a,{bold:!0,type:p.e.Span,fontSize:this.props.fontSize?this.props.fontSize:c.k.Size5},Object(r.d)("{views} views",{views:Object(r.f)(this.props.data.clip.viewCount)},"ClipsViewCount")))},t.prototype.reportInteractive=function(){this.props.data.clip&&this.props.latencyTracking.reportInteractive()},t.prototype.renderPlaceholders=function(){return a.createElement(m.a,{type:m.f.FadeIn,duration:m.c.Long,enabled:!0},a.createElement(p.a,{fontSize:this.props.fontSize?this.props.fontSize:c.k.Size5},a.createElement(f.a,{lineCount:1,width:80})))},t=Object(i.__decorate)([Object(s.withLatencyTracking)("ClipsViewCount"),Object(o.a)(v)],t)}(a.Component)},"Jxh/":function(e,t,n){"use strict";function i(e){var t=document.createElement("textarea");t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.fontSize="12pt",t.style.width="2em",t.style.height="2em",t.style.padding="0",t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t.style.background="transparent",t.value=e,document.body.appendChild(t),t.select();var n=!0;try{n=document.execCommand("copy")}catch(e){n=!1}return document.body.removeChild(t),n}n.d(t,"a",(function(){return i}))},K29g:function(e,t,n){"use strict";var i,a;n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),function(e){e.TrackingID="trackingID",e.GameName="game",e.GameID="gameID",e.Title="title",e.Start="start",e.End="end",e.Segments="segments"}(i||(i={})),function(e){e.SequenceID="sid",e.SequenceNum="sn",e.TrackingContent="tt_content",e.TrackingMedium="tt_medium",e.VideoStartTime="t"}(a||(a={}))},K7G1:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayer_MutedSegmentsAlertOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"muteInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mutedSegmentConnection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offset"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:150}};n.loc.source={body:"query VideoPlayer_MutedSegmentsAlertOverlay($vodID: ID) {\nvideo(id: $vodID) {\nid\nmuteInfo {\nmutedSegmentConnection {\nnodes {\nduration\noffset\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoPlayer_MutedSegmentsAlertOverlay=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoPlayer_MutedSegmentsAlertOverlay")},KKiK:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initMoatVAESTracking=function(e,t,n,i,a,r){var o,s,l=document.createElement("script"),c=[],d={vidIntType:"3",vidIntVersion:"1.0",adData:{ids:t,duration:n,url:a},dispatchEvent:function(e){d.sendEvent?(c&&(c.push(e),e=c,c=!1),d.sendEvent(e)):c&&c.push(e)},clientCallback:r};t="_moatApi"+Math.floor(1e8*Math.random());try{o=e.ownerDocument,s=o.defaultView||o.parentWindow}catch(e){o=document,s=window}return s[t]=d,l.type="text/javascript",e&&e.insertBefore(l,e.childNodes[0]||null),l.src="https://ddacn6pr5v0tl.cloudfront.net/custom-moat-video-vaes.min.js#"+t,d},t.initMoatNativeTracking=function(e,t,n,i,a,r){var o,s,l=document.createElement("script"),c=[],d={vidIntType:"3",vidIntVersion:"1.0",adData:{ids:t,duration:n,url:a},dispatchEvent:function(e){d.sendEvent?(c&&(c.push(e),e=c,c=!1),d.sendEvent(e)):c&&c.push(e)},clientCallback:r};t="_moatApi"+Math.floor(1e8*Math.random());try{o=e.ownerDocument,s=o.defaultView||o.parentWindow}catch(e){o=document,s=window}return s[t]=d,l.type="text/javascript",e&&e.insertBefore(l,e.childNodes[0]||null),l.src="https://ddacn6pr5v0tl.cloudfront.net/custom-moat-video-native.min.js#"+t,d}},Kcwz:function(e,t,n){},Kgiw:function(e,t,n){},KnXG:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("p46w"),a=n("cr+I"),r=n("dlQn");function o(){return a.parse(window.location.search).countryCode||i.get(r.a)}},KriR:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.ChannelSubscribeButton="channel_subscribe_button_click",e.Direct="direct_url_link",e.EmotePicker="emote_picker_click",e.Extension="extension_click",e.SubscriptionsManagement="subscriptions_management",e.TurboSubscribeButton="turbo_subscribe_button_click",e.ViewerCard="viewer_card_click",e.SubscriberStreamUpsellClick="subscriber_stream_upsell_click",e.GetBitsMenu="get_bits_menu",e.ModView="mod_view",e.ChannelLeaderboard="channel_leaderboard",e.CelebrationPurchaseBalloon="celebration_purchase_balloon",e.CommunityGiftClick="community_gift_click",e.SingleGiftClick="single_gift_click"}(i||(i={}))},KtUD:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return b}));var i,a=n("pVnL"),r=n.n(a),o=n("8OQS"),s=n.n(o),l=n("q1tI"),c=n("o5gP"),d=n("F+KF"),u=n("3Jez"),p=n("Mpot"),m=n("NbjQ"),f=n("OCDW"),v=n("Yegi"),g=n("IyK4"),h=n("9ysU");!function(e){e[e.CheckBox=1]="CheckBox",e[e.Radio=2]="Radio",e[e.Toggle=3]="Toggle"}(i||(i={}));var b=function(e){var t=e.label,n=e.type,a=e.hint,o=e.figure,b=s()(e,["label","type","hint","figure"]),y=o&&l.createElement(f.a,{flexShrink:0,padding:{left:n===i.Toggle?void 0:1,right:n===i.Toggle?.5:void 0}},l.createElement(h.a,o)),k=Object(c.b)();return l.createElement(f.a,{padding:.5},l.createElement(f.a,{display:v.h.Flex,alignItems:v.b.Center},n===i.CheckBox&&l.createElement(f.a,{flexGrow:1},l.createElement(d.a,r()({label:t},b))),n===i.Radio&&l.createElement(f.a,{flexGrow:1},l.createElement(p.a,r()({label:t},b))),y,n===i.Toggle&&l.createElement(l.Fragment,null,l.createElement(g.a,{flexGrow:1,margin:{right:2}},l.createElement("label",{className:"tw-drop-down-menu-input-item__label",htmlFor:b.id||k},t)),l.createElement(m.a,r()({},b,{id:b.id||k})))),a&&l.createElement(f.a,{className:"tw-drop-down-menu-input-item__hint"},l.createElement(u.a,{hint:a})))};b.displayName="DropDownMenuInputItem",b.displayName="DropDownMenuInputItem"},L7EG:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoShareBox_TrackingVideoContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:156}};n.loc.source={body:"query VideoShareBox_TrackingVideoContext($videoID: ID!) {\nvideo(id: $videoID) {\nid\nbroadcastType\nowner {\nid\nlogin\nroles {\nisPartner\n}\n}\ngame {\nid\nname\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoShareBox_TrackingVideoContext=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoShareBox_TrackingVideoContext")},LASO:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("pVnL"),a=n.n(i),r=n("q1tI"),o=n("SWse"),s=function(e){return r.createElement("tr",a()({},e,{className:Object(o.a)("tw-table-row",e.className)}))};s.displayName="TableRow",s.displayName="TableRow"},"LX/X":function(e,t,n){},LgjW:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerStreamMetadata"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEncrypted"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:108}};n.loc.source={body:"query VideoPlayerStreamMetadata($channel: String) {\nuser(login: $channel) {\nid\nstream {\nid\nisEncrypted\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoPlayerStreamMetadata=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoPlayerStreamMetadata")},MIAH:function(e,t,n){},MJbm:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("mrSG"),a=n("q1tI"),r=n("/7QA"),o=(n("efEE"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.logger=r.p.logger.withCategory("resize-detector"),t.maybeDebounceOnScroll=function(){void 0!==t.props.debounceMs?(clearTimeout(t.debounceTimeout),t.debounceTimeout=setTimeout(t.onScroll,t.props.debounceMs)):t.onScroll()},t.onScroll=function(){var e=t.container,n=e.offsetWidth,i=e.offsetHeight,a=e.offsetLeft,r=e.offsetTop;t.logger.debug("Resize Detector -- onScroll"),n===t.width&&i===t.height&&r===t.top&&a===t.left||(t.width=n,t.height=i,t.props.onResize(n,i,r,a)),t.reset()},t.setGrowDivRef=function(e){return t.growDiv=e},t.setGrowChildDivRef=function(e){return t.growChildDiv=e},t.setShrinkDivRef=function(e){return t.shrinkDiv=e},t}return Object(i.__extends)(t,e),t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.render=function(){return a.createElement("div",{className:"resize-detector"},a.createElement("div",{className:"resize-detector",ref:this.setGrowDivRef},a.createElement("div",{className:"resize-detector__grow",ref:this.setGrowChildDivRef})),a.createElement("div",{className:"resize-detector",ref:this.setShrinkDivRef},a.createElement("div",{className:"resize-detector__shrink"})))},t.prototype.componentDidMount=function(){if(this.growDiv)if(this.shrinkDiv){this.growDiv.parentElement||this.logger.warn("growDiv.parentElement is undefined!"),this.container=this.growDiv.parentElement.parentElement;var e=this.container.style.position;if("relative"!==e&&"absolute"!==e&&"fixed"!==e){var t=window.getComputedStyle(this.container);t&&"static"===t.getPropertyValue("position")&&(this.container.style.position="relative")}this.onScroll(),this.growDiv.addEventListener("scroll",this.maybeDebounceOnScroll),this.shrinkDiv.addEventListener("scroll",this.maybeDebounceOnScroll)}else this.logger.warn("shrinkDiv is undefined!");else this.logger.warn("growDiv is undefined!")},t.prototype.componentWillUnmount=function(){this.growDiv&&this.growDiv.removeEventListener("scroll",this.maybeDebounceOnScroll),this.shrinkDiv&&this.shrinkDiv.removeEventListener("scroll",this.maybeDebounceOnScroll),clearTimeout(this.debounceTimeout)},t.prototype.reset=function(){var e=this.growDiv,t=this.shrinkDiv;if(this.growChildDiv){var n=this.growChildDiv.style;n.width="100000px",n.height="100000px"}e&&(e.scrollLeft=1e5,e.scrollTop=1e5),t&&(t.scrollLeft=1e5,t.scrollTop=1e5)},t}(a.Component))},MLDe:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return m}));var i,a,r=n("/7QA"),o=n("wbMx"),s=n("2xye"),l=n("BQs+"),c=((i={})[o.c.Twitter]="twitter",i[o.c.Reddit]="reddit",i[o.c.VKontakte]="vkontakte",i[o.c.Facebook]="facebook",i[o.c.Copy]="link",i[o.c.CopyInput]="option_link",i[o.c.Download]="download",i[o.c.Embed]="embed",i),d={MyClips:"MyClips",ClipsOfMyChannel:"ClipsOfMyChannel"},u=((a={MyClips:"my_clips",ClipsOfMyChannel:"my_clips_channel",TopClipsGame:"clips_game",TopClipsChannel:"channel_clips"}).clips_edit="clips_edit",a.clips_viewing="clips_viewing",a.clips_watch="clips_watch",a),p=function(e,t,n,i,a){return function(o){r.p.tracking.track(s.SpadeEventType.VideoShare,{vod_id:e,vod_type:s.SpadeVideoBroadcastType.Clip,share_platform:c[o],location:u[a],game:t,channel_id:Number(n||0),channel:i,live:null})}},m=function(e,t,n,i,a,o){return function(){r.p.tracking.track(s.SpadeEventType.VideoShare,{vod_id:e,vod_type:s.SpadeVideoBroadcastType.Clip,share_platform:l.a.Link,location:u[a],game:t,channel_id:Number(n||0),channel:i,live:null,shared_item_url:o})}}},MLXT:function(e,t,n){},"MR+c":function(e,t,n){},Mg72:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return k}));var i,a,r,o,s,l=n("pVnL"),c=n.n(l),d=n("VbXa"),u=n.n(d),p=n("q1tI"),m=n("SWse"),f=n("P+FS"),v=n("HQtB"),g=n("KV4g");!function(e){e.Fade="fade",e.TranslateRight="translate-right",e.TranslateLeft="translate-left",e.TranslateTop="translate-top",e.TranslateBottom="translate-bottom",e.ScaleOver="scale-over",e.SlideOverRight="slide-over-right",e.SlideOverLeft="slide-over-left",e.SlideOverTop="slide-over-top",e.SlideOverBottom="slide-over-bottom",e.None="none"}(r||(r={})),function(e){e.Short="duration-short",e.Medium="duration-medium",e.Long="duration-long"}(o||(o={})),function(e){e.None="delay-none",e.Short="delay-short",e.Medium="delay-medium",e.Long="delay-long"}(s||(s={}));var h,b=((i={})[o.Short]=100,i[o.Medium]=250,i[o.Long]=300,i),y=((a={})[s.None]=0,a[s.Short]=100,a[s.Medium]=250,a[s.Long]=300,a);!function(e){e.enter="enter-prep",e.entering="enter-active",e.entered="enter-done",e.exit="exit-prep",e.exiting="exit-active",e.exited="exit-done"}(h||(h={}));var k=function(e){function t(t){var n;return(n=e.call(this,t)||this).getType=function(){return Array.isArray(n.props.type)?[h.enter,h.entering,h.entered].includes(n.state.status)?n.props.type[0]:n.props.type[1]:n.props.type},n.getDuration=function(){return r.None===n.getType()?0:Object(g.b)()?0:"string"==typeof n.props.duration?b[n.props.duration]:"number"==typeof n.props.duration?n.props.duration:b[o.Medium]},n.getDelay=function(){return r.None===n.getType()?0:Object(g.b)()?0:"string"==typeof n.props.delay?y[n.props.delay]:"number"==typeof n.props.delay?n.props.delay:y[s.None]},n.onEnterComplete=function(){n.setState({status:h.entered}),n.props.onEnterComplete&&n.props.onEnterComplete()},n.onExitComplete=function(){n.setState({status:h.exited}),n.props.onExitComplete&&n.props.onExitComplete()},n.refHandler=function(e){if(n.containerRef=e,n.props.injectChild){var t=p.Children.only(n.props.children).ref;"function"==typeof t&&t(e)}},n.ensureLayoutReflow=function(){n.containerRef&&n.containerRef.scrollTop},n.state={status:t.show&&!t.transitionInitialMount?h.entered:h.exited},n}u()(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.show,i=t.status,a=h;return n&&i===a.exited?{status:a.enter}:n&&i===a.exiting?{status:a.entering}:n||i!==a.entered?n||i!==a.entering?null:{status:a.exiting}:{status:a.exit}};var n=t.prototype;return n.componentDidMount=function(){this.props.transitionInitialMount&&this.props.show&&this.setState({status:h.enter})},n.componentWillUnmount=function(){clearTimeout(this.transitionTimer)},n.componentDidUpdate=function(e,t){var n=h;this.state.status===n.enter?(this.ensureLayoutReflow(),this.setState({status:n.entering})):this.state.status===n.exit?(this.ensureLayoutReflow(),this.setState({status:n.exiting})):this.state.status===n.entering&&t.status!==n.entering?(clearTimeout(this.transitionTimer),this.transitionTimer=window.setTimeout(this.onEnterComplete,this.getDuration()+this.getDelay())):this.state.status===n.exiting&&t.status!==n.exiting&&(clearTimeout(this.transitionTimer),this.transitionTimer=window.setTimeout(this.onExitComplete,this.getDuration()+this.getDelay()))},n.render=function(){var e=this.state.status;if(this.state.status===h.exited&&!this.props.alwaysRenderChild)return null;var t=this.getType(),n=["tw-transition","tw-transition__"+t,"tw-transition__"+t+"--"+e,"tw-transition--"+e];if(this.props.injectChild&&p.isValidElement(this.props.children)){var i=p.Children.only(this.props.children);return p.cloneElement(i,c()({},i.props,Object(v.a)(this.props),Object(f.a)(this.props),{style:c()({},i.props.style,{transitionDelay:this.getDelay()+"ms",transitionDuration:this.getDuration()+"ms"}),ref:this.refHandler,className:Object(m.a)(this.props.className,i.props.className,n)}))}return p.createElement("div",c()({ref:this.refHandler,className:Object(m.a)(this.props.className,n),style:{transitionDelay:this.getDelay()+"ms",transitionDuration:this.getDuration()+"ms"}},Object(v.a)(this.props)),this.props.children)},t}(p.Component);k.displayName="Transition"},MiSJ:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"OfflineBannerOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offlineImageURL"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:90}};n.loc.source={body:"query OfflineBannerOverlay($login: String!) {\nuser(login: $login) {\nid\nofflineImageURL\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.OfflineBannerOverlay=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"OfflineBannerOverlay")},Mpot:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var i=n("pVnL"),a=n.n(i),r=n("8OQS"),o=n.n(r),s=n("q1tI"),l=n("o5gP"),c=n("SWse"),d=n("P+FS"),u=n("HQtB"),p=n("OCDW"),m=n("IyK4"),f=n("Yegi"),v=n("hMTT"),g=n("gdM2"),h=function(e,t){var n=e.error,i=e.id,r=e.label,v=e.overlay,h=e.size,b=e.refDelegate,y=o()(e,["error","id","label","overlay","size","refDelegate"]),k="tw-"+Object(l.b)(),S={"tw-radio":!0,"tw-radio--error":n,"tw-radio--overlay":v},E=g.c.Default;return h&&(E=h),s.createElement(p.a,a()({className:Object(c.a)(S),fontSize:g.b[E]},Object(u.a)(y)),s.createElement("input",a()({},Object(u.b)(y),Object(d.a)(y),{ref:t||b,type:"radio",className:"tw-radio__input","data-a-target":"tw-radio",id:i||k,"aria-label":void 0===r?y["aria-label"]:void 0})),s.createElement(m.a,{display:f.h.Block},s.createElement("label",{className:"tw-radio__label",htmlFor:i||k},r&&s.createElement(p.a,{margin:{left:1}},r))))};h.displayName="RadioComponent",h.displayName="Radio";var b=s.forwardRef(h),y=Object(v.b)(b)},N8Jd:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoAdRequestDecline"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"context"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AdRequestContext"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"adContext"},arguments:[{kind:"Argument",name:{kind:"Name",value:"context"},value:{kind:"Variable",name:{kind:"Name",value:"context"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"radToken"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"declineState"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reason"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shouldDecline"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:143}};n.loc.source={body:"query VideoAdRequestDecline($context: AdRequestContext!) {\nadContext(context: $context) {\nid\nradToken\ndeclineState {\nreason\nshouldDecline\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoAdRequestDecline=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoAdRequestDecline")},NO2N:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i,a=n("mrSG"),r=n("q1tI");function o(e,t){return e.includes(""+i.Perspective)||e.includes(""+i.Translate)?function(e,t){var n=Number(t);if(n)return[e+"("+t+"px)",e+"("+-1*n+"px)"];var i=Number(t.replace(/[a-zA-Z|%]/g,"")),a=t.replace(/[^a-zA-Z|%]/g,"");return i?[e+"("+i+a+")",e+"("+-1*i+a+")"]:""}(e,t):e.includes(""+i.Rotate)||e.includes(""+i.Skew)?function(e,t){var n,i=Number(t.replace(/[^0-9]/g,""));if(!i)return"";var a=t.replace(/[^a-zA-Z]/g,"");if(1===(null===(n=a.match(/deg|turn|rad/g))||void 0===n?void 0:n.length))return[e+"("+t+")",e+"("+-1*i+a+")"];return""}(e,t):e.includes(""+i.Scale)?function(e,t){if("1"!==t)return[e+"("+t+")",e+"("+1/Number(t)+")"];return""}(e,t):""}function s(e){var t=e.transformIf,n=e.transformOrigin,i=e.transformValues,s=e.transition,l=e.style,c=e.children,d=e.className,u=e.preserveChildDimensions,p=void 0;if(s){var m=s.allProperties,f=s.durationMs,v=s.easing,g=s.delayMs;p=(m?"all":"transform")+" "+f+"ms "+(null!=v?v:"")+" "+(null!=g?g:0)+"ms"}var h=[],b=[];if(!1!==t){for(var y=0,k=Object.entries(i);y<k.length;y++){var S=k[y],E=S[0],C=S[1];if(null!=C){var O=o(E,""+C);h.push(O[0]),b.push(O[1])}}!i.translateX&&!i.translateY||i.translateZ||h.push("translateZ(0)")}var _=u?r.createElement("div",{className:d+"-child",style:{transform:b.join(" "),transition:p}},c):c;return r.createElement("div",{className:d,style:Object(a.__assign)({transform:h.join(" "),transformOrigin:n,transition:p},l)},_)}!function(e){e.Perspective="perspective",e.Rotate="rotate",e.Translate="translate",e.Scale="scale",e.Skew="skew"}(i||(i={}))},NbjQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var i=n("pVnL"),a=n.n(i),r=n("8OQS"),o=n.n(r),s=n("q1tI"),l=n("o5gP"),c=n("SWse"),d=n("P+FS"),u=n("HQtB"),p=n("uq9l"),m=n("IyK4"),f=n("Yegi"),v=function(e){return s.createElement(m.a,{display:f.h.HideAccessible},s.createElement(p.a,a()({type:e.type},Object(d.a)(e)),e.children))};v.displayName="AssistiveText",v.displayName="AssistiveText";var g=n("hMTT"),h=function(e,t){var n=e.error,i=e.id,r=e.label,p=e.overlay,m=o()(e,["error","id","label","overlay"]),f=Object(l.b)(),g={"tw-toggle":!0,"tw-toggle--error":n,"tw-toggle--overlay":p};return s.createElement("div",a()({className:Object(c.a)(g)},Object(u.a)(m)),s.createElement("input",a()({},Object(u.b)(m),Object(d.a)(m),{ref:t,className:"tw-toggle__input",id:i||f,type:"checkbox","data-a-target":"tw-toggle"})),s.createElement("label",{htmlFor:i||f,className:"tw-toggle__button"},r&&s.createElement(v,null,r)))};h.displayName="ToggleComponent",h.displayName="Toggle";var b=s.forwardRef(h),y=Object(g.b)(b)},NiY9:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return v})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return s})),n.d(t,"l",(function(){return l})),n.d(t,"j",(function(){return c})),n.d(t,"i",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"p",(function(){return y})),n.d(t,"k",(function(){return k})),n.d(t,"y",(function(){return S})),n.d(t,"u",(function(){return E})),n.d(t,"x",(function(){return C})),n.d(t,"q",(function(){return O})),n.d(t,"m",(function(){return _})),n.d(t,"w",(function(){return w})),n.d(t,"t",(function(){return P})),n.d(t,"r",(function(){return N})),n.d(t,"z",(function(){return T})),n.d(t,"o",(function(){return D})),n.d(t,"s",(function(){return I})),n.d(t,"n",(function(){return A})),n.d(t,"v",(function(){return j}));var i,a,r=n("mrSG"),o=n("eK/n");!function(e){e.MonoSerif="mono-serif",e.Serif="prop-serif",e.MonoSansSerif="mono-sans-serif",e.SansSerif="prop-sans-serif",e.Casual="casual",e.Cursive="cursive",e.SmallCapitals="small-capitals"}(a||(a={}));var s,l,c,d,u,p,m,f,v={Black:o.a.Black,White:o.a.White,Red:o.a.Red,Green:o.a.Green,Blue:o.a.Blue,Yellow:o.a.Yellow,Magenta:o.a.Magenta,Cyan:o.a.Cyan},g={Black:o.a.Black,White:o.a.White,Red:o.a.Red,Green:o.a.Green,Blue:o.a.Blue,Yellow:o.a.Yellow,Magenta:o.a.Magenta,Cyan:o.a.Cyan,LightGray:o.a.LightGray,Gray:o.a.Gray,DarkGray:o.a.DarkGray,Transparent:o.a.Transparent};!function(e){e.Left="left",e.Center="center",e.Right="right"}(s||(s={})),function(e){e.Top="top",e.Bottom="bottom"}(l||(l={})),function(e){e.SemiTransparent="semiTransparent",e.Transparent="transparent",e.Translucent="translucent",e.Solid="solid",e.Flashing="flashing"}(c||(c={})),function(e){e.None="none",e.Underline="underline"}(d||(d={})),function(e){e.Normal="normal",e.Italic="italic"}(u||(u={})),function(e){e.Normal="normal",e.Bold="bold"}(p||(p={})),function(e){e.Bold="fontBold",e.Italic="fontItalic",e.Underline="fontUnderline"}(m||(m={})),function(e){e.Depressed="depressed",e.Uniform="uniform",e.Drop="drop",e.Raised="raised",e.None="none"}(f||(f={}));var h={fontSize:20,font:a.SansSerif,fontOpacity:c.Solid,alignment:s.Left,edge:f.None,verticalPosition:l.Bottom,backgroundColorName:g.Black,backgroundOpacity:c.Solid,windowColorName:g.Transparent,windowOpacity:c.Solid,fontUnderline:d.None,fontBold:p.Normal,fontItalic:u.Normal,fontColorName:v.White},b=Object(r.__assign)(Object(r.__assign)({},h),{backgroundOpacity:c.Translucent}),y="custom",k={WhiteOnBlack:"white-on-black",BlackOnWhite:"black-on-white",CyanOnBlack:"cyan-on-black",YellowOnBlack:"yellow-on-black",LimeOnBlack:"lime-on-black",MagentaOnBlack:"magenta-on-black",WhiteOnTransBlack:"white-on-trans-black",CyanOnTransBlack:"cyan-on-trans-black",YellowOnTransBlack:"yellow-on-trans-black",LimeOnTransBlack:"lime-on-trans-black",MagentaOnTransBlack:"magenta-on-trans-black"},S=((i={})[k.WhiteOnBlack]=h,i[k.CyanOnBlack]=Object(r.__assign)(Object(r.__assign)({},h),{fontColorName:v.Cyan}),i[k.YellowOnBlack]=Object(r.__assign)(Object(r.__assign)({},h),{fontColorName:v.Yellow}),i[k.LimeOnBlack]=Object(r.__assign)(Object(r.__assign)({},h),{fontColorName:v.Green}),i[k.MagentaOnBlack]=Object(r.__assign)(Object(r.__assign)({},h),{fontColorName:v.Magenta}),i[k.WhiteOnTransBlack]=Object(r.__assign)(Object(r.__assign)({},b),{fontColorName:v.White}),i[k.CyanOnTransBlack]=Object(r.__assign)(Object(r.__assign)({},b),{fontColorName:v.Cyan}),i[k.YellowOnTransBlack]=Object(r.__assign)(Object(r.__assign)({},b),{fontColorName:v.Yellow}),i[k.LimeOnTransBlack]=Object(r.__assign)(Object(r.__assign)({},b),{fontColorName:v.Green}),i[k.MagentaOnTransBlack]=Object(r.__assign)(Object(r.__assign)({},b),{fontColorName:v.Magenta}),i[k.BlackOnWhite]=Object(r.__assign)(Object(r.__assign)({},h),{backgroundColorName:g.White,fontColorName:v.Black}),i),E={"mono-serif":{fontFamily:'"Courier New", Courier, "Nimbus Mono L", "Cutive Mono", monospace',fontVariant:"normal"},"prop-serif":{fontFamily:'"Times New Roman", Times, Georgia, Cambria, "PT Serif Caption", serif',fontVariant:"normal"},"mono-sans-serif":{fontFamily:'"Deja Vu Sans Mono", "Lucida Console", Monaco, Consolas, "PT Mono", monospace',fontVariant:"normal"},"prop-sans-serif":{fontFamily:'Verdana, Arial, Helvetica, "PT Sans Caption", sans-serif',fontVariant:"normal"},casual:{fontFamily:'"Comic Sans MS", Impact, Handlee, fantasy',fontVariant:"normal"},cursive:{fontFamily:'"Monotype Corsiva", "URW Chancery L", "Apple Chancery", "Dancing Script", cursive',fontVariant:"normal"},"small-capitals":{fontFamily:'"Arial Unicode Ms", Arial, Helvetica, Verdana, "Marcellus SC", sans-serif',fontVariant:"small-caps"}},C={semiTransparent:{opacityValue:.3,animation:"none"},transparent:{opacityValue:0,animation:"none"},translucent:{opacityValue:.6,animation:"none"},solid:{opacityValue:1,animation:"none"},flashing:{opacityValue:1,animation:"blink .75s linear infinite"}},O={depressed:{textShadow:"-1px -1px 2px #000"},uniform:{textShadow:"-2px -2px 0 #000, -2px 2px 0 #000, -2px 0 0 #000, 2px -2px 0 #000, 2px 2px 0 #000, 2px 0 0 #000, 0 -2px 0 #000, 0 2px 0 #000"},drop:{textShadow:"0 2px 5px #000"},raised:{textShadow:"1px 1px 2px #000"},none:{textShadow:"none"}},_={left:{alignItems:"flex-start"},center:{alignItems:"center"},right:{alignItems:"flex-end"}},w={underline:{textDecoration:"underline"},none:{textDecoration:"none"}},P={italic:{fontStyle:"italic"},normal:{fontStyle:"normal"}},N={bold:{fontWeight:"bold"},normal:{fontWeight:"normal"}},T={top:{top:"18%",bottom:"auto"},bottom:{top:"auto",bottom:"10%"}};function D(e,t){return"transparent"===e?"transparent":"rgba("+e+","+t+")"}var I={black:"0,0,0",white:"255,255,255",red:"255,0,0",green:"0,255,0",blue:"0,0,255",yellow:"255,255,0",magenta:"255,0,255",cyan:"0,255,255"},A={black:"0,0,0",white:"255,255,255",red:"255,0,0",green:"0,255,0",blue:"0,0,255",yellow:"255,255,0",magenta:"255,0,255",cyan:"0,255,255",lightgray:"199,199,199",gray:"145,145,145",darkgray:"91,91,91",transparent:"transparent"},j={increment:5,decrement:-5,max:40,min:10}},NrCo:function(e,t,n){},OFdW:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Sub_Analytics"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:104}};n.loc.source={body:"query Sub_Analytics($channelID: ID!) {\nuser(id: $channelID) {\nid\nself {\nsubscriptionBenefit {\nid\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Sub_Analytics=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"Sub_Analytics")},OTsR:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ClipsViewModerationModals"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"curator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:106}};n.loc.source={body:"query ClipsViewModerationModals($slug: ID!) {\nclip(slug: $slug) {\nid\nbroadcaster {\nid\n}\ncurator {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ClipsViewModerationModals=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ClipsViewModerationModals")},Ojlg:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("q1tI"),a=n("Ix37"),r=function(){return i.createElement("svg",{className:"tw-form-required",role:"img",width:"1em",height:"1em",version:"1.1",viewBox:"0 0 12 12",x:"0",y:"0"},a.b[a.a.Xsmallasterisk].path)};r.displayName="FormRequired",r.displayName="FormRequired"},OurO:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("pVnL"),a=n.n(i),r=n("8OQS"),o=n.n(r),s=n("q1tI"),l=n("OCDW"),c=n("Yegi"),d=n("9SiS"),u=function(e){var t=e.theme,n=o()(e,["theme"]),i="";return"light"===t?i=d.c:"dark"===t&&(i=d.a),s.createElement(l.a,a()({className:i,background:c.d.Base,color:c.f.Base},n))};u.displayName="ThemePreview",u.displayName="ThemePreview"},"PFC+":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return w}));var i,a,r,o,s,l=n("pVnL"),c=n.n(l),d=n("8OQS"),u=n.n(d),p=n("q1tI"),m=n("9HGd"),f=n("2vum"),v=n("uq9l"),g=n("OCDW"),h=n("Yegi"),b=n("hMTT"),y=n("vOnD");!function(e){e[e.Default=0]="Default",e.Large="tw-channel-status-text-indicator--large"}(o||(o={})),function(e){e.Offline="tw-channel-status-text-indicator--offline",e.Hosting="tw-channel-status-text-indicator--hosting",e.Live="tw-channel-status-text-indicator--live",e.Recording="tw-channel-status-text-indicator--recording",e.Rerun="tw-channel-status-text-indicator--rerun"}(s||(s={}));var k=((i={})[s.Offline]={fill:"color-fill-channel-status-text-indicator-offline",text:"color-text-channel-status-text-indicator-offline",overlay:{fill:"color-fill-channel-status-text-indicator-offline-overlay",text:"color-text-channel-status-text-indicator-offline-overlay"}},i[s.Rerun]={fill:"color-fill-channel-status-text-indicator-rerun",text:"color-text-channel-status-text-indicator-rerun",overlay:{fill:"color-fill-channel-status-text-indicator-rerun-overlay",text:"color-text-channel-status-text-indicator-rerun-overlay"}},i[s.Hosting]={fill:"color-fill-channel-status-text-indicator-hosting",text:"color-text-channel-status-text-indicator-hosting",overlay:{fill:"color-fill-channel-status-text-indicator-hosting-overlay",text:"color-text-channel-status-text-indicator-hosting-overlay"}},i[s.Recording]={fill:"color-fill-live",text:"color-text-overlay"},i[s.Live]={fill:"color-fill-live",text:"color-text-overlay"},i),S=((a={})[o.Default]="0 0.5rem",a[o.Large]="0.3rem 1rem",a),E=((r={})[o.Default]="font-size-6",r[o.Large]="font-size-5",r),C=y.b.div.withConfig({displayName:"ScChannelStatusTextIndicator",componentId:"sc-1f5ghgf-0"})(["display:inline-block;text-align:center;pointer-events:none;padding:",";"," "," ",";",";"],(function(e){return e.padding}),Object(m.a)("border-radius","border-radius-medium"),(function(e){return Object(m.a)("font-size",e.fontSize)}),(function(e){return Object(f.a)("background-color",e.overlay&&e.colorMap.overlay?e.colorMap.overlay.fill:e.colorMap.fill)}),(function(e){return Object(f.a)("color",e.overlay&&e.colorMap.overlay?e.colorMap.overlay.text:e.colorMap.text)})),O=Object(y.b)(g.a).withConfig({displayName:"ScChannelStatusTextIndicatorMask",componentId:"sc-1f5ghgf-1"})(["padding:0.2rem;"]),_=function(e){var t=e.label,n=e.mask,i=e.overlay,a=e.size,r=void 0===a?o.Default:a,l=e.type,d=void 0===l?s.Live:l,m=u()(e,["label","mask","overlay","size","type"]),f=p.createElement(C,c()({className:"tw-channel-status-text-indicator",colorMap:k[d],padding:S[r],overlay:i,fontSize:E[r]},m),p.createElement(v.a,{whiteSpace:v.f.NoWrap,transform:v.d.Uppercase,bold:!0},t));return n?p.createElement(O,{display:h.h.InlineBlock,background:n,borderRadius:h.e.Medium},f):f};_.displayName="ChannelStatusTextIndicatorComponent";var w=Object(b.b)(_)},"PLT/":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("pVnL"),a=n.n(i),r=n("VbXa"),o=n.n(r),s=n("q1tI"),l=n("P+FS"),c=n("OCDW"),d=n("Yegi"),u=function(){var e=function(e){function t(){return e.apply(this,arguments)||this}return o()(t,e),t.prototype.render=function(){return s.createElement(c.a,a()({overflow:d.n.Auto,padding:this.props.padding,flexGrow:1},Object(l.a)(this.props)),this.props.children)},t}(s.Component);return e.displayName="ModalBody",e.defaultProps={padding:{x:3,y:2}},e}()},"Pub/":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("HzXE");function a(e,t,n){try{return e.readQuery({query:i,variables:{channelID:t,targetUserID:n}})}catch(e){}}},"Q0+D":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CountessData"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:79}};n.loc.source={body:"query CountessData($channelLogin: String) {\nuser(login: $channelLogin) {\nid\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.CountessData=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"CountessData")},Q3S8:function(e,t,n){"use strict";n.d(t,"s",(function(){return l})),n.d(t,"t",(function(){return c})),n.d(t,"p",(function(){return d})),n.d(t,"o",(function(){return u})),n.d(t,"q",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return v})),n.d(t,"r",(function(){return g})),n.d(t,"b",(function(){return h})),n.d(t,"j",(function(){return b})),n.d(t,"g",(function(){return y})),n.d(t,"i",(function(){return k})),n.d(t,"h",(function(){return S})),n.d(t,"d",(function(){return E})),n.d(t,"n",(function(){return C})),n.d(t,"c",(function(){return O})),n.d(t,"m",(function(){return _})),n.d(t,"k",(function(){return w})),n.d(t,"a",(function(){return P})),n.d(t,"l",(function(){return N}));var i=n("cr+I"),a=n("SSXq"),r=n("+XUr"),o=n("mrSG"),s=n("yWUM");function l(e){return e.type===r.a.Live}function c(e){return e.type===r.a.VOD}function d(e){return e.type===r.a.Collection}function u(e){return e.type===r.a.Clip}function p(e){return!!(c(e)||d(e)||u(e))&&!!e.editing}function m(e){if(c(e)||d(e)||u(e))return e.editing}function f(e){var t=m(e);return t&&t.segments}function v(e){var t=m(e);return!!(null==t?void 0:t.isPostEdit)}function g(e){return e.type===r.a.Invalid}function h(e){if(l(e)||c(e)||d(e)||u(e))return e.channelLogin}function b(e){if(l(e))return e.multiview}function y(e){if(l(e))return e.channelLogin}function k(e){if(l(e)&&e.multiview)return e.multiview.parentChannelLogin}function S(e){if(l(e)&&e.multiview)return e.multiview.parentChannelID}function E(e){if(d(e))return e.collectionID}function C(e){return c(e)||d(e)?e.vodID:null}function O(e){return u(e)?e.clipSlug:null}function _(e){if(u(e)||c(e)||d(e))return e.videoOffset}function w(e){return l(e)&&e.squad?e.squad.streamID:null}var P=function(e){return u(e)||c(e)||d(e)};function N(e,t,n){switch(e.type){case r.a.Live:var l=Object(a.a)("/"+e.channelLogin);return t?l+"?"+i.stringify(t):l;case r.a.VOD:return c=e.vodID,d=n&&n.getPosition(),u=t,p=void 0!==d?Object(s.a)(Math.floor(d)):void 0,(m=i.stringify(Object(o.__assign)({t:p},u)))?Object(a.a)("/videos/"+c+"?"+m):Object(a.a)("/videos/"+c);case r.a.Clip:return function(e,t){var n=i.stringify(Object(o.__assign)({tt_content:"player_twitch_logo",tt_medium:"clips_embed"},t));return Object(a.a)("/"+e+"?"+n,"clips")}(e.clipSlug,t);default:return"https://www.twitch.tv"}var c,d,u,p,m}},QNb5:function(e,t,n){},QV0j:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("oB8h"),a=function(e){switch(e){case i.a.Live:return i.a.Live;case i.a.Premiere:return i.a.Premiere;case i.a.Rerun:return i.a.Rerun;case i.a.WatchParty:return i.a.WatchParty;default:return null}}},QVaV:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i=n("q1tI"),a=/^[\x00-\x7F]*$/,r=function(e,t,n){return void 0===n&&(n=!1),t&&e&&!o(t)?n?t+" ("+e+")":i.createElement("span",null,t," ",i.createElement("span",{className:"intl-login"},"("+e+")")):t||(e||"")};function o(e){return a.test(e)}},QVir:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayerBroadcastSettingsUpdate"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BroadcastSettings"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"boxArtURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"85"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"113"}}],directives:[]}]}}]}}],loc:{start:0,end:133}};n.loc.source={body:"fragment VideoPlayerBroadcastSettingsUpdate on BroadcastSettings {\nid\ngame {\nid\nname\ndisplayName\nboxArtURL(width: 85 height: 113)\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},Qdxp:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FollowButton_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"followButtonFragment"},directives:[]}]}}]}}],loc:{start:0,end:156}};i.loc.source={body:'#import "twilight/common/queries/follow-button-fragment.gql"\nquery FollowButton_User($login: String!) {\nuser(login: $login) {\nid\n...followButtonFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("V94A").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.FollowButton_User=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"FollowButton_User")},"RRt+":function(e,t,n){},"RWo/":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("q1tI"),a=n("IyK4"),r=n("Yegi"),o=(n("JWfW"),i.forwardRef((function(e,t){return i.createElement(a.a,{position:r.o.Absolute,attachTop:!0,attachLeft:!0,fullWidth:!0,fullHeight:!0,display:r.h.Flex,alignItems:r.b.Center,justifyContent:r.m.Center,zIndex:r.t.Above,className:"celebration__overlay"},i.createElement("div",{ref:t},e.children))})))},RcPG:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.Text=0]="Text",e[e.ModeratedText=1]="ModeratedText",e[e.FlaggedSegment=2]="FlaggedSegment",e[e.CurrentUserHighlight=3]="CurrentUserHighlight",e[e.Mention=4]="Mention",e[e.Link=5]="Link",e[e.Emote=6]="Emote",e[e.ClipLink=7]="ClipLink",e[e.VideoLink=8]="VideoLink"}(i||(i={}))},RlCF:function(e,t,n){},S1Za:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i="video-player.VIDEO_PLAYER_INSTANCE_STARTED";function a(e){return{type:i,playerRefID:e}}},S8nt:function(e,t,n){"use strict";var i,a,r,o,s;n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s})),function(e){e[e.FollowAndSub=0]="FollowAndSub",e[e.FollowAndSubVerbose=1]="FollowAndSubVerbose",e[e.WatchAndSub=2]="WatchAndSub"}(i||(i={})),function(e){e[e.AboveStreamInfo=0]="AboveStreamInfo",e[e.BelowStreamInfo=1]="BelowStreamInfo"}(a||(a={})),function(e){e.Once="Once",e.Always="Always"}(r||(r={})),function(e){e[e.Navigate=0]="Navigate",e[e.Modal=1]="Modal"}(o||(o={})),function(e){e.Hidden="hidden",e.Showing="showing"}(s||(s={}))},S8uQ:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.Loading="loading",e.None="none",e.Provided="provided"}(i||(i={}))},S9aP:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoAdRequestBroadcaster"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"adProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"adServerDefault"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPrerollsDisabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPostrollsDisabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasVodAdsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vodArchiveMidrolls"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"product"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasAdFree"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAffiliate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"broadcastSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isMature"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcasterSoftware"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoAdRequestGame"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoAdRequestTag"},directives:[]}]}}]}}]}}],loc:{start:0,end:428}};i.loc.source={body:'#import "./game.gql"\n#import "./tag.gql"\nfragment VideoAdRequestBroadcaster on User {\nid\nlogin\nadProperties {\nadServerDefault\nhasPrerollsDisabled\nhasPostrollsDisabled\nhasVodAdsEnabled\nvodArchiveMidrolls\n}\nself {\nsubscriptionBenefit {\nid\nproduct {\nid\nhasAdFree\n}\n}\n}\nroles {\nisAffiliate\nisPartner\n}\nbroadcastSettings {\nid\nisMature\n}\nstream {\nid\nbroadcasterSoftware\ngame {\n...VideoAdRequestGame\n}\ntags {\n...VideoAdRequestTag\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("SQDN").definitions)),i.definitions=i.definitions.concat(r(n("I5Yy").definitions)),e.exports=i},SGIe:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i,a=n("q1tI"),r=n("/7QA"),o=n("DMoW"),s=n("2xye"),l=n("K29g"),c=n("OTul"),d=n("oBNK"),u=n("5e0Q"),p=n("OCDW"),m=n("Yegi"),f=n("LNol"),v=n("Ix37");!function(e){e.ClipsVideoButtonHighlight="clips-video-button-highlight"}(i||(i={}));var g=function(e){var t,n=e.clip;if(!(n.video&&n.video.id&&null!==n.videoOffsetSeconds&&n.broadcaster&&n.broadcaster.login&&n.video.broadcastType===o.H.ARCHIVE)){var g=n.video?Object(r.d)("You can only highlight past broadcasts","ClipsFullVideoButton"):Object(r.d)("Full video not available","ClipsFullVideoButton");return a.createElement(d.a,{label:g,align:d.b.Left},a.createElement(u.a,{type:e.buttonType,disabled:!0},a.createElement(p.a,{display:m.h.Flex},a.createElement(p.a,{display:m.h.Flex,margin:{right:.5}},a.createElement(f.a,{asset:v.a.Highlighter})),e.callToAction)))}return a.createElement(u.a,{targetBlank:!0,linkTo:Object(c.g)(n.broadcaster.login,n.video.id,(t={},t[l.a.TrackingID]=n.id,t[l.a.Start]=n.videoOffsetSeconds.toString(),t[l.a.End]=(n.videoOffsetSeconds+(n.durationSeconds||30)).toString(),t[l.a.Title]=n.title||"Clip: "+n.video.title,t[l.a.GameName]=n.game&&n.game.displayName||"",t[l.a.GameID]=n.game&&n.game.id||"",t[l.b.TrackingContent]=s.PageviewContent.ClipsHighlighterCTA,t[l.b.TrackingMedium]=s.PageviewMedium.ClipsWatchPage,t)),onClick:e.onClick,type:e.buttonType,"data-test-selector":i.ClipsVideoButtonHighlight},a.createElement(p.a,{display:m.h.Flex},a.createElement(p.a,{display:m.h.Flex,margin:{right:.5}},a.createElement(f.a,{asset:v.a.Highlighter})),e.callToAction))}},SQDN:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoAdRequestGame"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Game"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tagType"},value:{kind:"EnumValue",value:"CONTENT"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoAdRequestTag"},directives:[]}]}}]}}],loc:{start:0,end:115}};i.loc.source={body:'#import "./tag.gql"\nfragment VideoAdRequestGame on Game {\nid\nname\ntags(tagType: CONTENT) {\n...VideoAdRequestTag\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("I5Yy").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))),e.exports=i},SSs3:function(e,t,n){},"SVT/":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("q1tI"),a=n("OCDW"),r=n("Yegi"),o=n("LNol"),s=n("uq9l"),l=function(e){var t=e.icon&&i.createElement(a.a,{display:r.h.Flex,margin:{right:.5}},i.createElement(o.a,{asset:e.icon,width:10,height:10}));return i.createElement(a.a,{className:"tw-media-card-stat",display:r.h.Flex,alignItems:r.b.Center,justifyContent:r.m.Center,background:r.d.Overlay,color:r.f.Overlay,fontSize:r.k.Size6,borderRadius:r.e.Small},t,i.createElement(s.a,null,e.children))};l.displayName="MediaCardStat"},SWSa:function(e,t,n){"use strict";n.d(t,"a",(function(){return M})),n.d(t,"b",(function(){return V}));var i=n("o0o1"),a=n.n(i),r=n("yXPU"),o=n.n(r),s=n("pVnL"),l=n.n(s),c=n("VbXa"),d=n.n(c),u=n("q1tI"),p=n.n(u),m=n("SWse"),f=n("P+FS"),v=n("HQtB"),g=n("p9DJ"),h=n("E1Lb"),b=n("Yegi"),y=n("IyK4"),k=n("OCDW"),S=n("Ix37"),E=n("8OQS"),C=n.n(E),O=n("7fYk"),_=n("uq9l"),w=n("hMTT"),P=n("7Py2"),N=function(e){var t,n,i=e.label,a=e.children,r=e.overlay,o=e.originalIndex,s=e.padding,c=e.textAlign,d=e.size,m=e.activeIndicator,f=C()(e,["label","children","overlay","originalIndex","padding","textAlign","size","activeIndicator"]),v=f.onClick;"string"==typeof i?t=i:"object"==typeof i&&(t=i[0],n=i[1]);var g=Object(u.useCallback)((function(e){v&&v(e,o)}),[v,o]);return p.a.createElement(y.a,{display:b.h.Block,padding:void 0===s?{x:1}:s,fullHeight:!0,fullWidth:!0,color:r?b.f.Overlay:b.f.Inherit},p.a.createElement(O.a,l()({},f,{onClick:g,className:"tw-tab-item",role:"tab"}),p.a.createElement(k.a,{fullHeight:!0,textAlign:c,display:b.h.Flex,flexDirection:b.i.Column},p.a.createElement(k.a,{className:m?void 0:"tw-tab-item__spacer",flexGrow:1,display:b.h.Flex,justifyContent:b.m.Center,flexDirection:b.i.Column},t&&p.a.createElement(P.a,{size:d===M.Large?P.b.Small:P.b.ExtraSmall},t),n&&p.a.createElement(_.a,{fontSize:b.k.Size5},n),a),p.a.createElement(k.a,{flexGrow:0},m))))};N.displayName="TabItemComponent";var T=Object(w.b)(N),D=n("mDIl"),I=n("4Nlk"),A=n("p8fB"),j=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).handleClick=function(e){t.props.onClick&&t.props.onClick(e,t.props.originalIndex)},t}return d()(t,e),t.prototype.render=function(){var e,t;return"string"==typeof this.props.label?e=this.props.label:"object"==typeof this.props.label&&(e=this.props.label[0],t=this.props.label[1]),u.createElement(A.a,l()({type:A.b.Inverted,linkTo:this.props.linkTo,onClick:this.handleClick,disabled:this.props.disabled,renderLink:this.props.renderLink,tabIndex:this.props.tabIndex,targetBlank:this.props.targetBlank,borderRadius:b.e.Medium},Object(f.a)(this.props)),u.createElement(k.a,{padding:{x:1,y:.5}},u.createElement(_.a,{bold:!!t},e),t&&u.createElement(_.a,null,t),this.props.children))},t}(u.Component);j.displayName="TabMenuItem";var x=function(e){function t(){return e.apply(this,arguments)||this}return d()(t,e),t.prototype.render=function(){return u.createElement(D.a,{direction:I.b.BottomRight,show:!0},u.createElement(k.a,{padding:1},this.props.tabs.map((function(e,t){return u.createElement(j,l()({},e,{key:t}))}))))},t}(u.Component);function L(e,t){return e===t||"object"==typeof e&&"object"==typeof t&&(e[0]===t[0]&&e[1]===t[1])}x.displayName="TabMenu";var F,M,R=32;!function(e){e.ActiveTabIndicator="ACTIVE_TAB_INDICATOR"}(F||(F={})),function(e){e[e.Default=1]="Default",e[e.Large=2]="Large"}(M||(M={}));var V=function(e){function t(t){var n;return(n=e.call(this,t)||this).containerRef=null,n.indicatorRef=null,n.tabRefs=[],n.renderTab=function(e,t){var i,a=void 0!==n.props.justifyContent||n.state.showAllTabsForMeasuring?0:1;return i=n.props.justifyContent===b.m.Start&&0===t?{left:0,right:1}:n.props.justifyContent===b.m.End&&t===n.props.tabs.length-1?{left:1,right:0}:{x:1},u.createElement(y.a,{key:e.originalIndex,flexGrow:a,color:n.props.activeTabIndex===e.originalIndex?b.f.Link:b.f.Base,alignItems:b.b.Center,justifyContent:b.m.Center,fullHeight:!0},u.createElement("li",{className:"tw-tabs__tab",role:"presentation",ref:n.setTabRef,"data-index":e.originalIndex},u.createElement(T,l()({},e,{padding:i,size:n.props.size,textAlign:[b.m.Center,void 0].includes(n.props.justifyContent)?b.q.Center:b.q.Left,activeIndicator:n.props.activeTabIndex===e.originalIndex&&u.createElement("div",{ref:n.setIndicatorRef,className:"tw-tabs__active-indicator",style:{transform:n.state.activeIndicatorTransform},"data-test-selector":F.ActiveTabIndicator})||void 0}))))},n.setTabProps=function(e,t){return l()({},e,{originalIndex:t})},n.toggleMoreItemsMenu=function(){n.setState((function(e){return{showMoreItemsMenu:!e.showMoreItemsMenu}}))},n.setContainerRef=function(e){n.containerRef=e},n.setIndicatorRef=function(e){n.indicatorRef=e},n.setTabRef=function(e){if(n.tabRefs.length>n.props.tabs.length&&n.tabRefs.splice(n.props.tabs.length),e){var t=e.getAttribute("data-index");if(null!==t){var i=parseInt(t,void 0);n.tabRefs[i]=e}}},n.updateVisibleTabs=function(){var e=o()(a.a.mark((function e(t){var i,r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=!1),n.tabRefs&&n.containerRef){e.next=3;break}return e.abrupt("return","");case 3:if(!0!==t&&n.state.tabWidths.length===n.tabRefs.length){e.next=6;break}return e.next=6,n.measureTabWidths();case 6:return i=n.props.activeTabIndex||0,r=[],o=n.containerRef.clientWidth,n.hasHiddenItems()||(o-=R),n.props.tabs[i]&&(r.push(i),o-=n.state.tabWidths[i]),n.state.tabWidths.some((function(e,t){return t!==i&&(o-e<=0||(o-=e,t<i?r.splice(t,0,t):r.push(t),!1))})),JSON.stringify(r)!==JSON.stringify(n.state.visibleTabIndexList)&&n.setState({visibleTabIndexList:r}),e.abrupt("return");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.measureTabWidths=o()(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=o()(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.state.showAllTabsForMeasuring){e.next=3;break}return e.next=3,n.setState({showAllTabsForMeasuring:!0});case 3:n.ensureLayoutReflow(),n.setState({tabWidths:n.tabRefs.map((function(e){return e.clientWidth})),showAllTabsForMeasuring:!1},t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),n.ensureLayoutReflow=function(){n.containerRef&&n.containerRef.scrollTop},n.setupResizeHandler=function(){window.addEventListener("resize",n.onResize),setTimeout((function(){n.updateVisibleTabs(!0)}),500)},n.removeResizeHandler=function(){window.removeEventListener("resize",n.onResize)},n.onResize=function(e){n.updateVisibleTabs()},n.hasItemWithTwoLineText=function(){return-1<n.props.tabs.findIndex((function(e){return"object"==typeof e.label&&e.label.length>1}))},n.state={visibleTabIndexList:t.tabs.map((function(e,t){return t})),activeIndicatorTransform:"",tabWidths:[]},n}d()(t,e);var n=t.prototype;return n.getSnapshotBeforeUpdate=function(e,t){return this.props.activeTabIndex!==e.activeTabIndex?this.getIndicatorTransform(this.props.activeTabIndex):null},n.componentDidUpdate=function(e,t,n){var i=this;(function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!L(e[n].label,t[n].label))return!1;return!0})(e.tabs,this.props.tabs)||this.updateVisibleTabs(!0),n&&this.setState({activeIndicatorTransform:n,showMoreItemsMenu:!1},(function(){i.updateVisibleTabs(),i.ensureLayoutReflow(),i.setState({activeIndicatorTransform:""})}))},n.componentDidMount=function(){this.props.setupResizeHandler?this.props.setupResizeHandler(this.updateVisibleTabs):this.setupResizeHandler()},n.componentWillUnmount=function(){this.props.removeResizeHandler?this.props.removeResizeHandler(this.updateVisibleTabs):this.removeResizeHandler()},n.render=function(){var e={"tw-tabs":!0,"tw-tabs--large":this.props.size===M.Large,"tw-tabs--two-line-text":this.hasItemWithTwoLineText()},t=this.state.showAllTabsForMeasuring?this.props.tabs.map(this.setTabProps):this.getVisibleTabs();return u.createElement(k.a,{className:Object(m.a)(e),position:b.o.Relative,display:b.h.Flex,fullWidth:!0,borderBottom:void 0===this.props.borderBottom||this.props.borderBottom},u.createElement(y.a,{flexGrow:1,display:b.h.Flex,fullHeight:!0,alignItems:b.b.Center,justifyContent:this.props.justifyContent?this.props.justifyContent:b.m.Start,fontSize:b.k.Size4,flexWrap:b.j.Wrap},u.createElement("ul",l()({ref:this.setContainerRef,role:"tablist"},Object(v.a)(this.props),Object(f.a)(this.props)),t.map(this.renderTab))),this.hasHiddenItems()&&u.createElement(g.a,{type:g.b.Inherit,onClick:this.toggleMoreItemsMenu},u.createElement(k.a,{margin:{left:1}},u.createElement(h.a,{asset:S.a.NavMore}))),this.state.showMoreItemsMenu&&u.createElement(x,{tabs:this.getHiddenTabs()}))},n.getVisibleTabs=function(){var e=this.props.tabs.map(this.setTabProps);return this.state.visibleTabIndexList.map((function(t){return e[t]})).filter((function(e){return void 0!==e}))},n.getHiddenTabs=function(){var e=this;return this.props.tabs.map(this.setTabProps).filter((function(t,n){return-1===e.state.visibleTabIndexList.indexOf(n)}))},n.hasHiddenItems=function(){return this.state.visibleTabIndexList.length!==this.props.tabs.length},n.getIndicatorTransform=function(e){var t=this.tabRefs[e];if(!t||!this.indicatorRef||!this.containerRef)return"";var n=this.indicatorRef.getBoundingClientRect(),i=n.left-this.containerRef.getBoundingClientRect().left,a="scaleX("+n.width/t.clientWidth+")";return["translateX("+(i-t.offsetLeft)+"px)",a].join(" ")},t}(u.Component);V.displayName="Tabs"},Skhc:function(e,t,n){},TCi5:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayer_AgeGateOverlayBroadcaster"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UserByAttribute"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userByAttribute"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"adProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requiredAge"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:146}};n.loc.source={body:"query VideoPlayer_AgeGateOverlayBroadcaster($input: UserByAttribute!) {\nuserByAttribute(input: $input) {\nid\nlogin\nadProperties {\nrequiredAge\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoPlayer_AgeGateOverlayBroadcaster=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoPlayer_AgeGateOverlayBroadcaster")},TEXg:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerPixelAnalyticsUrls"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"allowAmazon"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"allowComscore"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"allowGoogle"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"allowNielsen"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"adProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trackingPixels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"consent"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"allowAmazon"},value:{kind:"Variable",name:{kind:"Name",value:"allowAmazon"}}},{kind:"ObjectField",name:{kind:"Name",value:"allowComscore"},value:{kind:"Variable",name:{kind:"Name",value:"allowComscore"}}},{kind:"ObjectField",name:{kind:"Name",value:"allowGoogle"},value:{kind:"Variable",name:{kind:"Name",value:"allowGoogle"}}},{kind:"ObjectField",name:{kind:"Name",value:"allowNielsen"},value:{kind:"Variable",name:{kind:"Name",value:"allowNielsen"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"origin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"service"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timeOffsetSeconds"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:386}};n.loc.source={body:"query VideoPlayerPixelAnalyticsUrls(\n$login: String\n$allowAmazon: Boolean\n$allowComscore: Boolean\n$allowGoogle: Boolean\n$allowNielsen: Boolean\n) {\nchannel: user(login: $login) {\nid\nadProperties {\ntrackingPixels(consent: {\nallowAmazon: $allowAmazon\nallowComscore: $allowComscore\nallowGoogle: $allowGoogle\nallowNielsen: $allowNielsen\n}) {\norigin\nservice\ntype\nurl\ntimeOffsetSeconds\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoPlayerPixelAnalyticsUrls=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoPlayerPixelAnalyticsUrls")},TOKp:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"recommendedPostplayGame"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Game"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"recommendedPostplayClipBroadcaster"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"recommendedPostplayClip"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Clip"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"480"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"272"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayClipBroadcaster"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayGame"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"recommendedPostplayBroadcaster"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayClipBroadcaster"},directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"320"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"180"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayGame"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"recommendedPostplayVideo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayGame"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"320"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"180"}}],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"recommendedRelatedClips"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClipRelatedClips"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayClip"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayClip"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"top"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayClip"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerClipPostplayRecommendationsOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"videoOffsetSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayBroadcaster"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayGame"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"relatedClips"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedRelatedClips"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayVideo"},directives:[]}]}}]}}]}}],loc:{start:0,end:1149}};n.loc.source={body:"fragment recommendedPostplayGame on Game {\nid\ndisplayName\nname\n}\nfragment recommendedPostplayClipBroadcaster on User {\nid\ndisplayName\nlogin\n}\nfragment recommendedPostplayClip on Clip {\nid\ndurationSeconds\nslug\ntitle\nthumbnailURL(width: 480 height: 272)\nviewCount\nbroadcaster {\n...recommendedPostplayClipBroadcaster\n}\ngame {\n...recommendedPostplayGame\n}\n}\nfragment recommendedPostplayBroadcaster on User {\n...recommendedPostplayClipBroadcaster\nstream {\nid\npreviewImageURL(width: 320 height: 180)\ngame {\n...recommendedPostplayGame\n}\n}\n}\nfragment recommendedPostplayVideo on Video {\nid\ngame {\n...recommendedPostplayGame\n}\nlengthSeconds\npreviewThumbnailURL(width: 320 height: 180)\n}\nfragment recommendedRelatedClips on ClipRelatedClips {\nbroadcaster {\n...recommendedPostplayClip\n}\ngame {\n...recommendedPostplayClip\n}\ntop {\n...recommendedPostplayClip\n}\n}\nquery VideoPlayerClipPostplayRecommendationsOverlay($slug: ID!) {\nclip(slug: $slug) {\nid\ndurationSeconds\nslug\nvideoOffsetSeconds\nbroadcaster {\n...recommendedPostplayBroadcaster\n}\ngame {\n...recommendedPostplayGame\n}\nrelatedClips {\n...recommendedRelatedClips\n}\nvideo {\n...recommendedPostplayVideo\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoPlayerClipPostplayRecommendationsOverlay=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoPlayerClipPostplayRecommendationsOverlay")},TVuH:function(e,t,n){},TZqV:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoAdRequestVOD"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoAdRequestGame"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoAdRequestBroadcaster"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"contentTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoAdRequestTag"},directives:[]}]}}]}}],loc:{start:0,end:252}};i.loc.source={body:'#import "./broadcaster.gql"\n#import "./game.gql"\n#import "./tag.gql"\nfragment VideoAdRequestVOD on Video {\nid\nlengthSeconds\nbroadcastType\ntitle\ngame {\n...VideoAdRequestGame\n}\nowner {\n...VideoAdRequestBroadcaster\n}\ncontentTags {\n...VideoAdRequestTag\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}i.definitions=i.definitions.concat(r(n("S9aP").definitions)),i.definitions=i.definitions.concat(r(n("SQDN").definitions)),i.definitions=i.definitions.concat(r(n("I5Yy").definitions)),e.exports=i},Tf2u:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TNFMidroll"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"adProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"costreamers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:100}};n.loc.source={body:"query TNFMidroll($login: String!) {\nuser(login: $login) {\nid\nadProperties {\ncostreamers {\nid\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.TNFMidroll=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"TNFMidroll")},TiCe:function(e,t,n){},Tji9:function(e,t,n){"use strict";var i,a;n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),function(e){e.AdFreeChannel="reason_channeladfree",e.AdFreeChannelSubscription="reason_channelsub",e.AdFreeVOD="reason_vod_ads_disabled",e.BountyInProgress="reason_bounty",e.BroadcasterInitiatedVODMidroll="reason_vod_midroll",e.BroadcasterPreroll="reason_stream_broadcaster",e.EmbedPromo="reason_embed_promo",e.MidrollDensity="reason_p4m",e.NotAffiliateOrPartner="reason_lt",e.Raid="reason_raid",e.RateLimitMidroll="reason_midroll_during_preroll",e.RateLimitPreroll="reason_ratelimit",e.ShortVideo="reason_short_vod",e.Turbo="reason_turbo",e.VODCreator="reason_vod_creator",e.WatchParty="reason_wp",e.ZeroAdGroupDevice="reason_zagd",e.ZeroAdGroupUser="reason_zagu",e.MidrollRatelimit="reason_midlimit"}(i||(i={})),function(e){e.AmazonProductPage="reason_amazon_product_page",e.AnimatedThumbnails="reason_animated_thumbnails",e.Creative="reason_creative_player",e.Dashboard="reason_dashboard",e.Facebook="reason_facebook",e.Frontpage="reason_frontpage",e.Highlighter="reason_highlighter",e.Onboarding="reason_onboarding",e.PictureByPicture="reason_pbyp",e.SquadSecondary="reason_squad_stream_secondary_player",e.ESports="reason_thunderdome",e.Embed="reason_embed"}(a||(a={}))},Tmn7:function(e,t,n){e.exports=n.p+"assets/radio-logo-df29f65ec21e4593c944.png"},TwdJ:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return y}));var i,a,r=n("pVnL"),o=n.n(r),s=n("q1tI"),l=n("SWse"),c=n("P+FS"),d=n("HQtB"),u=n("E1Lb"),p=n("Yegi"),m=n("OCDW"),f=n("IyK4"),v=n("hMTT"),g=n("gdM2");!function(e){e[e.Text=0]="Text",e[e.Number=1]="Number",e[e.Email=2]="Email",e[e.Password=3]="Password",e[e.Search=4]="Search"}(i||(i={})),function(e){e.Default="",e.Left="tw-input--rounded-left",e.Right="tw-input--rounded-right"}(a||(a={}));var h=function(e,t){var n,r=g.c.Default;e.size&&(r=e.size);var v={"tw-input":!0,"tw-input--small":e.size===g.c.Small,"tw-input--large":e.size===g.c.Large,"tw-input--error":e.error,"tw-input--overlay":e.overlay,"tw-input--password":e.type===i.Password},h=e.size?g.a[e.size]:p.e.Medium,b={topLeft:h,topRight:h,bottomLeft:h,bottomRight:h};return e.rounding===a.Left?(b.topRight=p.e.None,b.bottomRight=p.e.None):e.rounding===a.Right&&(b.topLeft=p.e.None,b.bottomLeft=p.e.None),e.icon&&(n=s.createElement(m.a,{className:Object(l.a)({"tw-input__icon":!0,"tw-input__icon--overlay":e.overlay}),position:p.o.Absolute,attachLeft:e.icon&&!e.iconRight,attachRight:e.iconRight,attachTop:!0,zIndex:p.t.Default,color:e.overlay?void 0:p.f.Alt2,display:p.h.Flex,alignItems:p.b.Center,justifyContent:p.m.Center,fullHeight:!0},s.createElement(u.a,{asset:e.icon}))),s.createElement(m.a,o()({position:p.o.Relative},Object(d.a)(e)),n,s.createElement(f.a,{display:p.h.Block,borderRadius:b,padding:{left:e.icon&&!e.iconRight?3:1,right:e.iconRight?3:1,y:e.size===g.c.Small?void 0:.5},fontSize:g.b[r],fullWidth:!0,textAlign:e.textAlign},s.createElement("input",o()({},Object(c.a)(e),{ref:t||e.refDelegate,type:i[e.type].toLowerCase(),className:Object(l.a)(v),placeholder:e.placeholder,autoCapitalize:e.autoCapitalize?"on":"off",autoCorrect:e.autoCorrect?"on":"off",autoComplete:e.autoComplete,autoFocus:e.autoFocus,"data-a-target":"tw-input",defaultValue:e.defaultValue,disabled:e.disabled,id:e.id,inputMode:e.inputMode,list:e.list,name:e.name,onBlur:e.onBlur,onChange:e.onChange,onClick:e.onClick,onFocus:function(t){e.onFocusSelectContent&&t.currentTarget.select();e.onFocus&&e.onFocus(t)},onKeyDown:e.onKeyDown,pattern:e.pattern,max:e.max,maxLength:e.maxLength,min:e.min,readOnly:e.readOnly,required:e.required,spellCheck:e.spellCheck,step:e.step,tabIndex:e.tabIndex,value:e.value}))))};h.displayName="Input";var b=s.forwardRef(h),y=Object(v.b)(b)},TzpY:function(e,t,n){"use strict";n.d(t,"j",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"k",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"l",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return g}));var i=n("GSI7"),a=n("0BjR");function r(e){return e.playerState===a.g.PLAYING}function o(e){return e.playerState===a.g.BUFFERING}function s(e){return e.playerState===a.g.ENDED}function l(e){return e.playerState===a.g.READY}function c(e){return e?{videoWidth:e.getVideoWidth(),videoHeight:e.getVideoHeight()}:{videoWidth:void 0,videoHeight:void 0}}function d(e){return e.playerState===a.g.IDLE}function u(e){var t=e.mediaPlayerInstance;return!!t&&!!t.getSessionData().FUTURE}function p(e,t){var n=e.isLiveLowLatencyEnabled,i=e.mediaPlayerInstance,a=e.updateContext;i&&(i.setLiveLowLatencyEnabled(t),t!==n&&a({isLiveLowLatencyEnabled:t}))}function m(e,t){var n=e.restrictions;return t?!!n[t]:Object.keys(n).some((function(e){return!!n[e]}))}function f(e){var t=e.restrictions,n=e.accessExpiration;return!!t[i.a.PremiumContent]||!!t[i.a.SubscriberVOD]||!!n}function v(e){var t=e.mediaPlayerInstance;return t&&t.getSessionData()["SERVING-ID"]}function g(e){var t=e.mediaPlayerInstance;return t&&t.getSessionData()["BROADCAST-ID"]}},UBQQ:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionsForChannel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"selfInstalledExtensions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extensionInstallationSelfEdge"},directives:[]}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"extensionInstallationSelfEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExtensionInstallationSelfEdge"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"installation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"extension"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extension"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"abilities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isChatEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isBitsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSubscriptionStatusAvailable"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"activationConfig"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"anchor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slot"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"x"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"y"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canActivate"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extensionID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"jwt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"configuration"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extensionID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"developer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"global"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"issuedAt"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"extension"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Extension"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasIdentityLinking"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"iconURLs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extensionIconURLs"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isBitsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sku"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vendorCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"version"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"views"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"extensionViews"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"whitelistedConfigURLs"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"whitelistedPanelURLs"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"extensionIconURLs"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExtensionIcons"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"square100"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"square24"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discoverySplash"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"extensionViews"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ExtensionViews"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canLinkExternalContent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"aspectRatioX"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"aspectRatioY"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetHeight"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasAutoscale"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scalePixels"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"config"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canLinkExternalContent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerURL"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"hidden"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canLinkExternalContent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerURL"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"liveConfig"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canLinkExternalContent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerURL"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"mobile"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerURL"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"panel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canLinkExternalContent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerURL"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"videoOverlay"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canLinkExternalContent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewerURL"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:1354}};n.loc.source={body:"query ExtensionsForChannel($channelID: ID!) {\nuser(id: $channelID) {\nid\nchannel {\nid\nselfInstalledExtensions {\n...extensionInstallationSelfEdge\n}\n}\n}\n}\nfragment extensionInstallationSelfEdge on ExtensionInstallationSelfEdge {\ninstallation {\nid\nextension {\n...extension\n}\nabilities {\nisChatEnabled\nisBitsEnabled\nisSubscriptionStatusAvailable\n}\nactivationConfig {\nanchor\nslot\nstate\nx\ny\n}\nself {\ncanActivate\n}\n}\ntoken {\nextensionID\njwt\n}\nconfiguration {\nextensionID\nbroadcaster {\nversion\ncontent\n}\ndeveloper {\nversion\ncontent\n}\nglobal {\nversion\ncontent\n}\n}\nissuedAt\n}\nfragment extension on Extension {\nauthorName\ndescription\nhasIdentityLinking\niconURLs {\n...extensionIconURLs\n}\nid\nisBitsEnabled\nname\nsku\nsummary\n# viewerSummary isn't returned from gql. fix this\nvendorCode\nversion\nviews {\n...extensionViews\n}\nstate\nwhitelistedConfigURLs\nwhitelistedPanelURLs\n}\nfragment extensionIconURLs on ExtensionIcons {\nsquare100\nsquare24\ndiscoverySplash\n}\nfragment extensionViews on ExtensionViews {\ncomponent {\nviewerURL\ncanLinkExternalContent\naspectRatioX\naspectRatioY\ntargetHeight\nhasAutoscale\nscalePixels\n}\nconfig {\ncanLinkExternalContent\nviewerURL\n}\nhidden {\ncanLinkExternalContent\nviewerURL\n}\nliveConfig {\ncanLinkExternalContent\nviewerURL\n}\nmobile {\nviewerURL\n}\npanel {\ncanLinkExternalContent\nheight\nviewerURL\n}\nvideoOverlay {\ncanLinkExternalContent\nviewerURL\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ExtensionsForChannel=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ExtensionsForChannel")},UJlM:function(e,t,n){},UUjt:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("pVnL"),a=n.n(i),r=n("VbXa"),o=n.n(r),s=n("q1tI"),l=n("P+FS"),c=n("swlv"),d=n("g8gE"),u=n("uq9l"),p=n("IyK4"),m=n("Yegi"),f=n("OCDW"),v=n("7Py2"),g=n("kOvl"),h=function(e){function t(){return e.apply(this,arguments)||this}return o()(t,e),t.prototype.render=function(){var e,t,n,i;switch(this.props.size){case g.a.Small:e="tw-modal-header tw-modal-header--sm";break;case g.a.Large:e="tw-modal-header tw-modal-header--lg";break;default:e="tw-modal-header tw-modal-header--md"}switch(this.props.size){case g.a.Small:t="tw-modal-header__title tw-modal-header__title--sm";break;case g.a.Large:t="tw-modal-header__title tw-modal-header__title--lg";break;default:t="tw-modal-header__title tw-modal-header__title--md"}switch(this.props.size){case g.a.Small:n=v.b.ExtraSmall;break;case g.a.Large:n=v.b.Large;break;default:n=v.b.Default}switch(this.props.size){case g.a.Small:i={x:.5,y:.5};break;case g.a.Large:i={y:1,right:1};break;default:i={bottom:.5,top:1,right:1}}var r=void 0;return void 0!==this.props.padding?r=this.props.padding:this.props.size!==g.a.Small||this.props.closeButton||(r={x:2}),s.createElement(p.a,{padding:i,display:m.h.Flex,alignItems:m.b.Center,position:m.o.Relative},s.createElement("div",a()({className:e,style:{backgroundImage:this.props.imageSrc?"url("+this.props.imageSrc+")":void 0}},Object(l.a)(this.props)),this.props.closeButton&&this.props.size===g.a.Small&&s.createElement(f.a,{margin:{right:1},className:"tw-modal-header__button"}),s.createElement(f.a,{padding:r,className:t,flexGrow:1,visibility:this.props.imageSrc?m.s.Hidden:m.s.Visible,textAlign:this.props.size===g.a.Small?m.q.Center:void 0},s.createElement(v.a,{type:u.e.H2,size:n,id:this.props.id},this.props.title)),this.props.closeButton&&s.createElement(f.a,{className:"tw-modal-header__button",margin:{left:1},alignSelf:m.c.Start},s.createElement(d.a,{"aria-label":this.props.closeButton["aria-label"],size:c.b.Small,onClick:this.props.closeButton.onClick,overlay:!!this.props.imageSrc}))))},t}(s.Component);h.displayName="ModalHeader"},UtoE:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return p}));var i=n("mrSG"),a=n("q1tI"),r=n("+XUr"),o=n("i/Zp"),s=n("Av26"),l={behaviors:{},callbacks:{},content:{type:r.a.Invalid},type:o.a.Site},c=Object(s.a)("PlayerPublicPropsContext",l,(function(e){return{playerPublicPropsContext:e}})),d=c.withMemoContext,u=c.context,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return a.createElement(u.Provider,{value:this.props},this.props.children||null)},t}(a.PureComponent)},Uyxv:function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),function(e){e.Loading="pbyp_loading",e.Playing="pbyp_playing",e.Paused="pbyp_paused",e.Unavailable="pbyp_unavailable"}(i||(i={}));var a="p_by_p_adstart_show_player"},V6Bk:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerStreamInfoOverlayChannel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"150"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewersCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"localizedName"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:262}};n.loc.source={body:"query VideoPlayerStreamInfoOverlayChannel($channel: String) {\nuser(login: $channel) {\nid\nprofileURL\ndisplayName\nlogin\nprofileImageURL(width: 150)\nbroadcastSettings {\nid\ntitle\ngame {\nid\ndisplayName\nname\n}\n}\nstream {\nid\nviewersCount\ntags {\nid\nlocalizedName\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoPlayerStreamInfoOverlayChannel=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoPlayerStreamInfoOverlayChannel")},V94A:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"followButtonFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canFollow"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"follower"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disableNotifications"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:182}};n.loc.source={body:"# Queries the data necessary to render the FollowButton component.\nfragment followButtonFragment on User {\nid\ndisplayName\nlogin\nself {\ncanFollow\nfollower {\ndisableNotifications\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},VQoz:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return b}));var i,a=n("pVnL"),r=n.n(a),o=n("8OQS"),s=n.n(o),l=n("q1tI"),c=n("7fYk"),d=n("IyK4"),u=n("Yegi"),p=n("OCDW"),m=n("hMTT"),f=n("LNol"),v=n("Ix37");!function(e){e[e.Remove=1]="Remove",e[e.Add=2]="Add"}(i||(i={}));var g=function(e,t){var n=e.label,a=e.action,o=e.overlay,m=s()(e,["label","action","overlay"]);return l.createElement(d.a,{className:"tw-tag "+(o?"tw-tag--overlay":""),display:u.h.InlineFlex,borderRadius:u.e.Rounded,fontWeight:u.l.SemiBold},l.createElement(c.a,r()({},m,{ref:t}),l.createElement(p.a,{className:"tw-tag__content"+(a?" tw-tag__content--icon":""),display:u.h.Flex,alignItems:u.b.Center,fontSize:u.k.Size7},n,a&&l.createElement(p.a,{className:"tw-tag__icon",display:u.h.Flex,alignItems:u.b.Center},l.createElement(f.a,{fill:!0,asset:a===i.Add?v.a.Smallplus:v.a.Smallhide})))))};g.displayName="TagComponent",g.displayName="Tag";var h=l.forwardRef(g),b=Object(m.b)(h)},VSaV:function(e,t){},VcDr:function(e,t,n){},VcSi:function(e,t,n){},VeT4:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("q1tI"),a=n("/7QA"),r=n("/0dD"),o=n("5zXJ"),s=n("XmgI"),l=n("4h+t"),c=n("x1M1");n("5cw2");function d(e){var t,n=Object(a.d)("{bitsAmount} Bits",{bitsAmount:e.count.toString()},"Bits--BitsCount");if(e.withImage){var d=e.bitsConfig&&e.bitsConfig.indexedActions[o.k];d||(d=Object(l.b)("Cheer"));var u=void 0;if(0===e.count)u=o.l;else for(var p=0,m=d.orderedTiers;p<m.length;p++){var f=m[p];if(f.bits<=e.count){u=f.bits;break}}if(u){var v=Object(s.d)(d,u,void 0,e.animated);return void 0!==e.themeOverride&&(e.themeOverride===r.a.Light?v.dark=v.light:v.light=v.dark),t=i.createElement(c.a,{className:"bits-count--img",sources:v}),i.createElement("strong",{className:"bits-count","data-a-target":"bits-count"},i.createElement("span",null,t," ",e.withText?n:""))}}return i.createElement("strong",{className:"bits-count","data-a-target":"bits-count"},i.createElement("span",null,n))}},Vsf8:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ClipsModalDeleteAll_Clip"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"broadcast"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:101}};n.loc.source={body:"query ClipsModalDeleteAll_Clip($slug: ID!) {\nclip(slug: $slug) {\nid\nvideo {\nid\n}\nbroadcast {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ClipsModalDeleteAll_Clip=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ClipsModalDeleteAll_Clip")},Vtno:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i,a=n("/7QA");function r(e){return a.p.experiments.getAndTrackAssignment("chat_replies",{channel:null!=e?e:void 0})}!function(e){e.Control="control",e.TreatmentA="treatment_a",e.TreatmentB="treatment_b",e.TreatmentC="treatment_c"}(i||(i={}))},VwyG:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("/MKj"),a=n("kRBY"),r=n("mrSG"),o=n("q1tI"),s=n("ANjH"),l=n("/7QA"),c=n("yR8l"),d=n("GnwI"),u=n("nt5g"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={error:null},t.logger=l.k.withCategory("role-restricted"),t}return Object(r.__extends)(t,e),t.prototype.componentDidUpdate=function(e){var t=e.data&&e.data.loading,n=this.props.data&&this.props.data.loading;if((!this.props.isLoggedIn||t&&!n)&&this.props.latencyTracking.reportInteractive(),this.props.isLoggedIn&&this.props.data&&(!e.data||e.data.error!==this.props.data.error)){var i=null;this.props.data.error?(i=new Error(this.props.data.error.toString()),this.logger.warn("Unable to retrieve data from GraphQL.",{err:i})):n||this.props.data.user&&this.props.data.currentUser||(i=new Error("Failed to fetch user information"),this.logger.warn("Failed to fetch user information.",{err:i})),this.setState({error:i})}},t.prototype.componentDidMount=function(){(!this.props.isLoggedIn||this.props.data&&!this.props.data.loading)&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e={loading:this.props.isLoggedIn,permitted:!1,roles:{staff:!1,editor:!1,owner:!1},error:this.state.error};if(this.props.isLoggedIn&&this.props.data){var t=function(e){var t=e.data,n={staff:!1,editor:!1,owner:!1};t&&!t.error&&!t.loading&&t.user&&t.currentUser&&(n.staff=!(!t.currentUser.roles||!t.currentUser.roles.isStaff),n.editor=!(!t.user.self||!t.user.self.isEditor),n.owner=t.user.id===t.currentUser.id);return n}(this.props);e=Object(r.__assign)(Object(r.__assign)({},e),{loading:this.props.data.loading,permitted:m(t,this.props.permittedRoles),roles:t})}return o.createElement(o.Fragment,null,this.props.children(e))},t}(o.Component);function m(e,t){return!!e.owner||(!(!e.staff||!t.staff)||!(!e.editor||!t.editor))}var f=Object(s.d)(Object(c.a)(u,{options:function(e){return{variables:{contentOwnerLogin:e.ownerLogin}}},skip:function(e){return!e.isLoggedIn}}),Object(d.withLatencyTracking)("RoleRestricted"))(p);var v=Object(i.b)((function(e){return{isLoggedIn:Object(a.f)(e)}}))(f)},WOwR:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerClipsButtonBroadcaster"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UserByAttribute"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userByAttribute"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEncrypted"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:133}};n.loc.source={body:"query VideoPlayerClipsButtonBroadcaster($input: UserByAttribute!) {\nuserByAttribute(input: $input) {\nid\nstream {\nid\nisEncrypted\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoPlayerClipsButtonBroadcaster=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoPlayerClipsButtonBroadcaster")},WQCf:function(e,t,n){"use strict";n.d(t,"h",(function(){return v})),n.d(t,"g",(function(){return g})),n.d(t,"b",(function(){return h})),n.d(t,"f",(function(){return i})),n.d(t,"j",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"i",(function(){return u}));var i,a,r,o,s,l,c,d,u,p,m,f,v={Ads:"ads",AdPollEvents:"channel-ad-poll-update-events",AdPropertyRefresh:"ad-property-refresh",AutoModQueue:"automod-queue",BitsLeaderboardEvents:"leaderboard-events-v1",BitsCampaignEvents:"bits-campaigns-v1",CampaignGlobalEvents:"campaign-events",CampaignUserEvents:"user-campaign-events",Celebration:"celebration-events-v1",ChannelBitsEvents:"channel-bits-events-v1",ChannelBitsPinEvents:"channel-bit-events-public",ChannelEventUpdates:"channel-event-updates",ChannelSquadInvites:"channel-squad-invites",ChannelSquadUpdates:"channel-squad-updates",ChannelSubscribeEvents:"channel-subscribe-events-v1",CheerbombEventsTopic:"channel-cheer-events-public-v1",BroadcastSettingsUpdate:"broadcast-settings-update",ChannelDropEvents:"channel-drop-events",BountyBoardChatCTA:"channel-bounty-board-events.cta",ChatRoomsUser:"chatrooms-user-v1",CommunityBoostEvents:"community-boost-events-v1",CommunityPointsBroadcaster:"community-points-broadcaster-v1",CommunityPointsChannel:"community-points-channel-v1",CommunityPointsUser:"community-points-user-v1",CommunityPointsPredictionsChannel:"predictions-channel-v1",CommunityPointsPredictionsUser:"predictions-user-v1",DashboardActivityFeed:"dashboard-activity-feed",DashboardAlertQueueStatus:"dashboard-alert-status",DashboardMultiplayerAdsEvent:"dashboard-multiplayer-ads-events",EmoteUploads:"emote-uploads",ExtensionAssets:"extension-control.upload",Follows:"follows",Friendship:"friendship",HypeTrain:"hype-train-events-v1",ImageUpload:"user-image-update",ModerationActionsByUserAndChannel:"chat_moderator_actions",MultiviewChanletUpdate:"multiview-chanlet-update",MysteryGift:"channel-sub-gifts-v1",OnsiteNotifications:"onsite-notifications",PayoutOnboardingEvents:"payout-onboarding-events",PollEvents:"polls",Presence:"presence",PrimeGiftingStatus:"channel-prime-gifting-status",PrimeVideoWatchPartyEvents:"pv-watch-party-events",PurchaseFulfillmentEvents:"purchase-fulfillment-events",Raid:"raid",RadioEvents:"radio-events-v1",SquadUpdates:"squad-updates",StreamChange:"stream-change-v1",StreamChangeByChannel:"stream-change-by-channel",StreamChatRoom:"stream-chat-room-v1",SubscribersCSV:"subscribers-csv-v1",UnbanRequestsByChannel:"channel-unban-requests",UnbanRequestsByUser:"user-unban-requests",UploadService:"upload",UserBitsUpdates:"user-bits-updates-v1",UserCommerceEvents:"user-commerce-events",UserCrateEvents:"user-crate-events-v1",UserModerationNotifications:"user-moderation-notifications",UserPreferencesUpdates:"user-preferences-update-v1",UserPropertiesUpdates:"user-properties-update",UserSubscribeEvents:"user-subscribe-events-v1",VideoPlayback:"video-playback",VideoPlaybackById:"video-playback-by-id",VideoThumbnailProcessing:"video-thumbnail-processing",Whispers:"whispers"},g={AdsMidrollRequest:"midroll_request",AdsMadOffersRefresh:"offers-refresh",AdPollCreatedEvent:"AD_POLL_CREATE",AdPollUpdateEvent:"AD_POLL_UPDATE",AdPollCompletedEvent:"AD_POLL_COMPLETE",AdPollArchivedEvent:"AD_POLL_ARCHIVE",AutoModCaughtMessageEvent:"automod_caught_message",BitsBadgeTierEmoteCreate:"bits-badge-tier-emote-create",BitsChannelSettingsEvent:"channel_settings_update",BitsCampaignAddCheermoteEvent:"sponsored-cheermote-add",BitsCampaignRemoveCheermoteEvent:"sponsored-cheermote-remove",BitsCampaignTotalUpdate:"sponsored-cheermote-update-used",BitsCampaignComplete:"sponsored-cheermote-campaign-complete",BitsPinEvent:"bits-pin-event",BitsLeaderboardEvent:"bits-leaderboard-event",BountyBoardChatCTAShow:"bounty_board_show_chat_cta",ChannelStreamDown:"stream-down",ChannelStreamUp:"stream-up",BroadcastSettingsUpdate:"broadcast_settings_update",CelebrationInitiated:"celebration-initiated",ChatNotification:"chat-notification",ChatRoomsUserModAction:"user_moderation_action",CheerbombEvent:"cheerbomb",Commercial:"commercial",CommunityBoostEnd:"community-boost-end",CommunityBoostProgression:"community-boost-progression",CommunityBoostStart:"community-boost-start",CommunityPointsAutomaticRewardUpdated:"automatic-reward-updated",CommunityPointsChannelLastViewedContentUpdated:"channel-last-viewed-content-updated",CommunityPointsClaimAvailable:"claim-available",CommunityPointsClaimUsed:"claim-claimed",CommunityPointsCommunityGoalContributed:"community-goal-contribution",CommunityPointsCommunityGoalCreated:"community-goal-created",CommunityPointsCommunityGoalDeleted:"community-goal-deleted",CommunityPointsCommunityGoalUpdated:"community-goal-updated",CommunityPointsCustomRewardCreated:"custom-reward-created",CommunityPointsCustomRewardDeleted:"custom-reward-deleted",CommunityPointsCustomRewardUpdated:"custom-reward-updated",CommunityPointsEarned:"points-earned",CommunityPointsGlobalLastViewedContentUpdated:"global-last-viewed-content-updated",CommunityPointsMultipliersUpdated:"active-multipliers-updated",CommunityPointsPredictionEventCreated:"event-created",CommunityPointsPredictionEventUpdated:"event-updated",CommunityPointsPredictionMade:"prediction-made",CommunityPointsPredictionUpdated:"prediction-updated",CommunityPointsPredictionResult:"prediction-result",CommunityPointsRedeemed:"reward-redeemed",CommunityPointsRedemptionUpdated:"redemption-status-update",CommunityPointsRedemptionUpdateFinished:"update-redemption-statuses-finished",CommunityPointsRedemptionUpdateProgress:"update-redemption-statuses-progress",CommunityPointsSettings:"channel-settings-update",CommunityPointsSpent:"points-spent",DashboardAlertStatus:"dashboard-alert-status",DropClaimAvailable:"drop-claim",DropSessionStatus:"drop-progress",ExtensionUpload:"extension-control-upload",HypeTrainCooldownExpiration:"hype-train-cooldown-expiration",HypeTrainConductorUpdate:"hype-train-conductor-update",HypeTrainEnd:"hype-train-end",HypeTrainLevelUp:"hype-train-level-up",HypeTrainProgression:"hype-train-progression",HypeTrainRewards:"hype-train-rewards",HypeTrainStart:"hype-train-start",ImageUploadSuccess:"imageuploadsuccess",ManagedSquad:"managed-squad",ModerationAction:"moderation_action",ModeratorAdded:"moderator_added",ModeratorRemoved:"moderator_removed",MultiviewChanletUpdate:"chanlet",MysteryGiftPurchase:"mystery-gift-purchase",OnsiteNotificationCreate:"create-notification",OnsiteNotificationDelete:"delete-notification",OnsiteNotificationsRead:"read-notifications",OnsiteNotificationsReadAll:"read-all-notifications",OnsiteNotificationSummaryUpdate:"update-summary",OnsiteNotificationUpdate:"update-notification",DropEvent:"drop-event",PayoutOnboardingEvent:"payout-onboarding-event",PixelTrackingUpdate:"pixel_tracking_update",PollCreatedEvent:"POLL_CREATE",PollUpdateEvent:"POLL_UPDATE",PollCompletedEvent:"POLL_COMPLETE",PollTerminatedEvent:"POLL_TERMINATE",PollArchivedEvent:"POLL_ARCHIVE",PollModeratedEvent:"POLL_MODERATE",Presence:"presence",PresenceSettings:"settings",PrimeGifting:"prime-gifting",PrimeVideoWatchPartyEventsViewCount:"pv-watch-party-events-view-count",PrimeVideoWatchPartyStateUpdate:"pv-watch-party-events-state-change",PurchaseFulfillmentEvents:"purchase_fulfillment_events",PurgeMessageRequest:"purge_messages_request",RaidCancel:"raid_cancel",RaidUpdate:"raid_update",RaidCancelV2:"raid_cancel_v2",RaidUpdateV2:"raid_update_v2",RaidGoV2:"raid_go_v2",RadioTrackStatusPlaying:"RADIO_PLAYING",RadioTrackStatusStopped:"RADIO_STOPPED",RadioStationTrackDelete:"RADIO_STATION_TRACK_DELETE",RadioPlaylistTrackDelete:"RADIO_PLAYLIST_TRACK_DELETE",RadioTrackDelete:"RADIO_TRACK_DELETE",RadioPlaylistDelete:"RADIO_PLAYLIST_DELETE",RadioStationDelete:"RADIO_STATION_DELETE",RadioPlaylistEligibilityUpdate:"RADIO_PLAYLIST_ELIGIBILITY_UPDATE",RadioTrackEligibilityUpdate:"RADIO_TRACK_ELIGIBILITY_UPDATE",RadioTrackMetadataUpdate:"RADIO_TRACK_METADATA_UPDATE",RadioPlaylistMetadataUpdate:"RADIO_PLAYLIST_METADATA_UPDATE",RadioStationMetadataUpdate:"RADIO_STATION_METADATA_UPDATE",ReceivedSquadInvites:"received-squad-invites",Squad:"squad",StreamChatRoomChatRichEmbed:"chat_rich_embed",StreamChatRoomHostTargetChange:"host_target_change",StreamChatRoomHostTargetChangeV2:"host_target_change_v2",StreamChatRoomExtensionMessage:"extension_message",StreamChatRoomUpdate:"updated_room",StreamDown:"stream_down",StreamUp:"stream_up",StreamChangeMetadata:"metadata_change",SubscribersCSVComplete:"subscribers_csv_complete_v1",SubscribersCSVInProgress:"subscribers_csv_in_progress_v1",UnbanRequestApproved:"approve_unban_request",UnbanRequestCreated:"create_unban_request",UnbanRequestDenied:"deny_unban_request",UnbanRequestUpdated:"update_unban_request",UpdatedChannelChatProperty:"updated_channel_chat_property",UploadService:"upload",UserBitsBalanceUpdate:"balance_update",UserBitsBadgeNotification:"badge_update_notification",UserBitsBadgeUpdate:"badge_update",UserBitsFirstPurchase:"first_bits_purchase",UserCampaignProgressEvent:"progress",UserCampaignMegaCheerRewardEvent:"mega_cheer_reward",UserCampaignRewardEvent:"reward",UserCrateEvent:"crate-event",UserFollowedEvent:"user-followed",UserGiftEvent:"gift-event",UserPreferencesEmoteAnimations:"chat-ui-settings:accessibility:emote-animations-enabled",UserPreferencesReadableChatColors:"chat-ui-settings:accessibility:readable-chat-colors-enabled",UserPropertiesUpdate:"user_properties_update",UserUnfollowedEvent:"user-unfollowed",VideoThumbnailProcessingComplete:"processing_complete",VideoThumbnailProcessingError:"processing_error",ViewCount:"viewcount",Vodcast:"watchparty-vod",WhisperAllThreadsUpdate:"threads",WhisperDeleted:"whisper_deleted",WhisperEdited:"whisper_edited",WhisperReceived:"whisper_received",WhisperSent:"whisper_sent",WhisperThreadUpdate:"thread"},h={Accepted:"accepted",Requested:"requested",Removed:"removed",SelfAccepted:"self_accepted",SelfRemoved:"self_removed",SelfRequested:"self_requested"};!function(e){e.AddBlockedTerm="add_blocked_term",e.AddPermittedTerm="add_permitted_term",e.AutoModEnabled="automod_enabled",e.AutoModRejected="automod_rejected",e.DeniedAutoModMessage="denied_automod_message",e.ApprovedAutoModMessage="approved_automod_message",e.AutoModCheerRejected="automod_cheer_rejected",e.Ban="ban",e.Clear="clear",e.Delete="delete",e.DeleteBlockedTerm="delete_blocked_term",e.DeletePermittedTerm="delete_permitted_term",e.EmoteOnly="emoteonly",e.EmoteOnlyOff="emoteonlyoff",e.FollowersOnly="followers",e.FollowersOnlyOff="followersoff",e.Host="host",e.Mod="mod",e.ModifiedAutoModProperties="modified_automod_properties",e.R9kBeta="r9kbeta",e.R9kBetaOff="r9kbetaoff",e.Raid="raid",e.Slow="slow",e.SlowOff="slowoff",e.SubsBeta="subsbeta",e.SubscribersOnly="subscribers",e.SubscribersOnlyOff="subscribersoff",e.Timeout="timeout",e.Unban="unban",e.UnbanRequestDenied="DENY_UNBAN_REQUEST",e.UnbanRequestApproved="APPROVE_UNBAN_REQUEST",e.Unhost="unhost",e.Unmod="unmod",e.Unraid="unraid",e.Untimeout="untimeout"}(i||(i={})),function(e){e.AutoModMessageRejected="automod_message_rejected",e.AutoModMessageApproved="automod_message_approved",e.AutoModMessageDenied="automod_message_denied",e.AutoModCheerDenied="automod_cheer_message_denied",e.AutoModCheerTimeout="automod_cheer_message_timeout",e.DeleteNotification="delete_notification"}(a||(a={})),function(e){e.Pending="PENDING",e.Allowed="ALLOWED",e.Denied="DENIED",e.Expired="EXPIRED",e.Invalid="INVALID"}(r||(r={})),function(e){e.Archive="archive",e.Highlight="highlight",e.Upload="upload",e.Premiere="premiere",e.Rerun="rerun",e.WatchPartyPremiere="watch_party_premiere",e.WatchPartyRerun="watch_party_rerun"}(o||(o={})),function(e){e.Private="private",e.Public="public"}(s||(s={})),function(e){e.InNetwork="IN_NETWORK",e.OutOfNetwork="OUT_OF_NETWORK"}(l||(l={})),function(e){e.RecipientCannotAccessSquadStream="RECIPIENT_CANNOT_ACCESS_SQUAD_STREAM",e.RecipientCannotBeInvited="RECIPIENT_CANNOT_BE_INVITED",e.RecipientRejected="RECIPIENT_REJECTED"}(c||(c={})),function(e){e.Accepted="ACCEPTED",e.Deleted="DELETED",e.Pending="PENDING",e.Rejected="REJECTED",e.Unknown="UNKNOWN"}(d||(d={})),function(e){e.Pending="PENDING",e.Live="LIVE",e.Ended="ENDED"}(u||(u={})),function(e){e.Success="fulfilled",e.Failure="failed"}(p||(p={})),function(e){e.Subs="subs"}(m||(m={})),function(e){e.ACTIVE="ACTIVE",e.TERMINATED="TERMINATED",e.COMPLETED="COMPLETED",e.ARCHIVED="ARCHIVED",e.MODERATED="MODERATED"}(f||(f={}))},WSjS:function(e,t,n){"use strict";n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return R}));var i,a,r,o=n("mrSG"),s=n("q1tI"),l=n("/7QA"),c=n("yR8l"),d=n("8Ad5"),u=n("geRD"),p=n("2xye"),m=function(e,t,n,i,a){var r=Date.now()/1e3;l.p.tracking.track(p.SpadeEventType.ClipEdit,{channel_id:e,clip_edit_session_id:t+","+Math.floor(r),clip_id:t,clip_slug:n,effect_name:"title",effect_setting:i,front_end:!0,location:a})},f=function(e,t,n,i,a){var r=Date.now()/1e3;l.p.tracking.track(p.SpadeEventType.ClipEdit,{channel_id:e,clip_edit_session_id:t+","+Math.floor(r),clip_id:t,clip_slug:n,effect_name:"publish-twilight",effect_setting:i,front_end:!0,location:a})},v=n("Ty5D");!function(e){e.AlreadyPublished="already_published",e.EditingWindowExpired="editing_window_expired",e.InvalidSpeedDuration="invalid_speed_duration",e.InvalidDuration="invalid_duration",e.InvalidTitle="invalid_title",e.Unknown="unknown"}(i||(i={})),function(e){e.InvalidTitle="invalid_title"}(a||(a={})),function(e){e.Unsent="unsent",e.Sending="sending",e.Error="error",e.Successful="successful"}(r||(r={}));var g=5,h=60,b=n("OCDW"),y=n("5e0Q"),k=n("5EAu");function S(e){return{publishState:r.Unsent,errorMessage:null,prevPropsTitle:e.title}}var E,C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=S(t.props),t.onError=function(e){t.setState({publishState:r.Error,errorMessage:e}),t.props.onError(e)},t.onPublish=function(){return Object(o.__awaiter)(t,void 0,void 0,(function(){var e,t,n;return Object(o.__generator)(this,(function(a){switch(a.label){case 0:if(this.setState({publishState:r.Sending}),e=this.props.endOffset-this.props.startOffset,this.props.startOffset>this.props.endOffset||e<g||e>h)return this.onError(i.InvalidDuration),[2];if(""===this.props.title.trim())return this.onError(E.emptySubmission),[2];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.props.publishClip(Object(u.a)({segments:[{offsetSeconds:this.props.startOffset,durationSeconds:this.props.endOffset-this.props.startOffset,speed:1}],slug:this.props.slug,title:this.props.title}))];case 2:return(t=a.sent()).data.publishClip&&t.data.publishClip.error&&t.data.publishClip.error.message?(n=t.data.publishClip.error.message,this.onError(n)):(f(Number(this.props.clipBroadcasterId),this.props.clipId,this.props.slug,this.props.title,"clips_edit"),this.setState({publishState:r.Successful}),this.props.history.push("/create",{isPostEdit:!0,slug:this.props.slug})),[3,4];case 3:return a.sent(),n=i.Unknown,this.onError(n),[3,4];case 4:return[2]}}))}))},t}return Object(o.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){return t.publishState===r.Error&&e.title.length>0&&e.title!==t.prevPropsTitle?S(e):e.title!==t.prevPropsTitle?{prevPropsTitle:e.title}:null},t.prototype.componentDidUpdate=function(e){this.props.isSubmitted&&!e.isSubmitted&&this.onPublish()},t.prototype.render=function(){var e=this.state.publishState===r.Error,t=this.state.publishState===r.Sending;return s.createElement(b.a,null,s.createElement(y.a,{onClick:this.onPublish,disabled:e,state:t?y.c.Loading:y.c.Default,size:y.b.Large},Object(l.d)("Publish","ClipsPublishButton")))},t=Object(o.__decorate)([Object(c.a)(k,{name:"publishClip"})],t)}(s.Component),O=Object(v.l)(C),_=n("xlBl"),w=n("Yegi"),P=n("uq9l"),N=n("afq6"),T=n("TwdJ"),D=n("p8fB"),I=n("mDIl"),A=n("4Nlk"),j=n("gdM2"),x=n("/2kD"),L={TITLE_INPUT:"cmgr-title-input",TITLE_SAVE:"cmgr-title-save",TITLE_SAVE_TOOLTIP:"cmgr-title-save-tooltip"};!function(e){e.emptySubmission="emptySubmission",e.characterLimitReached="characterLimitReached",e.channelViolation="channelViolation",e.notCurator="notCurator",e.unknown="unknown"}(E||(E={}));var F=100,M=function(e){function t(t){var n=e.call(this,t)||this;return n.renderForClipsViewing=function(){return s.createElement("div",null,s.createElement(_.a,{id:L.TITLE_INPUT,"data-test-selector":L.TITLE_INPUT,value:n.state.title,onChange:n.handleTitleEdit,onKeyDown:n.handleKeyDown}),s.createElement(b.a,{display:w.h.Flex,justifyContent:w.m.Between,alignItems:w.b.Center,padding:{top:1}},n.state.showError?s.createElement(P.a,{color:w.f.Error},n.getErrorMessage()):s.createElement(P.a,{color:w.f.Alt2},n.getRemainingCharacterText()),s.createElement(b.a,{display:w.h.Flex},s.createElement(y.a,{"data-test-selector":L.TITLE_SAVE,onClick:n.props.onCancel,type:y.d.Secondary},Object(l.d)("Cancel","ClipsTitleEdit")),s.createElement(b.a,{padding:{left:1}},n.renderSave()))))},n.renderForManager=function(){return s.createElement(N.a,{id:L.TITLE_INPUT,label:Object(l.d)("Title","ClipsTitleEdit"),hint:n.getRemainingCharacterText()},s.createElement(b.a,{display:w.h.Flex,flexWrap:w.j.NoWrap},s.createElement(b.a,{flexGrow:1,margin:{right:1}},s.createElement(T.a,{id:L.TITLE_INPUT,"data-test-selector":L.TITLE_INPUT,type:T.c.Text,value:n.state.title,onChange:n.handleTitleEdit,onKeyDown:n.handleKeyDown})),s.createElement(b.a,{flexShrink:0,flexGrow:0},s.createElement(b.a,{position:w.o.Relative},n.renderSave(),s.createElement(D.a,{onClick:n.dismissMessage,"data-test-selector":L.TITLE_SAVE_TOOLTIP},s.createElement(I.a,{direction:A.b.TopRight,show:n.state.showError||n.state.showSuccess},s.createElement(b.a,{padding:1},n.state.showSuccess?s.createElement(P.a,{color:w.f.Link},Object(l.d)("Title Saved!","ClipsTitleEdit")):s.createElement(P.a,{color:w.f.Error},n.getErrorMessage()))))))))},n.renderForEdit=function(){return!n.props.startOffset&&0!==n.props.startOffset||!n.props.endOffset?null:(e=n.state.showError?s.createElement(P.a,{color:w.f.Error},n.getErrorMessage()):0===n.state.title.length&&n.props.broadcasterName?s.createElement(P.a,{color:w.f.Alt2},Object(l.d)("Clips with titles get more views. Help {broadcasterName} get discovered by adding a title.",{broadcasterName:n.props.broadcasterName},"ClipsTitleEdit")):s.createElement(P.a,{color:w.f.Alt2},n.getRemainingCharacterText()),s.createElement(b.a,null,s.createElement(b.a,{fullWidth:!0},s.createElement(T.a,{id:L.TITLE_INPUT,"data-test-selector":L.TITLE_INPUT,type:T.c.Text,value:n.state.title,onChange:n.handleTitleEdit,onKeyDown:n.handleKeyDown,placeholder:Object(l.d)("Add a title (required)","ClipsTitleEdit"),size:j.c.Large,autoFocus:!0})),s.createElement(b.a,{display:w.h.Flex,justifyContent:w.m.Between,alignItems:w.b.Center,padding:{top:1}},e,s.createElement(b.a,{display:w.h.Flex},s.createElement(b.a,{padding:{left:1}},s.createElement(O,{clipId:n.props.clipId,clipBroadcasterId:n.props.clipBroadcasterId,isSubmitted:n.state.showSuccess,title:n.state.title,slug:n.props.clipSlug,startOffset:n.props.startOffset,endOffset:n.props.endOffset,onError:n.onPublishClipError}))))));var e},n.renderSave=function(){return s.createElement(y.a,{"data-test-selector":L.TITLE_SAVE,disabled:!n.canSaveEditedTitle(),onClick:n.editClipTitle},Object(l.d)("Save","ClipsTitleEdit"))},n.onPublishClipError=function(e){n.setState({showSuccess:!1,showError:!0,error:n.errorMessageToError(e)})},n.getRemainingCharacterText=function(){return Object(l.d)("{characterCount, number} remaining",{characterCount:F-n.state.title.length},"ClipsTitleEdit")},n.onSuccess=function(){n.props.onSuccess&&n.props.onSuccess(),n.setState({showSuccess:!0,showError:!1,error:null}),setTimeout((function(){n.setState({showSuccess:!1})}),1500)},n.dismissMessage=function(){n.setState({showError:!1,showSuccess:!1})},n.handleTitleEdit=function(e){var t=e.currentTarget.value.slice(0,F);n.setState({title:t,showError:!1,showSuccess:!1})},n.editClipTitle=function(){return Object(o.__awaiter)(n,void 0,void 0,(function(){var e,t;return Object(o.__generator)(this,(function(n){switch(n.label){case 0:if(""===this.state.title.trim())return this.setState({showError:!0,error:E.emptySubmission}),[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.props.editTitle(Object(u.a)({title:this.state.title.trim(),slug:this.props.clipSlug}))];case 2:return(e=n.sent()).data.updateClip&&e.data.updateClip.error?(this.setState({showError:!0,error:this.errorMessageToError(e.data.updateClip.error.message)}),[2]):(this.props.clipBroadcasterId&&this.props.clipId&&this.props.clipTitle&&m(Number(this.props.clipBroadcasterId),this.props.clipId,this.props.clipSlug,this.props.clipTitle,this.props.location),this.onSuccess(),[3,4]);case 3:return t=n.sent(),this.setState({showError:!0,error:this.errorMessageToError(t.message)}),[3,4];case 4:return[2]}}))}))},n.canSaveEditedTitle=function(){return n.props.clipTitle!==n.state.title.trim()},n.handleKeyDown=function(e){switch(e.keyCode){case d.a.Enter:return void("clips_edit"===n.props.location?n.setState({showSuccess:!0}):n.canSaveEditedTitle()&&n.editClipTitle());default:return}},n.state={title:t.clipTitle?t.clipTitle.trim():"",showError:!1,showSuccess:!1,error:null},n}return Object(o.__extends)(t,e),t.prototype.render=function(){return"my_clips"===this.props.location?this.renderForManager():"clips_edit"===this.props.location?this.renderForEdit():this.renderForClipsViewing()},t.prototype.getErrorMessage=function(){switch(this.state.error){case E.channelViolation:return Object(l.d)("Uh-oh. Check for inappropriate language and try again!","ClipsTitleEdit");case E.emptySubmission:return Object(l.d)("Please add a title.","ClipsTitleEdit");default:return Object(l.d)("Whoops. Something went wrong.","ClipsTitleEdit")}},t.prototype.errorMessageToError=function(e){return null===e?E.unknown:e.includes("403:")||e.toLowerCase()===i.InvalidTitle.toLowerCase()||e.toLowerCase()===a.InvalidTitle.toLowerCase()?E.channelViolation:e===E.emptySubmission?E.emptySubmission:E.unknown},t}(s.Component),R=Object(c.a)(x,{name:"editTitle"})(M)},WUnc:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.Empty="Empty",e.Icon="Icon",e.Avatar="Avatar",e.Placeholder="Placeholder"}(i||(i={}))},Wjf2:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"h",(function(){return d})),n.d(t,"j",(function(){return u})),n.d(t,"i",(function(){return p})),n.d(t,"m",(function(){return m})),n.d(t,"l",(function(){return f})),n.d(t,"f",(function(){return v})),n.d(t,"e",(function(){return g})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return y})),n.d(t,"g",(function(){return k})),n.d(t,"k",(function(){return E}));var i=n("mrSG"),a=n("cr+I"),r=n("yWUM"),o=n("Q3S8"),s="https://www.twitch.tv",l="https://clips.twitch.tv",c="https://player.twitch.tv";function d(e,t){var n={};if((Object(o.t)(e)||Object(o.p)(e))&&(n.video=e.vodID),Object(o.p)(e)&&(n.collection=e.collectionID),Object(o.s)(e)&&(n.channel=e.channelLogin),!((n=Object(i.__assign)(Object(i.__assign)({},n),t)).channel||n.video||n.collection))return s;var r=a.stringify(n);return c+"/"+(r&&"?"+r)}var u=function(e,t){void 0===t&&(t={});var n=t.linkTrackingContext,a=t.trackingContext;return{pathname:"/"+e.channelLogin,state:(n||a)&&Object(i.__assign)(Object(i.__assign)({},n),a)}},p=function(e,t){void 0===t&&(t={});var n=u(e,t),i=S(n);return""+s+n.pathname+(i&&"?"+i)},m=function(e,t){void 0===t&&(t={});var n=t.linkTrackingContext,a=t.trackingContext;return{pathname:"/videos/"+e.vodID,search:e.videoOffset?"?t="+Object(r.a)(e.videoOffset):void 0,state:(n||a)&&Object(i.__assign)(Object(i.__assign)({},n),a)}},f=function(e,t){void 0===t&&(t={});var n=m(e,t),i=S(n);return""+s+n.pathname+(i&&"?"+i)},v=function(e,t){void 0===t&&(t={});var n=t.linkTrackingContext,o=t.trackingContext,s=e.videoOffset?Object(r.a)(e.videoOffset):void 0;return e.vodID?{pathname:"/videos/"+e.vodID,search:a.stringify({t:s,collection:e.collectionID}),state:(n||o)&&Object(i.__assign)(Object(i.__assign)({},n),o)}:{pathname:"/collections/"+e.collectionID,search:a.stringify({t:s}),state:(n||o)&&Object(i.__assign)(Object(i.__assign)({},n),o)}},g=function(e,t){void 0===t&&(t={});var n=v(e,t),i=S(n);return""+s+n.pathname+(i&&"?"+i)},h=function(e,t){void 0===t&&(t={});var n=t.linkTrackingContext,a=t.trackingContext;return e.channelLogin?{pathname:"/"+e.channelLogin+"/clip/"+e.clipSlug,search:e.videoOffset?"?t="+Object(r.a)(e.videoOffset):void 0,state:(n||a)&&Object(i.__assign)(Object(i.__assign)({},n),a)}:y(e,t)},b=function(e,t){var n,i,o,l,c,d;void 0===t&&(t={});var u={tt_content:null!==(i=null===(n=null==t?void 0:t.linkTrackingContext)||void 0===n?void 0:n.content)&&void 0!==i?i:null===(o=null==t?void 0:t.trackingContext)||void 0===o?void 0:o.content,tt_medium:null!==(c=null===(l=null==t?void 0:t.linkTrackingContext)||void 0===l?void 0:l.medium)&&void 0!==c?c:null===(d=null==t?void 0:t.trackingContext)||void 0===d?void 0:d.medium,t:e.videoOffset?Object(r.a)(e.videoOffset):void 0};return e.channelLogin?function(e,t,n){void 0===n&&(n={});var i=a.stringify(n);return s+"/"+e+"/clip/"+t+(i&&"?"+i)}(e.channelLogin,e.clipSlug,u):k(e.clipSlug,u)},y=function(e,t){var n,i,a,o,s,l;return void 0===t&&(t={}),k(e.clipSlug,{tt_content:null!==(i=null===(n=null==t?void 0:t.linkTrackingContext)||void 0===n?void 0:n.content)&&void 0!==i?i:null===(a=null==t?void 0:t.trackingContext)||void 0===a?void 0:a.content,tt_medium:null!==(s=null===(o=null==t?void 0:t.linkTrackingContext)||void 0===o?void 0:o.medium)&&void 0!==s?s:null===(l=null==t?void 0:t.trackingContext)||void 0===l?void 0:l.medium,t:e.videoOffset?Object(r.a)(e.videoOffset):void 0})};function k(e,t){void 0===t&&(t={});var n=a.stringify(t);return l+"/"+e+(n&&"?"+n)}function S(e){var t=a.parse(e.search||""),n=e.state||{},r=n.content,o=void 0===r?void 0:r,s=n.medium,l=void 0===s?void 0:s,c=Object(i.__rest)(n,["content","medium"]);return a.stringify(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},c),t),{tt_content:o,tt_medium:l}))}function E(e,t){t.push(e)}},WnZM:function(e,t,n){},X7Ac:function(e,t,n){"use strict";var i=n("wbMx");n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.b})),n.d(t,"c",(function(){return i.c}))},XBho:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("pVnL"),a=n.n(i),r=n("q1tI"),o=n("SWse"),s=function(e){return r.createElement("tbody",a()({},e,{className:Object(o.a)("tw-table-body",e.className)}))};s.displayName="TableBody",s.displayName="TableBody"},XbLr:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n("mrSG"),a=n("q1tI"),r=n("ANjH"),o=n("/7QA"),s=n("yR8l"),l=n("OCDW"),c=n("Yegi"),d=n("uq9l"),u=n("E1Lb"),p=n("Ix37"),m=n("5e0Q"),f=n("AjB5"),v=n("6ZyN"),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){if(this.props.data.loading)return null;if(!this.props.data.currentUser||null===this.props.data.currentUser.bitsBalance||!this.props.data.extension||!this.props.data.extension.challengeCondition)return this.props.cancelCondition(),null;var e,t=this.props.confirmBitsAmount>this.props.data.currentUser.bitsBalance;t&&(e=a.createElement(l.a,{display:c.h.Flex,alignItems:c.b.Start,margin:{bottom:0}},a.createElement(d.a,{color:c.f.Error},Object(o.d)("Please purchase more Bits to participate.","ConditionConfirmationInsufficientBitsBalance"))));var n=a.createElement(l.a,null,a.createElement(l.a,null,a.createElement(d.a,{fontSize:c.k.Size5},Object(o.d)("You are committing Bits to {conditionName}. These Bits will be deducted immediately.",{conditionName:this.props.data.extension.challengeCondition.name},"ConditionConfirmationDialogCommitBits"))),a.createElement(l.a,{margin:{top:1,bottom:1},display:c.h.Flex,alignItems:c.b.Center},a.createElement(u.a,{asset:p.a.Bits}),a.createElement(d.a,{type:d.e.Span,fontSize:c.k.Size4,bold:!0},this.props.confirmBitsAmount)),a.createElement(l.a,{display:c.h.Flex,alignItems:c.b.Center,margin:{bottom:0}},a.createElement(d.a,{type:d.e.Span,fontSize:c.k.Size5},Object(o.d)("Your current Bits balance is:","ConditionConfirmationDialogBitsBalance")),a.createElement(u.a,{asset:p.a.Bits}),a.createElement(d.a,{type:d.e.Span,fontSize:c.k.Size4,bold:!0},this.props.data.currentUser.bitsBalance||0)),e,a.createElement(l.a,{display:c.h.Flex,justifyContent:c.m.Center,margin:{top:2}},a.createElement(l.a,{display:c.h.Flex,flexGrow:3,margin:{right:.5}},a.createElement(m.a,{type:m.d.Secondary,fullWidth:!0,onClick:this.props.cancelCondition},Object(o.d)("Cancel","ConditionConfirmationDialogCancel"))),a.createElement(l.a,{display:c.h.Flex,flexGrow:4,margin:{left:.5}},a.createElement(m.a,{type:m.d.Primary,fullWidth:!0,"data-test-selector":"confirmation_message_selector",onClick:this.props.confirmCondition,disabled:t},Object(o.d)("Confirm","ConditionConfirmationDialogConfirm")))),a.createElement(f.a,{borderTop:!0,margin:{top:2,bottom:2}}),a.createElement(l.a,{margin:{bottom:2}},a.createElement(d.a,{type:d.e.P,fontSize:c.k.Size5},Object(o.d)('By clicking "Confirm", you agree to share your Twitch ID with {extensionName}. You can manage account connections under Settings.',{extensionName:this.props.extensionName},"ConditionConfirmationDialogAgreement"))),a.createElement(l.a,null,a.createElement(d.a,{type:d.e.P,fontSize:c.k.Size5},Object(o.d)("If the {conditionName} is not completed, then the Bits will be returned to your account.",{conditionName:this.props.data.extension.challengeCondition.name},"ConditionConfirmationDialogBitsRefund"))));return a.createElement(l.a,{padding:2},n)},t}(a.Component),h=Object(r.d)(Object(s.a)(v,{options:function(e){return{variables:{conditionID:e.conditionId,conditionOwnerID:e.conditionOwnerId,extensionID:e.extensionId,extensionVersion:e.extensionVersion}}}}))(g)},XlET:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("pVnL"),a=n.n(i),r=n("8OQS"),o=n.n(r),s=n("q1tI"),l=n("SWse"),c=n("IyK4"),d=function(e){var t=e.className,n=e.textAlign,i=e.padding,r=e.verticalAlign,d=o()(e,["className","textAlign","padding","verticalAlign"]);return s.createElement(c.a,{padding:i,textAlign:n,verticalAlign:r},s.createElement("td",a()({},d,{className:Object(l.a)({"tw-table-cell":!0},t)})))};d.displayName="TableCell",d.defaultProps={padding:1},d.displayName="TableCell"},XlLD:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("VbXa"),a=n.n(i),r=n("q1tI"),o=n("Yegi"),s=n("OCDW"),l=n("hMTT"),c=function(){var e=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),t.prototype.render=function(){var e={};return this.props.overlay?e.color=o.f.Overlay:e.color=o.f.Base,r.createElement(l.a.Provider,{value:!!this.props.overlay},r.createElement(s.a,e,this.props.children))},t}(r.Component);return e.displayName="OverlayRegion",e.defaultProps={overlay:!0},e}()},XmgI:function(e,t,n){"use strict";n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return f}));var i=n("wUQP"),a=n("DMoW"),r=n("5zXJ"),o=n("RcPG"),s=n("4h+t");n.d(t,"a",(function(){return s.a}));var l=/^((?:[A-Za-z0-9]+)(?:[A-Za-z]))([\d]+)$/;function c(e,t,n){void 0===n&&(n=!0);var i=[],a=e.split(/\s+/);return a.forEach((function(e,r){var s=d(e,t,n);if(s)i.push(s);else{var l=i.length&&i[i.length-1],c="";if(r<a.length-1&&(c=" "),l&&l.type===o.a.Text)l.content+=e+c;else{var u="";r&&(u=" "),i.push({type:o.a.Text,content:u+e+c})}}})),i}function d(e,t,n){void 0===n&&(n=!0);var i=e.match(l);if(!i)return null;var r=i[1].toLowerCase(),s=Number(i[2]),c=t.indexedActions[r];if(c&&(c.type!==a.W.DISPLAY_ONLY||n)){var d=c.orderedTiers.find((function(e){return e.bits<=s}));!d&&s&&(d=c.orderedTiers[0]);var u=t.tiers.find((function(e){return e.bits===(null==d?void 0:d.bits)}));if(d)return{type:o.a.Emote,content:{images:m(c,d.bits),alt:c.prefix,cheerAmount:s,cheerColor:null==u?void 0:u.color}}}return null}function u(e,t){var n,i,a=(n=t,i=new Map,n.orderedActions.forEach((function(e){e.campaign&&i.set(e.prefix,e.campaign)})),i),o=new Map;e.forEach((function(e,t){if(e.alt&&a.has(e.alt))if(o.has(e.alt)){(n=o.get(e.alt))&&(n.total+=e.cheerAmount||0,n.lastAppearance=t)}else{var n={total:e.cheerAmount||0,lastAppearance:t,campaign:a.get(e.alt)};o.set(e.alt,n)}}));var s=1;return o.forEach((function(n){var i=0;n.campaign.thresholds.forEach((function(e){n.total>=e.minimumBits&&(i=e.matchedPercent)}));var a=Math.trunc(n.total*i);if(a>0){var o=d(r.r+a,t,!0);o&&e.splice(n.lastAppearance+s++,0,o.content)}})),e}function p(e,t){return c(e,t,!0).reduce((function(e,t){return t.type===o.a.Emote&&e.push(t.content),e}),[]).some((function(e){var n=t.orderedActions.find((function(t){return!!e.alt&&e.alt===t.prefix}));return!!n&&n.type===a.W.DISPLAY_ONLY}))}function m(e,t,n,i){var a,r;void 0===i&&(i=!0);var o=i?"animated":"static";return n?{themed:!0,dark:(a={},a[n+"x"]=e.getImage("dark",o,t,n),a),light:(r={},r[n+"x"]=e.getImage("light",o,t,n),r)}:{themed:!0,dark:{"1x":e.getImage("dark",o,t,1),"1.5x":e.getImage("dark",o,t,1.5),"2x":e.getImage("dark",o,t,2),"3x":e.getImage("dark",o,t,3),"4x":e.getImage("dark",o,t,4)},light:{"1x":e.getImage("light",o,t,1),"1.5x":e.getImage("light",o,t,1.5),"2x":e.getImage("light",o,t,2),"3x":e.getImage("light",o,t,3),"4x":e.getImage("light",o,t,4)}}}function f(e){return!!Object(i.c)(r.a)&&e.toLowerCase()===r.b.toLowerCase()}},XrGX:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("mrSG"),a=n("q1tI"),r=n("HKDh"),o=n("GLwt"),s=n("IyK4"),l=n("Yegi"),c=n("o5gP"),d=n("2JXh"),u=(n("2Gp+"),function(e){var t=e.width,n=e.maxWidth,r=void 0===n?"300px":n,o=Object(i.__rest)(e,["width","maxWidth"]);return a.createElement(d.a,{display:l.h.InlineBlock,className:"tw-inline-tooltip",fontSize:l.k.Size6,borderRadius:l.e.Medium,fontWeight:l.l.SemiBold,padding:.5},a.createElement("div",Object(i.__assign)({},o,{style:{width:t,maxWidth:r}})))}),p=function(e){var t,n=e.label,d=e.children,p=e.disabled,m=e.show,f=e.options,v=e.display,g=e.popperRef,h=e.onEnterComplete,b=e.onExitComplete,y=e.transitionType,k=e.transitionDuration,S=e.enterDelay,E=e.id,C=void 0===E?Object(c.b)():E,O=Object(i.__rest)(e,["label","children","disabled","show","options","display","popperRef","onEnterComplete","onExitComplete","transitionType","transitionDuration","enterDelay","id"]),_=Object(o.a)({enterDelay:S}),w=_.anchorProps,P=_.tooltipProps;return t=!!m||!p&&P.show,a.createElement(a.Fragment,null,a.createElement(s.a,{display:v||l.h.InlineFlex},a.createElement("div",Object(i.__assign)({},w),a.isValidElement(d)&&void 0===d.props["aria-describedby"]&&d.props["aria-label"]!==n?a.cloneElement(d,{"aria-describedby":C}):d)),a.createElement(r.a,Object(i.__assign)({},P,{show:t,options:f,popperRef:g,onEnterComplete:h,onExitComplete:b,transitionType:y,transitionDuration:k}),a.createElement(u,Object(i.__assign)({},O,{id:C}),n)))}},YFJr:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"incrementClipViewCount"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateClipViewCountInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateClipViewCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:121}};n.loc.source={body:"mutation incrementClipViewCount($input: UpdateClipViewCountInput!) {\nupdateClipViewCount(input: $input) {\nclip {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.incrementClipViewCount=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"incrementClipViewCount")},YFng:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"StreamTagsTrackingVOD"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"streamTagsTrackingContentTags"},directives:[]}]}}]}}],loc:{start:0,end:209}};i.loc.source={body:'#import "twilight/features/video-player/components/stream-tags-tracking/query-fragment-contentTags.gql"\nquery StreamTagsTrackingVOD($videoID: ID) {\nvideo(id: $videoID) {\nid\n...streamTagsTrackingContentTags\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("j0z/").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.StreamTagsTrackingVOD=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"StreamTagsTrackingVOD")},YQhk:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return g}));var i,a,r=n("pVnL"),o=n.n(r),s=n("q1tI"),l=n("SWse"),c=n("P+FS"),d=n("HQtB"),u=n("Yegi"),p=n("IyK4"),m=n("hMTT");!function(e){e.Auto="tw-balloon--auto",e.ExtraSmall="tw-balloon--xs",e.Small="tw-balloon--sm",e.Medium="tw-balloon--md",e.Large="tw-balloon--lg",e.ExtraLarge="tw-balloon--xl"}(a||(a={}));var f=((i={})[a.Auto]=2,i[a.ExtraSmall]=2,i[a.Small]=2,i[a.Medium]=3,i[a.Large]=4,i[a.ExtraLarge]=5,i),v=function(e){var t={"tw-balloon":!0};e.size&&(t[e.size]=!0),e.overlay&&(t["tw-balloon--overlay-border"]=!0);var n,i=e.overlay?u.d.Overlay:e.background,a=e.overlay?u.f.Overlay:u.f.Inherit;return n=void 0!==e.elevation?e.elevation:void 0===e.size?2:f[e.size],s.createElement(p.a,{display:u.h.InlineBlock,borderRadius:u.e.Large,background:i,elevation:n,color:a,role:"dialog"},s.createElement("div",o()({className:Object(l.a)(t)},Object(d.a)(e),Object(c.a)(e)),e.children))};v.displayName="BalloonWrapperComponent",v.defaultProps={background:u.d.Base},v.displayName="BalloonWrapperComponent";var g=Object(m.b)(v)},YVq6:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"VideoPlayer_FollowButtonFollowUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"FollowUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follow"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disableNotifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follower"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"disableNotifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"followedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"notificationSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:248}};n.loc.source={body:"mutation VideoPlayer_FollowButtonFollowUser($input: FollowUserInput!) {\nfollowUser(input: $input) {\nfollow {\ndisableNotifications\nuser {\nid\nself {\nfollower {\nnode {\nid\n}\ndisableNotifications\nfollowedAt\nnotificationSettings {\nisEnabled\n}\n}\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoPlayer_FollowButtonFollowUser=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoPlayer_FollowButtonFollowUser")},YzXo:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("mrSG"),a=n("q1tI"),r=n("qleb");function o(){return function(e){return function(t){var n={fullscreen:Object(r.a)()};return a.createElement(e,Object(i.__assign)({},n,t))}}}},ZBeb:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"FollowButton_FollowUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"FollowUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follow"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disableNotifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"followButtonFragment"},directives:[]}]}}]}}]}}]}}],loc:{start:0,end:218}};i.loc.source={body:'#import "twilight/common/queries/follow-button-fragment.gql"\nmutation FollowButton_FollowUser($input: FollowUserInput!) {\nfollowUser(input: $input) {\nfollow {\ndisableNotifications\nuser {\n...followButtonFragment\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("V94A").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.FollowButton_FollowUser=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"FollowButton_FollowUser")},ZWct:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var i=n("mrSG"),a=n("/7QA"),r=n("nyM4"),o=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){return[2,l({live:!0,login:e,playerType:t})]}))}))},s=function(e,t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(n){return[2,l({live:!1,vodID:e,playerType:t})]}))}))};function l(e){var t,n;return Object(i.__awaiter)(this,void 0,Promise,(function(){var o,s,l,c;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,a.p.apollo.client.query({query:r,fetchPolicy:"no-cache",variables:{isLive:e.live,login:e.live&&e.login||"",isVod:!e.live,vodID:!e.live&&e.vodID||"",playerType:e.playerType}})];case 1:return o=i.sent(),s=null===(t=null==o?void 0:o.data)||void 0===t?void 0:t.streamPlaybackAccessToken,l=null===(n=null==o?void 0:o.data)||void 0===n?void 0:n.videoPlaybackAccessToken,e.live&&s?[2,{token:s.value,sig:s.signature,mobile_restricted:!1}]:!e.live&&l?[2,{token:l.value,sig:l.signature,mobile_restricted:!1}]:[3,3];case 2:return c=i.sent(),a.p.logger.warn("Received an error while fetching PlaybackAccessToken from GQL",c),[3,3];case 3:return[2]}}))}))}},ZaRQ:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"streamTagsTrackingTag"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Tag"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}],loc:{start:0,end:44}};n.loc.source={body:"fragment streamTagsTrackingTag on Tag {\nid\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},Ziwv:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var i=n("w09P"),a=n("0Log"),r=n("geRD"),o=n("/aPz"),s=n("H31v");function l(e,t,n){return{topic:n?Object(o.ab)(n):"",type:a.PubsubMessageType.UserBitsBalanceUpdate,mutator:function(e,t){return t&&e.message_type===s.b.Balance?(t.currentUser&&e.data&&(t=i(t,(function(e){return e.currentUser.bitsBalance}),(function(){return e.data.balance}))),t):t},skip:!t||!n,query:e}}function c(e,t,n){Object(r.j)(e,void 0,(function(e){return e?(e.currentUser&&e.currentUser.bitsBalance&&(e=i(e,(function(e){return e.currentUser.bitsBalance}),(function(){return n}))),e):e}),(function(){return!t}))}},ZwT2:function(e,t,n){},a0DK:function(e,t,n){"use strict";n.d(t,"o",(function(){return m})),n.d(t,"l",(function(){return f})),n.d(t,"b",(function(){return v})),n.d(t,"f",(function(){return g})),n.d(t,"j",(function(){return h})),n.d(t,"p",(function(){return b})),n.d(t,"a",(function(){return y})),n.d(t,"s",(function(){return k})),n.d(t,"m",(function(){return S})),n.d(t,"q",(function(){return E})),n.d(t,"e",(function(){return C})),n.d(t,"k",(function(){return _})),n.d(t,"n",(function(){return w})),n.d(t,"c",(function(){return P})),n.d(t,"h",(function(){return N})),n.d(t,"r",(function(){return T})),n.d(t,"i",(function(){return D})),n.d(t,"d",(function(){return I})),n.d(t,"g",(function(){return A}));var i=n("mrSG"),a=n("/7QA"),r=(n("oB8h"),n("wUQP")),o=n("geRD"),s=n("ll/k"),l=(n("kduP"),n("DMoW")),c=n("j3KY"),d=n("5Y3l"),u=n("6JW5"),p=(n("QV0j"),n("w09P")),m=function(){return Object(r.c)("cf_jim_breaks_the_fourth_wall")},f=function(){return Object(r.c)("cf_wp_disable_automatic_muting")},v=function(){return a.b.get("cf_jim_faxes_from_the_future",0)},g=function(){return a.b.get("cf_wp_retry_count",0)},h=function(e){return b(null==e?void 0:e.state)},b=function(e){return!(!e||e===l.Ff.OFFLINE||e===l.Ff.UNKNOWN)},y=function(e){return e&&e.isValid},k=function(e,t){return t===l.Df.GEO_RESTRICTED||!(null==e||!e.self)&&(!e.self.eligibility.canView&&e.self.eligibility.reason===d.g.GEO_RESTRICTED)},S=function(e,t){return!(t&&!Object(r.c)("cf_wp_m3_creator_badging")||!t&&!Object(r.c)("cf_wp_m3_badging"))&&e===l.Cf.BROAD_AVAILABILITY};function E(e,t){return null===e||e<0?0:t&&e>t?t:e}function C(e){return e+"-sunlight.stream_manager.quick_actions_watch_party"}var O=function(e){return p(e,(function(e){return Object(i.__assign)(Object(i.__assign)({},e),{state:l.Ff.OFFLINE})}))},_=function(e){void 0===e&&(e=window.navigator.userAgent);return/(android[\w\.\s\-]{0,9});.+build/i.test(e)||/version\/([\w\.]+).+?(mobile\s?safari|safari)/i.test(e)},w=function(e){return e===d.k&&m()};function P(e,t){if(e===l.Ff.IN_PROGRESS&&t&&t.durationSeconds>0&&t.positionSeconds>0){var n=t.positionSeconds/t.durationSeconds;return Math.min(n,1)}return 0}var N=function(e){return"/"+e},T=function(e){var t=Object(o.g)(e);t&&Object(o.i)({id:t,fragment:u,fragmentName:"watchPartySession",mutator:O})},D=function(e){var t=window.location.pathname.substring(1);return Object(c.d)(d.j,t,e)},I=function(e){return e?{linkTo:e+"#customer-review-section",targetBlank:!0}:null},A=function(e){return Object(s.a)((null!=e?e:1e4)/2e3*1e3)}},a1OF:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"c",(function(){return v})),n.d(t,"f",(function(){return g})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return b})),n.d(t,"b",(function(){return y}));var i=n("mrSG"),a=n("/7QA"),r=n("/0dD"),o=n("oe5X"),s=n("0FG4"),l=n("kRBY"),c=n("Vtno");var d=["#FF0000","#0000FF","#008000","#B22222","#FF7F50","#9ACD32","#FF4500","#2E8B57","#DAA520","#D2691E","#5F9EA0","#1E90FF","#FF69B4","#8A2BE2","#00FF7F"],u={};function p(e,t,n,a,r,o,s,l,d){var u;void 0===a&&(a=null),void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===s&&(s=!1),void 0===l&&(l=Date.now()),void 0===d&&(d={});var p,m,h,b,y=(p=t.displayName,m=t.username,b=!1,(h=p)?h.split("").map((function(e){return e.charCodeAt(0)>127})).reduce((function(e,t){return e||t}))&&(b=!0):h=m,{userDisplayName:h,isIntl:b});if((null===(u=d.reply)||void 0===u?void 0:u.parentDisplayName)&&Object(c.b)(d.channelID)!==c.a.Control){var k=f(e,d.reply.parentDisplayName,t.emotes);e=k.message,t.emotes=k.emotes}return{badges:t.badges||{},badgeDynamicData:t.badgeDynamicData||{},bits:t.bits,user:Object(i.__assign)(Object(i.__assign)({},y),{userLogin:t.username,userID:t.userID,userType:t.userType,color:t.color||v(t.userID)}),messageParts:g(e,t.emotes||{},t.bits,n,t.username,a||void 0),messageBody:e,deleted:r,banned:s,hidden:o,timestamp:l,reply:d.reply}}function m(e,t){var n=e.length+2,i={};return Object.keys(t).forEach((function(e){i[parseInt(e,10)-n]={startIndex:t[e].startIndex-n,id:t[e].id}})),i}function f(e,t,n){return void 0===n&&(n={}),0===e.indexOf("@"+t+" ")?{message:e.replace("@"+t+" ",""),emotes:m(t,n)}:{message:e,emotes:n}}function v(e,t){return void 0===t&&(t=15),"number"!=typeof u[e]&&(u[e]=Math.floor(Math.random()*t)),d[u[e]]}function g(e,t,n,i,r,c){var d=Object(l.e)(a.p.store.getState()),u={cheers:n?i:void 0,emotes:{type:s.a.Position,map:t},links:{parseClips:!0,parseVods:!0},mentions:{senderLogin:r,sessionUser:d},flags:c};return Object(o.a)(e,u)}function h(e){return e.match(/[^\uD800-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDFFF]/g)}function b(e,t,n,i){return void 0===n&&(n=!0),void 0===i&&(i=r.a.Light),"https://static-cdn.jtvnw.net/emoticons/v2/"+e+"/"+(n?"default":"static")+"/"+(i===r.a.Light?"light":"dark")+"/"+Math.min(Math.ceil(t),3)+".0"}function y(e,t){return void 0===t&&(t=!0),{dark:{"1x":b(e,1,t,r.a.Dark),"2x":b(e,2,t,r.a.Dark),"4x":b(e,4,t,r.a.Dark)},light:{"1x":b(e,1,t,r.a.Light),"2x":b(e,2,t,r.a.Light),"4x":b(e,4,t,r.a.Light)},themed:!0}}},a4lT:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ClipsTitle"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:63}};n.loc.source={body:"query ClipsTitle($slug: ID!) {\nclip(slug: $slug) {\nid\ntitle\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ClipsTitle=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ClipsTitle")},afq6:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return k}));var i,a,r=n("pVnL"),o=n.n(r),s=n("q1tI"),l=n("o5gP"),c=n("SWse"),d=n("P+FS"),u=n("HQtB"),p=n("OCDW"),m=n("Yegi"),f=n("IyK4"),v=n("DbCr"),g=n("3Jez"),h=n("DKG/"),b=n("Ojlg"),y=function(e){var t;e.required&&(t=s.createElement(b.a,null));return s.createElement("legend",o()({},Object(d.a)(e),{className:Object(c.a)({"tw-form-legend":!0})}),t,e.label)};y.displayName="FormLegend",y.displayName="FormLegend",function(e){e[e.Vertical=1]="Vertical",e[e.Horizontal=2]="Horizontal"}(i||(i={})),function(e){e[e.Single=1]="Single",e[e.Multiple=2]="Multiple"}(a||(a={}));var k=function(e){var t,n,r,b,k,S=Object(l.b)(),E={"tw-form-group":!0,"tw-form-group--error":e.error};return e.labelOptional&&(n=s.createElement("span",{className:"tw-form-group__optional"},"(",e.labelOptional,")")),e.hint&&!e.error?r=s.createElement(g.a,{hint:e.hint}):e.errorMessage&&e.error&&(r=s.createElement(v.a,{errorMessage:e.errorMessage})),r&&(r=s.createElement(p.a,{margin:{top:.5}},r)),e.controls===a.Multiple?(t=s.createElement(y,{label:e.label}),k="fieldset"):(t=s.createElement(h.a,{id:e.id?e.id:S,required:e.required,label:e.label}),k="div"),t=s.createElement(p.a,{margin:{bottom:.5}},t,n),b=e.orientation===i.Horizontal?s.createElement(k,null,s.createElement(p.a,{display:m.h.Flex,flexWrap:m.j.NoWrap},s.createElement(p.a,{className:"tw-form-group__label-container",flexShrink:0,padding:{right:2}},t),s.createElement(p.a,{flexGrow:1},e.children,r))):s.createElement(k,null,s.createElement("div",null,t,e.children,r)),s.createElement(f.a,o()({className:Object(c.a)(E)},Object(u.a)(e),Object(d.a)(e),{position:m.o.Relative,flexGrow:1,fontSize:m.k.Size6}),b)};k.displayName="FormGroup",k.displayName="FormGroup"},"b5W/":function(e,t,n){"use strict";function i(e){var t,n,i=null!==(t=null==e?void 0:e.game)&&void 0!==t?t:null,a=null!==(n=null==e?void 0:e.game_id)&&void 0!==n?n:null;return{gameID:a,gameName:i,missingGameInfo:null===i||null===a||""===a,updatingToNullGame:""===i||0==+(null!=a?a:"")}}n.d(t,"a",(function(){return i}))},b6Yk:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("mrSG"),a=n("/7QA"),r=n("kRBY"),o=function(){function e(){}return e.get=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),Object(i.__awaiter)(this,void 0,Promise,(function(){return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.request(e,Object(i.__assign)(Object(i.__assign)({},t),{method:"GET"}),n)];case 1:return[2,a.sent()]}}))}))},e.getOrThrow=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),Object(i.__awaiter)(this,void 0,Promise,(function(){return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.requestOrThrow(e,Object(i.__assign)(Object(i.__assign)({},t),{method:"GET"}),n)];case 1:return[2,a.sent()]}}))}))},e.put=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),Object(i.__awaiter)(this,void 0,Promise,(function(){return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.request(e,Object(i.__assign)(Object(i.__assign)({},t),{method:"PUT"}),n)];case 1:return[2,a.sent()]}}))}))},e.putOrThrow=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),Object(i.__awaiter)(this,void 0,Promise,(function(){return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.requestOrThrow(e,Object(i.__assign)(Object(i.__assign)({},t),{method:"PUT"}),n)];case 1:return[2,a.sent()]}}))}))},e.post=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),Object(i.__awaiter)(this,void 0,Promise,(function(){return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.request(e,Object(i.__assign)(Object(i.__assign)({},t),{method:"POST"}),n)];case 1:return[2,a.sent()]}}))}))},e.postOrThrow=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),Object(i.__awaiter)(this,void 0,Promise,(function(){return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.requestOrThrow(e,Object(i.__assign)(Object(i.__assign)({},t),{method:"POST"}),n)];case 1:return[2,a.sent()]}}))}))},e.delete=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),Object(i.__awaiter)(this,void 0,Promise,(function(){return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.request(e,Object(i.__assign)(Object(i.__assign)({},t),{method:"DELETE"}),n)];case 1:return[2,a.sent()]}}))}))},e.deleteOrThrow=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),Object(i.__awaiter)(this,void 0,Promise,(function(){return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return[4,this.requestOrThrow(e,Object(i.__assign)(Object(i.__assign)({},t),{method:"DELETE"}),n)];case 1:return[2,a.sent()]}}))}))},e.request=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),Object(i.__awaiter)(this,void 0,Promise,(function(){var a,r,o,s;return Object(i.__generator)(this,(function(l){switch(l.label){case 0:return t=this.constructOptions(t,n),a=t.headers?t.headers["Content-Type"]:void 0,r=this.serialize(t.body,a),o=Object(i.__assign)(Object(i.__assign)({},t),{body:r}),[4,this._fetch(e,o)];case 1:return s=l.sent(),[4,this.constructLegacyAPIResponse(s)];case 2:return[2,l.sent()]}}))}))},e.requestOrThrow=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),Object(i.__awaiter)(this,void 0,Promise,(function(){var a;return Object(i.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.request(e,t,n)];case 1:if((a=r.sent()).requestError)throw a.requestError;if(a.error)throw new Error("Error while sending legacy-api request: "+a.error.status+" - "+a.error.message);return[2,Object(i.__assign)(Object(i.__assign)({},a),{body:a.body})];case 2:throw r.sent();case 3:return[2]}}))}))},e.getAPIURL=function(e){return new URL(e,a.p.config.apiBaseURL)},e.constructLegacyAPIResponse=function(e){return Object(i.__awaiter)(this,void 0,Promise,(function(){var t,n,a,r;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:t={status:e.status},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,e.json()];case 2:return n=i.sent(),e.ok?t.body=n:t.error=n,[3,4];case 3:return a=i.sent(),e.headers&&e.headers.get&&(r=e.headers.get("Content-Type"))&&-1!==r.indexOf("application/json")&&(t.requestError=a),[3,4];case 4:return[2,t]}}))}))},e._fetch=function(e,t){return void 0===t&&(t={}),Object(i.__awaiter)(this,void 0,Promise,(function(){return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return[4,fetch(this.getAPIURL(e).toString(),t)];case 1:return[2,n.sent()]}}))}))},e.constructOptions=function(e,t){return e=Object.assign({},e,{headers:Object(i.__assign)(Object(i.__assign)({},this.getDefaultHeaders(e,t)),e.headers)})},e.serialize=function(e,t){return"application/json; charset=UTF-8"===t?JSON.stringify(e):"string"==typeof e?e:e&&FormData.prototype.isPrototypeOf(e)?e:e?(this.logger.errorAndReport(new Error("Could not serialize this request body for the content-type provided."),"attempting to serialize object with a non-JSON content-type",{contentType:t}),null):null},e.getDefaultHeaders=function(e,t){var n=a.p.store.getState(),i={Accept:"application/vnd.twitchtv.v"+(t.version||5)+"+json; charset=UTF-8","Accept-Language":"en-us","Client-ID":a.p.config.authSettings.clientID,"X-Device-Id":a.p.session.deviceID,"X-Requested-With":"XMLHttpRequest"};e.body&&FormData.prototype.isPrototypeOf(e.body)||(i["Content-Type"]="application/json; charset=UTF-8");var o=Object(r.e)(n);return o&&(i.Authorization="OAuth "+o.authToken,o.legacyCSRFToken&&(i["Twitch-Api-Token"]=o.legacyCSRFToken)),t.excludeHeaders&&t.excludeHeaders.forEach((function(e){i[e]&&delete i[e]})),i},e.logger=a.p.logger.withCategory("legacy-api"),e}()},b7VA:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("8OQS"),a=n.n(i),r=n("q1tI"),o=n("OCDW"),s=n("Yegi"),l=n("4Nlk"),c=n("ubYY"),d=function(e){var t=e.show,n=e.direction,i=e.offsetX,d=e.offsetY,u=a()(e,["show","direction","offsetX","offsetY"]);return r.createElement(o.a,{display:t?s.h.Block:s.h.Hide},r.createElement(l.a,{direction:n,offsetX:i,offsetY:d},r.createElement(c.a,u)))};d.displayName="AttachedPopover"},bGsL:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerOfflineRecommendationsOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"videos"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"30"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayerOfflineRecommendationsOverlayVideo"},directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewedVideos"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:345}};i.loc.source={body:'#import "twilight/features/video-player/components/overlays/offline-recommendations-overlay/video.gql"\nquery VideoPlayerOfflineRecommendationsOverlay($login: String!) {\nuser(login: $login) {\nid\nvideos(first: 30) {\nedges {\nnode {\n...VideoPlayerOfflineRecommendationsOverlayVideo\n}\n}\n}\n}\ncurrentUser {\nid\nviewedVideos {\nedges {\nnode {\nid\n}\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("+P/e").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.VideoPlayerOfflineRecommendationsOverlay=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"VideoPlayerOfflineRecommendationsOverlay")},bNLW:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PlayerTrackingContextQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isLive"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"hasCollection"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"hasVideo"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"hasClip"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isStaff"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasTurbo"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isLive"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingBroadcaster"},directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasAdFree"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcasterSoftware"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingGame"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"restriction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exemptions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"hosting"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingGame"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isModerator"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"broadcastSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingGame"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"hasCollection"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"50"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingVOD"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingBroadcaster"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"hasVideo"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingVOD"},directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingBroadcaster"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"hasClip"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingBroadcaster"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PlayerTrackingGame"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PlayerTrackingVOD"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PlayerTrackingBroadcaster"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PlayerTrackingGame"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Game"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}],loc:{start:0,end:1229}};n.loc.source={body:"query PlayerTrackingContextQuery($channel: String $isLive: Boolean! $collectionID: ID! $hasCollection: Boolean! $videoID: ID! $hasVideo: Boolean! $slug: ID! $hasClip: Boolean!) {\ncurrentUser {\nid\nlogin\nisStaff\nhasTurbo\n}\nuser(login: $channel) @include(if: $isLive){\nid\n...PlayerTrackingBroadcaster\nsubscriptionProducts {\nid\nhasAdFree\n}\nstream {\nid\nbroadcasterSoftware\ngame {\n...PlayerTrackingGame\n}\nrestriction {\nid\noptions\ntype\nexemptions {\ntype\n}\n}\n}\nhosting {\nid\nlogin\nbroadcastSettings {\nid\ngame {\n...PlayerTrackingGame\n}\n}\n}\nself {\nsubscriptionBenefit {\nid\n}\nisModerator\n}\nbroadcastSettings {\nid\ngame {\n...PlayerTrackingGame\n}\n}\n}\ncollection(id: $collectionID) @include(if: $hasCollection) {\nid\nitems(first: 50) {\nedges {\nnode {\n...PlayerTrackingVOD\n}\n}\n}\nowner {\nid\n...PlayerTrackingBroadcaster\n}\n}\nvideo(id: $videoID) @include(if: $hasVideo) {\nid\n...PlayerTrackingVOD\nowner {\n...PlayerTrackingBroadcaster\n}\n}\nclip(slug: $slug) @include(if: $hasClip) {\nid\nbroadcaster {\n...PlayerTrackingBroadcaster\n}\ngame {\n...PlayerTrackingGame\n}\n}\n}\nfragment PlayerTrackingVOD on Video {\nid\nbroadcastType\ngame {\nid\nname\n}\n}\nfragment PlayerTrackingBroadcaster on User {\nid\nlogin\nisPartner\n}\nfragment PlayerTrackingGame on Game {\nid\nname\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.PlayerTrackingContextQuery=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"PlayerTrackingContextQuery")},bTcf:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoShareBox_CollectionTrackingMeta"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"creatorID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"creatorID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:117}};n.loc.source={body:"query VideoShareBox_CollectionTrackingMeta($creatorID: ID!) {\nuser(id: $creatorID) {\nid\nlogin\nroles {\nisPartner\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoShareBox_CollectionTrackingMeta=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoShareBox_CollectionTrackingMeta")},bq0i:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i,a=n("mrSG"),r=n("w09P"),o=n("q1tI"),s=n("f00E"),l=n("58CV"),c=n("oBNK"),d=n("OCDW"),u=n("Yegi");!function(e){e.BalloonInsideClickDetector="balloon-inside-click-detector",e.MouseEnterDetector="toggle-balloon-wrapper__mouse-enter-detector"}(i||(i={}));var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showBalloon:!!t.props.openByDefault,hasInteracted:!!t.props.openByDefault},t.toggleBalloonId=Object(s.b)(),t.handleButtonClick=function(e){t.props.preventDefault&&e.preventDefault(),t.props.stopPropagation&&e.stopPropagation(),t.setState((function(e){return{showBalloon:!e.showBalloon,hasInteracted:!0}}),(function(){t.props.onToggle&&t.props.onToggle(!t.state.showBalloon)}))},t.handleGlobalClick=function(e){e.target.matches('[data-toggle-balloon-id="'+t.toggleBalloonId+'"] *')||t.hideBalloon()},t.handleInsideBalloonClick=function(){t.hideBalloon()},t.handleMouseEnter=function(){t.props.preventMountingContentOnHover||t.state.hasInteracted||t.setState({hasInteracted:!0})},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.openByDefault&&document.addEventListener("click",this.handleGlobalClick,!0)},t.prototype.componentDidUpdate=function(e,t){t.showBalloon!==this.state.showBalloon&&(this.state.showBalloon?document.addEventListener("click",this.handleGlobalClick,!0):document.removeEventListener("click",this.handleGlobalClick,!0))},t.prototype.componentWillUnmount=function(){document.removeEventListener("click",this.handleGlobalClick,!0)},t.prototype.render=function(){var e=this,t=o.Children.toArray(this.props.children);if(2!==t.length)throw new Error("ToggleBalloonWrapper should only be given two children: a clickable and a Balloon");var n,s=t[0],p=t[1];if(s.type===l.a){var m=s,f=r(m.props.dropdown,(function(t){return t.onClick=e.handleButtonClick,t}));n=o.cloneElement(m,{dropdown:f})}else n=o.cloneElement(s,{onClick:this.handleButtonClick});var v=null;(this.state.hasInteracted||this.props.alwaysMountBalloonContent)&&(v=o.cloneElement(p,{show:this.state.showBalloon}),this.props.hideBalloonOnInsideClick&&(v=o.createElement("div",{"data-test-selector":i.BalloonInsideClickDetector,onClick:this.handleInsideBalloonClick},v)));var g=n;return this.props.tooltipProps&&(g=o.createElement(c.a,Object(a.__assign)({},this.props.tooltipProps),n)),o.createElement(d.a,{"data-toggle-balloon-id":this.toggleBalloonId,display:this.props.display,position:u.o.Relative},o.createElement("div",{style:{display:"inherit"},onMouseEnter:this.handleMouseEnter,"data-test-selector":i.MouseEnterDetector},g),v)},t.prototype.toggleBalloon=function(e){void 0===e&&(e=!this.state.showBalloon),this.setState({showBalloon:e,hasInteracted:!0})},t.prototype.hideBalloon=function(){var e=this;this.setState({showBalloon:!1},(function(){e.props.onToggle&&e.props.onToggle(!0)}))},t}(o.Component)},br9A:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c}));var i,a,r=n("mrSG"),o=n("/7QA"),s=n("2xye"),l=n("OFdW");function c(e){var t,n,i,a;return Object(r.__awaiter)(this,void 0,void 0,(function(){var c,d,u;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:c=null,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,o.p.apollo.client.query({query:l,variables:{channelID:e.channelID}})];case 2:return c=r.sent(),[3,4];case 3:return d=r.sent(),o.k.warn(d,"Failed to query for sub info in Subs reporting.",{channelID:e.channelID}),[3,4];case 4:return u={action:e.action,ad_id:e.adID||null,ad_session_id:e.adSessionID||null,button_cta:e.buttonCTA,can_subscribe:e.canSubscribe||null,channel:e.channelLogin,channel_id:e.channelID,charge_interval:e.chargeInterval,checkout_button_tier:e.checkoutButtonTier,cumulative_tenure_months:e.cumulativeTenureMonths,days_to_next_tenure_anniversary:e.daysToNextTenureAnniversary||null,founder_badge_upsell_shown:e.founderBadgeUpsellShown||null,has_sub_credit:e.hasSubCredit||null,host_channel_id:e.hostChannelID,host_channel:e.hostChannelLogin,is_ad_shown:e.isAdShowing||!1,is_anonymous:e.isAnonymous,is_live:e.isLive||!1,is_menu_open:e.isMenuOpen||null,is_single_month:e.isSingleMonth,is_subscribed_current_tier:e.isSubscribedCurrentTier||null,is_subscribed:e.isSubscribed||!!(null===(i=null===(n=null===(t=null==c?void 0:c.data)||void 0===t?void 0:t.user)||void 0===n?void 0:n.self)||void 0===i?void 0:i.subscriptionBenefit),modal_session_id:e.modalSessionId||"",multimonth_gift_amount:e.multiMonthGiftAmount,mystery_gift_count:e.mysteryGiftCount||null,selected_option:null===(a=e.multiMonthGiftAmount)||void 0===a?void 0:a.toString(),show_prime_content:e.showPrimeContent||!1,streak_number:e.streakNumber||null,sub_location:e.subLocation,sub_recipient:e.giftRecipient||null,viewport_height:window.innerHeight,viewport_width:window.innerWidth},o.o.track(s.SpadeEventType.Subscription,u),[2]}}))}))}!function(e){e.BuyContinueSub="buy_continue_sub",e.BuyCustomMysteryGift="buy_custom_mystery_gift",e.BuyGiftSub="buy_gift_sub",e.BuyGiftSubOneClick="buy_gift_sub_one_click",e.BuyGiftCommunityOneClick="buy_mystery_gift_one_click",e.BuyGiftSubModalSingleGiftClick="buy_mystery_gift_one_click",e.BuyGiftToPaidUpgrade="buy_gift_to_paid_upgrade",e.BuyMysteryGift="buy_mystery_gift",e.BuyPaidUpgrade="buy_paid_upgrade",e.BuyPrimeToPaid="buy_prime_to_paid",e.BuyQuickSub="buy_quick_sub",e.ChangeTier="change_tier",e.ClickAboutMeBlurb="creator_defined_about_me_more_click",e.ClickAnonymousGiftCheckbox="anonymous_gift_click",e.ClickBack="back_top_level",e.ClickCancelAndRefund="click_cancel_and_refund",e.ClickCancelPaidUpgrade="click_cancel_paid_upgrade",e.ClickChangePaymentMethod="click_change_payment_method",e.ClickChangeSubTier="click_change_sub_tier",e.ClickCheckout="click_checkout_button",e.ClickCheckoutPrivacyPolicy="checkout_privacy_policy_click",e.ClickCheckoutTermsOfService="checkout_terms_of_sale_click",e.ClickCommunityGift="click_community_gift",e.ClickCustomDefinedBenefitsInfo="creator_defined_benefits_tooltip_click",e.ClickDisableGift="click_disable_gift_button",e.ClickDNRSub="click_dnr_sub_button",e.ClickGiftSubOptions="gift_options_click",e.ClickMoreSubOptions="more_options_click",e.ClickMultiMonthInfo="multi_month_info_click",e.ClickOneClickCheckoutQuickSub="buy_quick_sub_one_click",e.ClickOneClickCheckoutSub="click_checkout_button_one_click",e.ClickShowMoreEmotes="click_show_more_emotes",e.ClickSignupForPrime="click_signup_for_prime",e.ClickSingleGift="click_single_gift",e.ClickWhySubscribe="click_why_subscribe",e.CloseSubMenu="close_subscribe_menu",e.HoverCustomDefinedBenefitsInfo="creator_defined_benefits_tooltip_hover",e.GiftASub="gift_a_sub",e.OneClickCheckoutShowRecurringSubButton="show_one_click_button_recurring_sub",e.OneClickCheckoutShowSingleGiftSubButton="show_one_click_button_single_gift_sub",e.OneClickCheckoutShowSubModalSingleGiftSubButton="show_one_click_button_sub_modal_single_gift_sub",e.OneClickCheckoutShowCommunityGiftSubButton="show_one_click_button_community_gift",e.OpenSubMenu="open_subscribe_menu",e.PreviewTier2="preview_tier2_modifiers",e.PreviewTier3="preview_tier3_modifiers",e.SelectedGiftMonths="select_gift_months",e.SelectGiftSKU="select_gift_SKU",e.SubMenuReady="sub_menu_ready",e.SubWithPrime="samus_spend_credit"}(i||(i={})),function(e){e.ChannelHome="channel_home",e.ChannelPage="channel_page",e.ChannelPageModal="channel_page_modal",e.CommunityGiftHighlight="community_gift_highlight",e.EmoteCard="emote_card",e.EmotePicker="emote_picker",e.GifterLeaderboard="gifter_leaderboard",e.MegaGifterCallout="mega_gifter_callout",e.ModsDetailsPage="mods_detail_page",e.ModerationView="moderation_view",e.MinecraftInstalledModpack="minecraft_installed_modpack",e.MinecraftModDetailsPage="minecraft_mods_detail_page",e.OfflineBenefitsPage="offline_benefits_page",e.PremiumContentOverlay="premium_content_overlay",e.SquadPage="squad_page",e.SubscriberVODOverlay="subscriber_vod_overlay",e.SubsBroadcasterPage="subs_broadcaster_page",e.SubsManagementPage="subscriptions_management_page",e.ThankSubGifterCallout="thank_sub_gifter_callout",e.TheatreMode="theatre_mode",e.VideoCardPreviewRestriction="video_preview_card_restriction",e.ViewerCard="viewer_card",e.WatchPartyPage="watch_party_page"}(a||(a={}))},bu9A:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return d}));var i,a,r=n("mrSG"),o=n("TSYQ"),s=n("q1tI"),l=n("Yegi"),c=n("AjB5");n("r9VO");!function(e){e[e.Transparency0=0]="Transparency0",e[e.Transparency1=1]="Transparency1",e[e.Transparency3=3]="Transparency3",e[e.Transparency5=5]="Transparency5",e[e.Transparency6=6]="Transparency6",e[e.Transparency10=10]="Transparency10"}(i||(i={})),function(e){e[e.Fullscreen=0]="Fullscreen",e[e.Sidebar=1]="Sidebar"}(a||(a={}));var d=function(e){var t,n=o("player-overlay-background",Object(r.__assign)(Object(r.__assign)({},[i.Transparency0,i.Transparency1,i.Transparency3,i.Transparency5,i.Transparency6].reduce((function(t,n){var i;return Object(r.__assign)(Object(r.__assign)({},t),((i={})["player-overlay-background--darkness-"+n]=e.transparency===n,i))}),{})),((t={})["player-overlay-background-sidebar"]=e.type===a.Sidebar,t)),e.className),d=e.type===a.Fullscreen?{flexDirection:l.i.Column,justifyContent:l.m.Center,alignItems:l.b.Center,color:l.f.Overlay,attachLeft:!0,display:l.h.Flex}:{padding:2};return s.createElement(c.a,Object(r.__assign)({className:n,position:l.o.Absolute,attachTop:!0,attachRight:!0,attachBottom:!0},d),e.children)}},c7f0:function(e,t,n){"use strict";function i(e){return e.playerPublicPropsContext.behaviors||{}}function a(e){return e.playerPublicPropsContext.content}function r(e){return e.playerPublicPropsContext.callbacks||{}}n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r}))},cBvd:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return b}));var i,a=n("pVnL"),r=n.n(a),o=n("8OQS"),s=n.n(o),l=n("VbXa"),c=n.n(l),d=n("q1tI"),u=n("o5gP"),p=n("SWse"),m=n("Yegi"),f=n("IyK4"),v=n("OCDW"),g=n("hMTT");!function(e){e.Checkbox="checkbox",e.Radio="radio"}(i||(i={}));var h=function(e){function t(){return e.apply(this,arguments)||this}return c()(t,e),t.prototype.render=function(){var e=Object(u.b)(),t={"tw-selectable":!0,"tw-selectable--error":this.props.error,"tw-selectable--overlay":this.props.overlay},n={"tw-selectable__child-border":!0,"tw-selectable__child-border--medium":this.props.borderRadius&&this.props.borderRadius===m.e.Medium,"tw-selectable__child-border--large":this.props.borderRadius&&this.props.borderRadius===m.e.Large},i=this.props,a=i.borderRadius,o=i.children,l=(i.error,i.id),c=i.refDelegate,g=(i.overlay,s()(i,["borderRadius","children","error","id","refDelegate","overlay"]));return d.createElement(v.a,{className:Object(p.a)(t)},d.createElement("input",r()({className:"tw-selectable__input","data-a-target":"tw-selectable",id:l||e,ref:c},g)),d.createElement(f.a,{display:m.h.Block,position:m.o.Relative,borderRadius:a},d.createElement("label",{className:"tw-selectable__label",htmlFor:l||e},d.createElement(v.a,{className:Object(p.a)(n),borderRadius:a&&a===m.e.Rounded?m.e.Rounded:void 0,position:m.o.Relative},o))))},t}(d.Component);h.displayName="SelectableComponent",h.displayName="SelectableComponent";var b=Object(g.b)(h)},cGwn:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayer_CollectionManager_Video"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayer_CollectionManager_Collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayer_CollectionManager_Video"},directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayer_CollectionManager"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayer_CollectionManager_Collection"},directives:[]}]}}]}}],loc:{start:0,end:349}};n.loc.source={body:"fragment VideoPlayer_CollectionManager_Video on Video {\nid\n}\nfragment VideoPlayer_CollectionManager_Collection on Collection {\nid\nitems(first: 100) {\nedges {\nnode {\n...VideoPlayer_CollectionManager_Video\n}\n}\n}\n}\nquery VideoPlayer_CollectionManager($collectionID: ID!) {\ncollection(id: $collectionID) {\n...VideoPlayer_CollectionManager_Collection\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoPlayer_CollectionManager=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoPlayer_CollectionManager")},cVek:function(e,t,n){},cw0r:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("mrSG"),a=n("q1tI"),r=n("wUQP"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return Object(r.c)(this.props.name,{defaultThreshold:this.props.defaultThreshold})?a.createElement(a.Fragment,null,this.props.children):null},t}(a.Component)},cxJK:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("pVnL"),a=n.n(i),r=n("VbXa"),o=n.n(r),s=n("q1tI"),l=n("P+FS"),c=n("HQtB"),d=n("IyK4"),u=n("Yegi"),p=function(){var e=function(e){function t(){return e.apply(this,arguments)||this}return o()(t,e),t.prototype.render=function(){return s.createElement(d.a,a()({},Object(c.a)(this.props),Object(l.a)(this.props),{overflow:u.n.Auto,padding:this.props.padding,flexGrow:1}),s.createElement("div",{id:this.props.popoverId+"-body"},this.props.children))},t}(s.Component);return e.displayName="PopoverBody",e.defaultProps={padding:1},e}()},"d/Xa":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.udm_=function(e,t){var n,i,a,r,o,s="comScore=",l=document,c=l.cookie,d="",u="indexOf",p="substring",m="length",f=2048,v="&ns_",g=window,h=g.encodeURIComponent||escape;if(c[u](s)+1)for(r=0,a=c.split(";"),o=a[m];r<o;r++)(i=a[r][u](s))+1&&(d="&"+unescape(a[r][p](i+s[m])));(e+=v+"_t="+ +new Date+v+"c="+(l.characterSet||l.defaultCharset||"")+(g===g.top?"":v+"if=1")+"&cv=3.1&c8="+h(l.title)+d+"&c7="+h(l.URL)+"&c9="+h(l.referrer))[m]>f&&e[u]("&")>0&&(n=e[p](0,f-8).lastIndexOf("&"),e=(e[p](0,n)+v+"cut="+h(e[p](n+1)))[p](0,f)),l.images?(i=new Image,g.ns_p||(g.ns_p=i),"function"==typeof t&&(i.onload=i.onerror=t),i.src=e):l.write("<","p","><",'img src="',e,'" height="1" width="1" alt="*"',"><","/p",">")}},"dIU+":function(e,t,n){"use strict";n.r(t);var i=n("qYg/");n.d(t,"FollowButton",(function(){return i.a})),n.d(t,"FollowButtonUIType",(function(){return i.b})),n.d(t,"PublicProps",(function(){return i.c}))},dW6f:function(e,t,n){},dsEc:function(e,t,n){},e1rX:function(e,t,n){},e6aM:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NielsenContentMetadataVideo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"NielsenContentMetadata"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isCollectionContent"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isLiveContent"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isVODContent"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isLiveContent"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isVODContent"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NielsenContentMetadataVideo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isCollectionContent"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NielsenContentMetadataVideo"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:632}};n.loc.source={body:"fragment NielsenContentMetadataVideo on Video {\nid\ncreatedAt\ntitle\ngame {\nid\ndisplayName\n}\nowner {\nid\nlogin\n}\n}\nquery NielsenContentMetadata(\n$collectionID: ID!\n$login: String!\n$vodID: ID!\n$isCollectionContent: Boolean!\n$isLiveContent: Boolean!\n$isVODContent: Boolean!\n) {\nuser(login: $login) @include(if: $isLiveContent) {\nid\nbroadcastSettings {\nid\ntitle\n}\nstream {\nid\ncreatedAt\ngame {\nid\ndisplayName\n}\n}\n}\nvideo(id: $vodID) @include(if: $isVODContent) {\n...NielsenContentMetadataVideo\n}\ncollection(id: $collectionID) @include(if: $isCollectionContent) {\nid\nitems(first: 1) {\nedges {\nnode {\n...NielsenContentMetadataVideo\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.NielsenContentMetadata=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"NielsenContentMetadata")},eAel:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"a",(function(){return l}));var i=1e3,a=60*i,r=60*a,o=24*r,s=7*o,l=30*o},eDVu:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("mrSG"),a=n("q1tI"),r=n("/aPz");function o(e){return function(t){return function(n){function o(t){var i=n.call(this,t)||this;return i.mutator=function(e,t){return i.options.mutator(e,t)},i.typesChanged=function(e){if(e.types&&!i.options.types||!e.types&&i.options.types)return!0;if(e.types&&i.options.types){if(e.types.length!==i.options.types.length)return!0;var t=new Set(i.options.types);return e.types.some((function(e){return!t.has(e)}))}return!1},i.options=e(t),i}return Object(i.__extends)(o,n),o.prototype.componentDidMount=function(){this.options.skip||this.subscribe(this.options)},o.prototype.componentDidUpdate=function(){var t=e(this.props);t.skip!==this.options.skip&&(t.skip?this.unsubscribe():this.subscribe(t)),t.skip||(t.topic!==this.options.topic||t.type!==this.options.type||this.typesChanged(t))&&(this.unsubscribe(),this.subscribe(t)),this.options=t},o.prototype.componentWillUnmount=function(){this.unsubscribe()},o.prototype.render=function(){return a.createElement(t,Object(i.__assign)({},this.props))},o.prototype.subscribe=function(e){this.unsubscriber=Object(r.Y)({query:e.query,variables:e.variables,topic:e.topic,type:e.type,types:e.types,mutator:this.mutator,skipMessage:e.skipMessage})},o.prototype.unsubscribe=function(){this.unsubscriber&&(this.unsubscriber(),this.unsubscriber=null)},o}(a.Component)}}},eFQ3:function(e,t,n){"use strict";n.d(t,"a",(function(){return Tk}));var i=n("mrSG"),a=n("TSYQ"),r=n("q1tI"),o=n("/MKj"),s=n("ANjH"),l=n("/7QA"),c=n("hyxX"),d=n("f00E"),u=n("XDQu"),p=n("S1Za"),m=n("2Ygb"),f=n("wNtA");function v(){return function(e){var t=function(t){function n(e){var n=t.call(this,e)||this;return n.bufferedEventListeners=[],n.attachedEventListeners=[],n.addEventListener=function(e,t){var i=n.props.videoAdMetadata,a={event:e,listener:t};i&&!i.stitched?(n.attachedEventListeners.push(a),n.bufferedEventListeners=n.filterEventListeners(n.bufferedEventListeners,e,t),i.videoAd.addEventListener(e,t)):n.bufferedEventListeners.push(a)},n.removeEventListener=function(e,t){var i=n.props.videoAdMetadata;i&&!i.stitched&&(n.attachedEventListeners=n.filterEventListeners(n.attachedEventListeners,e,t),i.videoAd.removeEventListener(e,t))},n.updateEventListeners=function(){var e=n.props.videoAdMetadata;e?n.attachEventListeners(e):n.bufferPreviouslyAttachedListeners()},n.attachEventListeners=function(e){0!==n.bufferedEventListeners.length&&e&&!e.stitched&&n.bufferedEventListeners.forEach((function(e){var t=e.event,i=e.listener;return n.addEventListener(t,i)}))},n.bufferPreviouslyAttachedListeners=function(){0!==n.attachedEventListeners.length&&(n.attachedEventListeners.forEach((function(e){return n.bufferedEventListeners.push(e)})),n.attachedEventListeners=[])},n.filterEventListeners=function(e,t,n){return e.filter((function(e){var i=e.event,a=e.listener;return t!==i&&n!==a}))},n.state={adEvents:{addEventListener:n.addEventListener,removeEventListener:n.removeEventListener}},n}return Object(i.__extends)(n,t),n.prototype.componentDidMount=function(){this.updateEventListeners()},n.prototype.componentDidUpdate=function(){this.updateEventListeners()},n.prototype.componentWillUnmount=function(){var e=this;this.attachedEventListeners.forEach((function(t){var n=t.event,i=t.listener;return e.removeEventListener(n,i)}))},n.prototype.render=function(){return r.createElement(e,Object(i.__assign)({},this.props,this.state))},n.displayName=Object(m.a)(n.name,e),n}(r.Component);return Object(f.c)(g)(t)}}function g(e){return{videoAdMetadata:e.videoAdMetadata}}var h,b,y=n("juvP"),k=n("Fn4s"),S=n("UtoE"),E=n("nqb9");!function(e){e.DFP="DFP",e.TEVS="TEVS",e.VAES="VAES"}(h||(h={})),function(e){e.Error="AdError",e.Resumed="Resumed",e.Paused="Paused",e.ContentPauseRequested="ContentPauseRequested",e.ContentResumeRequested="ContentResumeRequested",e.Loaded="Loaded",e.Started="Started",e.Progress="AdProgress",e.FirstQuartile="FirstQuartile",e.Midpoint="Midpoint",e.ThirdQuartile="ThirdQuartile",e.Impression="Impression",e.Complete="Complete",e.Skipped="Skipped",e.VolumeChanged="VolumeChanged"}(b||(b={}));var C=n("0BjR"),O=n("AKMF"),_=n("c7f0"),w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onPlayerStateChange=function(e){t.maybeSetActivePlayerRef(e===C.g.PLAYING,e===C.g.IDLE)},t.onAdStateChange=function(e){var n=e===b.Resumed||e===b.Started,i=e===b.Paused;t.maybeSetActivePlayerRef(n,i)},t.maybeSetActivePlayerRef=function(e,n){var i=t.props.playerRefID===t.props.activeVideoPlayerRefID;e&&!i&&t.props.reportPlayerInstanceStarted(t.props.playerRefID),n&&i&&t.props.reportPlayerInstanceStarted(void 0)},t}return Object(i.__extends)(t,e),t.prototype.componentDidUpdate=function(e){e.activeVideoPlayerRefID!==this.props.activeVideoPlayerRefID&&this.props.activeVideoPlayerRefID&&this.props.activeVideoPlayerRefID!==this.props.playerRefID&&this.props.isPlaying&&this.props.exclusivePlayback&&this.props.pause()},t.prototype.componentDidMount=function(){var e=this;[C.g.IDLE,C.g.PLAYING].forEach((function(t){e.props.playerEvents.addEventListener(t,(function(){return e.onPlayerStateChange(t)}))})),[b.Paused,b.Started,b.Resumed].forEach((function(t){e.props.adEvents.addEventListener(t,(function(){return e.onAdStateChange(t)}))}))},t.prototype.render=function(){return null},t}(r.Component),P=Object(s.d)(Object(o.b)((function(e){return{activeVideoPlayerRefID:Object(O.a)(e)}}),(function(e){return Object(s.b)({reportPlayerInstanceStarted:p.b},e)})),Object(E.e)((function(e){var t=e.isPlaying,n=e.pause;return{isPlaying:t,pause:n}})),Object(k.c)((function(e){return{playerRefID:e.playerRefID}})),Object(S.c)((function(e){return{exclusivePlayback:!!Object(_.a)({playerPublicPropsContext:e}).exclusivePlayback}})),Object(y.a)(),v())(w);var N=function(e){var t=Object(o.e)(O.a),n=Object(o.d)(),i=r.useRef(t);r.useEffect((function(){i.current=t}),[t]);var a=r.useRef(e.playerId);return r.useEffect((function(){a.current=e.playerId}),[e.playerId]),r.useEffect((function(){return function(){a.current===i.current&&n(Object(p.b)(void 0))}}),[n]),null},T=n("2xye"),D=n("nM72"),I=n("tP7v"),A=n("Q3S8"),j=function(){var e=r.useContext(S.b).content,t=r.useContext(k.b),n=t.hasPlayed,a=t.quality,o=t.mediaPlayerInstance,s=r.useContext(I.b).track,l=r.useRef(a),c=r.useState(!1),d=c[0],u=c[1],p=r.useCallback((function(e){s(T.SpadeEventType.VideoTrackingClipsQOS,Object(i.__assign)(Object(i.__assign)({},e&&e.properties),{type:T.SpadeEventType.VideoTrackingBufferEmpty}))}),[s]),m=r.useCallback((function(e){s(T.SpadeEventType.VideoTrackingClipsQOS,Object(i.__assign)(Object(i.__assign)({},e.properties),{type:T.SpadeEventType.VideoTrackingBufferRefill}))}),[s]),f=r.useCallback((function(){u(!0)}),[]);Object(D.a)(C.g.ENDED,f);var v=Object(A.o)(e)&&!d,g=r.useCallback((function(e){v&&(e.name===T.SpadeEventType.VideoTrackingBufferEmpty&&p(e),e.name===T.SpadeEventType.VideoTrackingBufferRefill&&m(e))}),[v,p,m]);Object(D.a)(C.f.ANALYTICS_EVENT,g);var h=r.useState(null),b=h[0],y=h[1],E=r.useCallback((function(){var e=l.current&&a!==l.current;e&&(l.current=a),v&&e&&n&&(y(Date.now()),p())}),[a,v,n,p]);r.useEffect(E,[s,a,v,n]);var O=r.useCallback((function(){b&&(m({name:T.SpadeEventType.VideoTrackingBufferRefill,properties:{buffering_time:(Date.now()-b)/1e3}}),y(null))}),[b,m]);return r.useEffect((function(){o&&o.getHTMLVideoElement().addEventListener("canplay",O);return function(){o&&o.getHTMLVideoElement().removeEventListener("canplay",O)}}),[O,o,b]),null},x=n("eirU"),L=n("geRD"),F=n("YFJr"),M=function(){var e=Object(x.c)(F)[0],t=Object(r.useContext)(k.b).logger,n=Object(r.useRef)(t.withCategory("clips-update-view-count")),a=Object(r.useContext)(S.b).content,o=Object(A.c)(a),s=Object(A.o)(a),l=Object(r.useCallback)((function(t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var a;return Object(i.__generator)(this,(function(r){switch(r.label){case 0:if(t.name!==T.SpadeEventType.VideoTrackingVideoPlay||!s||!o)return[3,4];n.current.debug("incrementing clip view count",o),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e(Object(i.__assign)({},Object(L.a)({slug:o})))];case 2:return r.sent(),[3,4];case 3:return a=r.sent(),n.current.warn("Failed to increment clip view count.",a),[3,4];case 4:return[2]}}))}))}),[o,s,e]);return Object(D.a)(C.f.ANALYTICS_EVENT,l),null},R=function(e){return e.isClip?r.createElement(r.Fragment,null,r.createElement(j,null),r.createElement(M,null)):null},V=n("Ty5D"),B=n("yR8l"),U=n("+XUr"),q=n("Wjf2");function G(){return function(e){var t=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.getContentUrl=function(t,n){var i=e.props;return function(e,t){var n,i,a,r;void 0===t&&(t={});var o=t.contentRoutingOverrides;return Object(A.s)(e)?(null!==(n=null==o?void 0:o[U.a.Live])&&void 0!==n?n:q.j)(e,t):Object(A.t)(e)?(null!==(i=null==o?void 0:o[U.a.VOD])&&void 0!==i?i:q.m)(e,t):Object(A.p)(e)?(null!==(a=null==o?void 0:o[U.a.Collection])&&void 0!==a?a:q.f)(e,t):Object(A.o)(e)?(null!==(r=null==o?void 0:o[U.a.Clip])&&void 0!==r?r:q.d)(e,t):void 0}(t,{trackingContext:n,linkTrackingContext:i.linkTrackingContext,contentRoutingOverrides:i.overrideContentRouting})},e.getFullyFormedUrl=function(t,n){return function(e,t){return void 0===t&&(t={}),Object(A.s)(e)&&Object(q.i)(e,t)||Object(A.t)(e)&&Object(q.l)(e,t)||Object(A.p)(e)&&Object(q.e)(e,t)||Object(A.o)(e)&&Object(q.b)(e,t)||void 0||q.a}(t,{trackingContext:n,linkTrackingContext:e.props.linkTrackingContext})},e}return Object(i.__extends)(n,t),n.prototype.render=function(){return r.createElement(e,Object(i.__assign)({},this.props,{getContentUrl:this.getContentUrl,getFullyFormedUrl:this.getFullyFormedUrl}))},n}(r.Component);return Object(S.c)(H)(t)}}function H(e){var t=Object(_.a)({playerPublicPropsContext:e});return{linkTrackingContext:t.linkTrackingContext,overrideContentRouting:t.overrideContentRouting}}var W=n("cGwn"),z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.logger=l.p.logger.withCategory("CollectionManagerComponent"),t.getVodID=function(){var e,n,i,a,r;return null!==(r=null!==(e=t.props.vodID)&&void 0!==e?e:null===(a=null===(i=null===(n=t.props.data)||void 0===n?void 0:n.collection)||void 0===i?void 0:i.items.edges[0])||void 0===a?void 0:a.node.id)&&void 0!==r?r:null},t.handleEndOfVideo=function(e,n){if(n&&e){var i=function(e){return e.items.edges.filter((function(e){return null!==e})).map((function(e){return e.node}))}(n),a=i.findIndex((function(t){return t.id===e}));if(!(a<0||i.length<=a))a<i.length-1&&t.showNextVideo(i[a+1].id,n.id)}},t.showNextVideo=function(e,n){var i=t.props.getContentUrl({type:U.a.Collection,vodID:e,collectionID:n});i?Object(q.k)(i,t.props.history):t.logger.warn("Failed to get get next video URL.",{nextVideoID:e,collectionID:n})},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.data,n=e.playbackEnded,i=e.collectionID,a=this.getVodID();i&&this.props.updateContext({collectionSessionId:Object(d.b)()}),Q(t)&&n&&this.handleEndOfVideo(a,t.collection)},t.prototype.componentDidUpdate=function(e){var t=this.getVodID();!e.playbackEnded&&this.props.playbackEnded&&Q(this.props.data)?this.handleEndOfVideo(t,this.props.data.collection):!Q(e.data)&&Q(this.props.data)&&this.props.playbackEnded&&this.handleEndOfVideo(t,this.props.data.collection),this.props.collectionID&&this.props.collectionID!==e.collectionID?this.props.updateContext({collectionSessionId:Object(d.b)()}):this.props.collectionID||this.props.updateContext({collectionSessionId:void 0})},t.prototype.componentWillUnmount=function(){this.props.updateContext({collectionSessionId:null})},t.prototype.render=function(){return null},t}(r.Component);function Q(e){return!!e&&!e.loading&&!e.error}var K=Object(s.d)(Object(k.c)((function(e){var t=e.mediaPlayerInstance,n=e.playerState;return{updateContext:e.updateContext,mediaPlayerInstance:t,playbackEnded:n===C.g.ENDED}})),Object(S.c)((function(e){var t=Object(_.c)({playerPublicPropsContext:e}),n=Object(A.p)(t)?t:null,i=n&&n.collectionID,a=n&&n.vodID||null;return{collectionID:i,vodID:a}})),Object(B.a)(W,{options:function(e){return{variables:{collectionID:e.collectionID||""}}},skip:function(e){return null===e.collectionID}}),V.l,G())(z);var Y,$=n("cr+I"),X=n("DMoW"),J=n("Beck"),Z=n("0BYk"),ee=n("irp5");function te(){return function(e){var t=e;return function(e){var n,a,o=r.useContext(S.b).content,s=Object(A.p)(o)?o:null,l=null==s?void 0:s.collectionID,c=null==s?void 0:s.vodID,d=Object(x.d)(ee,{skip:!(l&&!c),variables:{id:null!=l?l:""}}),u=d.data,p=d.loading,m=d.error,f=null!=c?c:null===(a=null===(n=null==u?void 0:u.collection)||void 0===n?void 0:n.items.edges[0])||void 0===a?void 0:a.node.id;return r.createElement(t,Object(i.__assign)({},e,{collectionContent:s,collectionLoading:p,collectionError:m,collectionVodID:f}))}}}var ne;!function(e){e.Creative="Creative",e.Poker="Poker",e.Music="Music",e.Gaming="Gaming"}(ne||(ne={}));var ie,ae,re=ne.Gaming;!function(e){e.Null="*null",e.True="1",e.False="0"}(ie||(ie={})),function(e){e.AssetID="ns_st_ci",e.ClipLength="ns_st_cl",e.StationTitle="ns_st_st",e.Publisher="ns_st_pu",e.ProgramTitle="ns_st_pr",e.EpisodeTitle="ns_st_ep",e.SeasonNumber="ns_st_sn",e.EpisodeNumber="ns_st_en",e.Genre="ns_st_ge",e.TMSID="ns_st_ti",e.IsAdLoad="ns_st_ia",e.IsCompleteEpisode="ns_st_ce",e.DigitalAirdate="ns_st_ddt",e.TVAirdate="ns_st_tdt",e.DidConsent="cs_ucfr",e.MetrixC3="c3",e.MetrixC4="c4",e.MetrixC6="c6"}(ae||(ae={}));var oe=((Y={})[ae.Publisher]=null,Y[ae.ProgramTitle]=null,Y[ae.SeasonNumber]=null,Y[ae.EpisodeNumber]=null,Y[ae.TMSID]=null,Y[ae.IsAdLoad]=!1,Y[ae.TVAirdate]=null,Y[ae.MetrixC3]="TWITCH",Y[ae.MetrixC4]="twitch.tv",Y[ae.MetrixC6]=null,Y),se=n("HGFl"),le=n("/fLC"),ce=n("0wNy"),de=n.n(ce);function ue(e){if(!e)return null;var t=Object(se.h)(e);return Object(se.d)(t,se.b.Comscore)}function pe(e){return null!==e&&Object.values(ne).includes(e)?e:re}function me(e){for(var t={},n=0,i=Object.keys(e);n<i.length;n++){var a=i[n];null===e[a]?t[a]=ie.Null:!0===e[a]?t[a]=ie.True:!1===e[a]?t[a]=ie.False:t[a]=String(e[a])}return t}var fe=n("TzpY"),ve=n("d/Xa"),ge=n("/J0i"),he=function(e){function t(t){var n=e.call(this,t)||this;return n.streaming=!1,n.onPlaying=function(){var e;if(n.props.isLive&&!Object(J.i)(J.b.ComScore,null===(e=n.props)||void 0===e?void 0:e.consent)&&n.prevPlaySessionId!==n.props.playSessionId){var t={c1:9,c2:31864766,ax_uuid:n.props.playSessionId},i="https://sb.scorecardresearch.com/p?"+$.stringify(t);ve.udm_(i),n.prevPlaySessionId=n.props.playSessionId}n.isAdPlaying()||n.streaming||n.startComscore()},n.onIdle=function(){n.isAdPlaying()||n.stopComscore()},n.onEnded=function(){n.resetTag()},n.onContentPauseRequested=function(){n.stopComscore()},n.onAdImpression=function(){var e;if(n.props.videoAdMetadata){var t=n.props.videoAdMetadata,a=t.duration,r=t.roll,o=me(Object(i.__assign)(Object(i.__assign)({},n.consentMetadata()),((e={})[ae.ClipLength]=1e3*a,e)));n.streaming=!0,n.streamingTag.playVideoAdvertisement(o,function(e){switch(e){case le.b.Pre:return de.a.StreamingTag.AdType.LinearOnDemandPreRoll;case le.b.Mid:return de.a.StreamingTag.AdType.LinearOnDemandMidRoll;case le.b.Post:return de.a.StreamingTag.AdType.LinearOnDemandPostRoll;default:return de.a.StreamingTag.AdType.Other}}(r))}},n.onAdImpressionComplete=function(){n.stopComscore()},n.resetTag(),n}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(C.g.PLAYING,this.onPlaying),this.props.playerEvents.addEventListener(C.g.IDLE,this.onIdle),this.props.playerEvents.addEventListener(C.g.ENDED,this.onEnded),this.props.adEvents.addEventListener(b.ContentPauseRequested,this.onContentPauseRequested),this.props.adEvents.addEventListener(b.Impression,this.onAdImpression),this.props.adEvents.addEventListener(b.Complete,this.onAdImpressionComplete)},t.prototype.componentDidUpdate=function(e){this.props.playSessionId!==e.playSessionId&&this.resetTag()},t.prototype.componentWillUnmount=function(){this.stopComscore()},t.prototype.render=function(){return null},t.prototype.startComscore=function(){var e=this.assetMetadata();e&&(this.streaming=!0,this.streamingTag.playVideoContentPart(me(e)))},t.prototype.stopComscore=function(){this.streaming&&(this.streaming=!1,this.streamingTag.stop())},t.prototype.resetTag=function(){this.stopComscore(),this.streamingTag=new de.a.StreamingTag({customerC2:"6745306"})},t.prototype.assetMetadata=function(){var e,t,n;if(this.props.isLive){var a=this.props.data&&this.props.data.user;return a?Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},oe),this.consentMetadata()),((e={})[ae.AssetID]=this.props.broadcastID||"",e[ae.ClipLength]=0,e[ae.StationTitle]=a.displayName,e[ae.EpisodeTitle]=a.broadcastSettings&&a.broadcastSettings.title||"",e[ae.Genre]=pe(a.stream&&a.stream.game&&a.stream.game.name),e[ae.DigitalAirdate]=ue(a.stream&&a.stream.createdAt),e[ae.IsCompleteEpisode]=!0,e)):null}if(this.props.isVodOrCollection){var r=this.props.data&&this.props.data.video;return r?Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},oe),this.consentMetadata()),((t={})[ae.AssetID]=r.id||"",t[ae.ClipLength]=r.lengthSeconds&&1e3*r.lengthSeconds||null,t[ae.StationTitle]=r.owner&&r.owner.displayName,t[ae.EpisodeTitle]=r.title,t[ae.Genre]=pe(r.game&&r.game.name),t[ae.DigitalAirdate]=ue(r.createdAt),t[ae.IsCompleteEpisode]=r.broadcastType===X.H.ARCHIVE,t)):null}if(this.props.isClip){var o=this.props.data&&this.props.data.clip;return o?Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},oe),this.consentMetadata()),((n={})[ae.AssetID]=o.id||"",n[ae.ClipLength]=1e3*o.durationSeconds,n[ae.StationTitle]=o.broadcaster&&o.broadcaster.displayName,n[ae.EpisodeTitle]=o.title,n[ae.Genre]=pe(o.game&&o.game.name),n[ae.DigitalAirdate]=ue(o.createdAt),n[ae.IsCompleteEpisode]=!1,n)):null}return null},t.prototype.consentMetadata=function(){var e,t,n,i=Object(J.m)(J.b.ComScore,null===(t=this.props)||void 0===t?void 0:t.consent)?!Object(J.i)(J.b.ComScore,null===(n=this.props)||void 0===n?void 0:n.consent):null;return(e={})[ae.DidConsent]=i,e},t.prototype.isAdPlaying=function(){return!!this.props.videoAdMetadata},t}(r.Component),be=Object(s.d)(Object(k.c)((function(e){return{broadcastID:Object(fe.a)(e)||null,playSessionId:e.playSessionId}})),Object(y.a)(),Object(f.c)((function(e){return{videoAdMetadata:e.videoAdMetadata}})),Object(S.c)((function(e){var t=e.content;return{channelLogin:Object(A.b)(t),clipSlug:Object(A.c)(t),isClip:Object(A.o)(t),isLive:Object(A.s)(t),isVodOrCollection:Object(A.t)(t)||Object(A.p)(t),vodID:Object(A.n)(t)}})),v(),Z.c,te(),Object(B.a)(ge,{options:function(e){var t,n,i,a;return{variables:{channel:null!==(t=e.channelLogin)&&void 0!==t?t:"",clipSlug:null!==(n=e.clipSlug)&&void 0!==n?n:"",isClip:e.isClip,isLive:e.isLive,isVodOrCollection:e.isVodOrCollection,vodID:null!==(a=null!==(i=e.vodID)&&void 0!==i?i:e.collectionVodID)&&void 0!==a?a:""}}},skip:function(e){var t;return e.isVodOrCollection&&!(null!==(t=e.vodID)&&void 0!==t?t:e.collectionVodID)}}))(he);var ye=n("/rYb"),ke=n("oKCn"),Se=n("eWfW"),Ee=n("Bnzf"),Ce=n("m3Rs");function Oe(e){var t,n=e.playerPublicPropsContext;return t=n.type,Ee.b.get(Ee.a.QUALITY,t)}function _e(e,t){!function(e,t){Ee.b.set(Ee.a.QUALITY,t,e.group)}(e,t),e.bitrate>0&&Ce.b.set(Ce.a.BITRATE,e.bitrate)}function we(e){return"p"===e.quality.trim().slice(-1)?e.quality:e.quality+"p"}function Pe(e){return function(e,t){return Ne(function(e){return e.availableQualities}(t),e)}(e.quality,e)||ye.a}function Ne(e,t){return e.find((function(e){return e.group===t}))}function Te(e,t,n,i){var a=Ne(e,t);if(a)return a;if(i){var r=parseInt(t,10),o=e.slice().reverse().find((function(e){return parseInt(e.group,10)>r}));return o||e[0]}var s=e.concat().sort((function(e,t){return t.bitrate-e.bitrate})),l=s.find((function(e){return e.bitrate<n})),c=s[s.length-1];return l||c}function De(e){return void 0!==e.source}var Ie,Ae,je=function(){var e=Object(r.useContext)(k.b),t=Object(r.useContext)(S.b),n=t.behaviors&&t.behaviors.disableUserPreferencePersistence,i=e.mediaPlayerInstance,a=e.updateContext,o=e.quality,s=t.type,c=Object(r.useCallback)((function(){var e;Date.now()-(void 0===(e=0)&&(e=0),l.m.get(ye.c,e))>=864e5&&i&&o===Se.b&&(i.setAutoQualityMode(!0),a({quality:ke.f.Auto,qualityBitrate:ye.a.bitrate}),n||_e(ye.a,s))}),[i,a,o,n,s]);return Object(D.a)("2020",c),null},xe=n("0dmp"),Le=n("x7UT"),Fe=n("0Log"),Me=n("/aPz"),Re=n("S8uQ"),Ve=n("Q0+D");!function(e){e.Channel="channel",e.Collection="collection",e.WatchParty="watch_party",e.VOD="vod"}(Ae||(Ae={}));var Be=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.logger=t.props.logger.withCategory("countess-tracking"),t.trackChannelView=function(e){t.sendEventToCountess(Ae.Channel,Number(e))},t.trackCollectionView=function(e){t.sendEventToCountess(Ae.Collection,e.collectionID)},t}return Object(i.__extends)(t,e),t.prototype.componentDidUpdate=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,n,a,r,o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(!(this.props.sourceStatus!==e.sourceStatus&&this.props.sourceStatus===Re.a.Provided))return[3,6];if(t=this.props.content,!Object(A.s)(t)||!Object(A.g)(t))return[3,5];n=void 0,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.props.client.query({query:Ve,variables:{channelLogin:Object(A.g)(t)}})];case 2:return a=i.sent().data,n=a.user,[3,4];case 3:return i.sent(),[2];case 4:return n&&this.trackChannelView(n.id),[3,6];case 5:Object(A.p)(t)?(this.trackCollectionView(t),t.vodID&&this.trackVODView(t)):Object(A.t)(t)&&this.trackVODView(t),i.label=6;case 6:return r=this.props.pubsub.messages.vodcast&&this.props.pubsub.messages.vodcast.vod&&this.props.pubsub.messages.vodcast.vod.vod_id,o=e.pubsub.messages.vodcast&&e.pubsub.messages.vodcast.vod&&e.pubsub.messages.vodcast.vod.vod_id,r&&r!==o&&this.trackWatchPartyView(r),[2]}}))}))},t.prototype.render=function(){return null},t.prototype.trackWatchPartyView=function(e){this.sendEventToCountess(Ae.WatchParty,e)},t.prototype.trackVODView=function(e){var t=Object(A.n)(e);t&&this.sendEventToCountess(Ae.VOD,t)},t.prototype.sendEventToCountess=function(e,t){var n={type:e,id:t},i={u:JSON.stringify(n)},a=l.a.countessEndpoint+"/ping.gif?"+Object($.stringify)(i);(new Image).src=a,this.logger.info("Tracking event sent to Countess",{type:n.type,url:a,payload:n})},t}(r.Component),Ue=Object(s.d)(xe.b,Object(k.c)((function(e){var t=e.sourceStatus,n=e.logger;return{sourceStatus:t,logger:n}})),Object(S.c)((function(e){return{content:e.content}})),Object(B.a)(Ve,{name:"videoData",skip:function(e){return!Object(A.g)(e.content)},options:function(e){return{variables:{channelLogin:Object(A.g)(e.content)}}}}),Object(Le.a)([{topic:function(e){return Object(Me.hb)(e.videoData.user.id)},skip:function(e){return!Object(A.s)(e.content)||!e.videoData||e.videoData.loading||!e.videoData.user||!e.videoData.user.id},mapMessageTypesToProps:(Ie={},Ie[Fe.PubsubMessageType.Vodcast]="vodcast",Ie)}]))(Be);var qe=n("AM4R"),Ge=n("+xGJ"),He=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.currSegmentPrevTimeChange=null,t.handleTimeChanged=function(e){var n=t.props.editingSegments;if(n&&n.length){var i=Object(Ge.a)(n,e),a=i.currSegment,r=i.prevSegment,o=t.currSegmentPrevTimeChange&&!a,s=o&&t.currSegmentPrevTimeChange===n[n.length-1];(t.lastEndBehaviorReceived===ke.b.PlayAndPauseAtCurrentEditingSegmentEnd&&o||t.lastEndBehaviorReceived===ke.b.PlayAndPauseAtLastEditingSegmentEnd&&s)&&t.pausePlayback(),r&&o&&t.lastEndBehaviorReceived===ke.b.PlayAndReplayAtCurrentEditingSegmentEnd&&t.seekToTime(r.startOffset),t.currSegmentPrevTimeChange=a}},t.storeLastEndBehaviorRequest=function(){t.props.endBehavior&&(t.lastEndBehaviorReceived=t.props.endBehavior)},t.maybeRestartPlayback=function(e){var n=t.props,i=n.mediaPlayerInstance,a=n.endBehavior,r=n.videoOffset,o=n.isPostEdit;if(i){var s=e.videoOffset!==r&&void 0!==r,l=e.endBehavior!==a&&void 0!==a,c=e.isPostEdit!==o&&!0===o;(s||l||c)&&(i.seekTo(t.props.videoOffset||0),t.currSegmentPrevTimeChange=null,t.lastEndBehaviorReceived=a||ke.b.PlayAndPauseAtCurrentEditingSegmentEnd),i.isPaused()&&l&&i.play()}},t.pausePlayback=function(){var e=t.props.mediaPlayerInstance;e&&e.pause()},t.seekToTime=function(e){var n=t.props.mediaPlayerInstance;n&&n.seekTo(e)},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.storeLastEndBehaviorRequest()},t.prototype.componentDidUpdate=function(e){this.maybeRestartPlayback(e),this.storeLastEndBehaviorRequest()},t.prototype.render=function(){return r.createElement(qe.a,{onTimeChanged:this.handleTimeChanged})},t}(r.Component),We=Object(s.d)(Object(S.c)((function(e){var t=Object(_.c)({playerPublicPropsContext:e}),n=Object(A.e)(t),i=Object(A.f)(t),a=Object(A.m)(t);return{editingSegments:n,videoOffset:a,isPostEdit:i,endBehavior:Object(_.a)({playerPublicPropsContext:e}).editingPlaybackBehavior}})),Object(k.c)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})))(He);var ze=n("imBb"),Qe=n("YzXo"),Ke=n("tGfV"),Ye=n("S8nt"),$e=n("69Mc"),Xe=["space","k"],Je=["shift+up","shift+down"],Ze="esc",et=["j","l","left","right"],tt="f",nt="?",it="m",at=[",","."],rt=.1,ot=10,st=2,lt=.01,ct=[.25,.5,.75,1,1.25,1.5,2],dt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mouseTrapInstance=null,t.togglePlayback=function(e,n){t.props.hasPlaybackRestriction||"space"===n&&document.activeElement&&document.activeElement!==document.body||(e.preventDefault(),t.props.isPlaying?t.props.pause():t.props.play())},t.changeVolume=function(e,n){if(!t.props.disableAudio){e.preventDefault();var i=t.props.volume||0,a="shift+up"===n?Math.round(100*Math.min(i+rt,1))/100:Math.round(100*Math.max(i-rt,0))/100;t.props.setVolume(a,{persist:!0,userTriggered:!0})}},t.closeCollectionsSidebar=function(e){e.preventDefault(),t.props.isCollectionSidebarShowing&&t.props.toggleCollectionSidebar()},t.seek=function(e,n){e.preventDefault();var i=Object($e.c)(t.props),a=Object($e.a)(t.props),r=t.props.isClipContent?st:ot,o=t.calculateTargetSeekTime(i,"j"===n||"left"===n?-r:r,lt,a);o&&t.props.seek(o)},t.toggleFullscreen=function(e){if(t.props.fullscreen.supported()&&!t.props.disableFullscreen){e.preventDefault();var n=t.props,i=n.isFullscreen,a=n.enterFullscreen,r=n.exitFullscreen;i?r():a()}},t.toggleMute=function(e){var n=t.props,i=n.disableAudio,a=n.isClipContent,r=n.muted,o=n.setMuted;a||i||(e.preventDefault(),o(!r,{persist:!0,userTriggered:!0}))},t.changePlaybackRate=function(e,n){if(!t.props.isLiveContent){e.preventDefault();var i=Object($e.b)(t.props),a=ct.findIndex((function(e){return e===i})),r=","===n?a-1:a+1;if(r>=0&&r<=ct.length-1){var o=ct[r];Object($e.d)(o,t.props)}}},t.toggleShortcutOverlay=function(e){e.preventDefault(),t.props.isKeyboardShortcutsVisible?t.props.hideKeyboardShortcuts():(t.props.showKeyboardShortcuts(),t.props.setStatsOverlay(Ke.b.None))},t.initHandlers=function(){t.clearKeyHandlers(),t.mouseTrapInstance=new ze;var e=t.mouseTrapInstance.stopCallback;t.mouseTrapInstance.stopCallback=t.stopCallback(e),t.setKeyHandlers()},t.setKeyHandlers=function(){t.mouseTrapInstance&&(t.mouseTrapInstance.bind(Xe,t.togglePlayback),t.mouseTrapInstance.bind(Je,t.changeVolume),t.mouseTrapInstance.bind(Ze,t.closeCollectionsSidebar),t.mouseTrapInstance.bind(et,t.seek),t.mouseTrapInstance.bind(it,t.toggleMute),t.mouseTrapInstance.bind(tt,t.toggleFullscreen),t.mouseTrapInstance.bind(at,t.changePlaybackRate),t.mouseTrapInstance.bind(nt,t.toggleShortcutOverlay))},t.clearKeyHandlers=function(){t.mouseTrapInstance&&(t.mouseTrapInstance.unbind(Xe),t.mouseTrapInstance.unbind(Je),t.mouseTrapInstance.unbind(Ze),t.mouseTrapInstance.unbind(et),t.mouseTrapInstance.unbind(it),t.mouseTrapInstance.unbind(tt),t.mouseTrapInstance.unbind(at),t.mouseTrapInstance.unbind(nt))},t.stopCallback=function(e){return function(n,i,a){return!!(e(n,i,a)||t.props.disableKeyboardShortcuts||t.props.forceControlVisibilityHidden)}},t.calculateTargetSeekTime=function(e,t,n,i){var a=e+t;return a<n?n:a>i?null:a},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.initHandlers()},t.prototype.componentWillUnmount=function(){this.clearKeyHandlers()},t.prototype.render=function(){return null},t}(r.Component);var ut=Object(s.d)(Object(f.c)((function(e){return{videoAdMetadata:e.videoAdMetadata}})),Object(Qe.a)(),Object(k.c)((function(e){return{hasPlaybackRestriction:Object(fe.d)(e),mediaPlayerInstance:e.mediaPlayerInstance}})),Object(S.c)((function(e){var t=Object(_.a)({playerPublicPropsContext:e}),n=e.content;return{disableAudio:t.disableAudio,disableFullscreen:t.disableFullscreen,disableKeyboardShortcuts:t.disableKeyboardShortcuts,forceControlVisibilityHidden:t.forceControlVisibility===Ye.a.Hidden,isClipContent:Object(A.o)(n),isLiveContent:Object(A.s)(n)}})),Object(Ke.e)((function(e){return{enterFullscreen:e.enterFullscreen,exitFullscreen:e.exitFullscreen,hideKeyboardShortcuts:e.hideKeyboardShortcuts,isCollectionSidebarShowing:e.isCollectionSidebarShowing,isFullscreen:e.isFullscreen,isKeyboardShortcutsVisible:e.isKeyboardShortcutsVisible,setStatsOverlay:e.setStatsOverlay,showKeyboardShortcuts:e.showKeyboardShortcuts,toggleCollectionSidebar:e.toggleCollectionSidebar}})),Object(E.e)((function(e){return{isPlaying:e.isPlaying,muted:e.muted,pause:e.pause,play:e.play,seek:e.seek,setMuted:e.setMuted,setVolume:e.setVolume,volume:e.volume}})))(dt),pt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pausedFromModalShowing=!1,t.handleModalChange=function(e){var n=t.props,i=n.modalShowing,a=n.pause,r=n.play,o=n.isPlaying,s=!e.modalShowing&&i,l=e.modalShowing&&!i;s&&(t.pausedFromModalShowing=!0,a()),l&&t.pausedFromModalShowing&&!o&&r()},t.updatePausedFromModalStatus=function(e){var n=t.props.isPlaying;!e.isPlaying&&n&&(t.pausedFromModalShowing=!0)},t}return Object(i.__extends)(t,e),t.prototype.componentDidUpdate=function(e){this.updatePausedFromModalStatus(e),this.handleModalChange(e)},t.prototype.render=function(){return null},t}(r.Component),mt=Object(s.d)(Object(o.b)((function(e){return{modalShowing:e.modal.show}})),Object(E.e)((function(e){var t=e.isPlaying,n=e.pause,i=e.play;return{isPlaying:t,pause:n,play:i}})))(pt);var ft=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={wasPlayingOnOffline:t.props.isPlaying},t.onOffline=function(){t.props.updateContext({isNetworkOffline:!0}),t.setState({wasPlayingOnOffline:t.props.isPlaying})},t.onOnline=function(){t.state.wasPlayingOnOffline&&t.props.play(),t.props.updateContext({isNetworkOffline:!1})},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){window.addEventListener("offline",this.onOffline),window.addEventListener("online",this.onOnline)},t.prototype.componentWillUnmount=function(){window.removeEventListener("offline",this.onOffline),window.removeEventListener("online",this.onOnline)},t.prototype.render=function(){return null},t}(r.Component);var vt=Object(s.d)(Object(k.c)((function(e){return{updateContext:e.updateContext}})),Object(E.e)((function(e){return{isPlaying:e.isPlaying,play:e.play}})))(ft),gt=n("KnXG"),ht=n("4rCz"),bt=function(e,t){var n=Object(r.useRef)(0),i=Object(r.useRef)(0),a=Object(r.useRef)(0),o=Object(r.useCallback)((function(){i.current=0,a.current=0,clearTimeout(n.current)}),[]),s=Object(r.useCallback)((function(){a.current=Date.now();var r=e-i.current;n.current=window.setTimeout((function(){t(),o(),s()}),r)}),[t,e,o]),l=Object(r.useCallback)((function(){clearTimeout(n.current),i.current=Date.now()-a.current+i.current}),[]);return Object(r.useEffect)((function(){return o}),[o,e,t]),{start:s,pause:l,stop:o}};function yt(e,t){var n=r.useContext(f.b).videoAdMetadata;r.useEffect((function(){return n&&!n.stitched&&n.videoAd.addEventListener(e,t),function(){n&&!n.stitched&&n.videoAd.removeEventListener(e,t)}}),[n,e,t])}var kt,St,Et=n("7AWC"),Ct=(n("0a2F"),n("e6aM"));!function(e){e.End="end",e.LoadMetadata="loadMetadata",e.SetPlayheadPosition="setPlayheadPosition",e.Stop="stop"}(kt||(kt={})),function(e){e[e.End=3]="End",e[e.Start=1]="Start"}(St||(St={}));var Ot;function _t(e){return{type:e.request.roll,assetid:e.adInfo&&e.adInfo.adID||"",title:e.adInfo&&e.adInfo.title||""}}function wt(e){return e.video?e.video:e.collection&&Object(L.f)(e.collection.items.edges)[0]||null}function Pt(e){var t=wt(e);return t?t.owner&&t.owner.login:null}function Nt(e){var t=wt(e);return t?t.title:null}function Tt(e){var t=wt(e);return t?t.game&&t.game.displayName:null}function Dt(e){var t=wt(e);return t?t.createdAt&&t.createdAt.slice(0,-1):null}!function(e){e.Active="active",e.Inactive="inactive"}(Ot||(Ot={}));var It={ggPM:function(){return null}},At=r.memo((function(e){var t=Object(r.useRef)(),n=Object(r.useRef)(),i=Object(r.useRef)(0),a=Object(r.useRef)(0),o=e.blockConsentRequiredContent,s=e.channelLogin,l=e.disableNielsenAuditPings,c=e.getCurrentAdMetadata,u=e.isAdPlaying,p=e.isAdShowing,m=e.isCollectionContent,f=e.isLiveContent,v=e.isStitchedAd,g=e.isVodContent,h=Object(r.useContext)(k.b),y=h.hasPlayed,S=h.mediaPlayerInstance,E=h.playerState,O=h.playSessionId,_=h.playSessionStartTime,w=Object(fe.j)(h),P=Object(fe.g)(h),N=!o&&!t.current,T=Object(r.useCallback)((function(e,n){var i,a=ht.q.experiments.getAndTrackAssignment("nielsen_analytics")===Ot.Active;t.current&&(a||"number"!=typeof(i=n)&&i.type&&"content"===n.type&&"twitchmedia31"===n.program)&&t.current.ggPM(e,n)}),[]),I=Object(r.useCallback)((function(e){if(O&&f&&!l&&"US"===(Object(gt.a)()||"US")){var t=$.stringify({prd:"audit",apid:"PE7867845-886F-4940-8BB2-44030EE44570",sessionid:ht.q.session.appSessionID||O,streamid:O,pingtype:e,product:"dcr",uoo:0,createtm:Math.floor((e===St.Start?_:Date.now())/1e3)}),n=document.getElementById("nielsen-s2s-audit-ping");n&&n.parentNode&&n.parentNode.removeChild(n);var i=document.createElement("img");i.id="nielsen-s2s-audit-ping",i.src="https://secure-sts-prod.imrworldwide.com/cgi-bin/gn?"+t,i.style.display="none",document.body.appendChild(i)}}),[l,f,O,_]),A=Object(r.useCallback)((function(e){T(kt.LoadMetadata,e),n.current=e.type}),[T]),j=bt(1e3,Object(r.useCallback)((function(){T(kt.SetPlayheadPosition,i.current)}),[T])),x=j.start,L=j.stop,F=Object(r.useCallback)((function(){T(kt.SetPlayheadPosition,i.current),x()}),[T,x]),M=Object(r.useCallback)((function(e){var t=e.type!==n.current;S&&!S.isPaused()&&t&&A(e),E!==C.g.BUFFERING&&F()}),[A,S,E,F]),R=Object(r.useCallback)((function(){T(kt.Stop,i.current),L(),a.current=0}),[T,L]),V=Object(r.useCallback)((function(){var e=Object(d.a)(32);t.current=l?It:"twitchmedia31"===s?window.NOLBUNDLE.nlsQ("P34D56F9D-5684-4C83-8EE1-5EA7DE9CF45D",e,{nol_sdkDebug:"debug"}):window.NOLBUNDLE.nlsQ("P34D56F9D-5684-4C83-8EE1-5EA7DE9CF45D",e)}),[s,l]),B=Object(r.useCallback)((function(){p?T(kt.Stop,i.current):(f||g||m)&&T(kt.End,i.current),I(St.End)}),[T,p,m,f,g,I]),U=Object(r.useCallback)((function(){var t=function(e){var t,n,i=e.channelLogin,a=e.getCurrentAdMetadata,r=e.isAdShowing,o=e.isCollectionContent,s=e.isLiveContent,l=e.isVodContent,c=e.metadata,d=e.mediaPlayerInstance;return r?a():s?{type:"content",assetid:c.user&&c.user.id||"",isfullepisode:"y",program:i,title:c.user&&c.user.broadcastSettings&&c.user.broadcastSettings.title||"",length:0,segA:c.user&&c.user.stream&&c.user.stream.game&&c.user.stream.game.displayName||"",segB:"",airdate:c.user&&c.user.stream&&c.user.stream.createdAt&&c.user.stream.createdAt.slice(0,-1)||"",adloadtype:"2"}:l||o?{type:"content",assetid:(t=c,n=wt(t),(n?n.id:null)||null),isfullepisode:"y",program:i||Pt(c)||null,title:Nt(c)||"",length:d&&d.getDuration()||0,segA:Tt(c)||"",segB:"",airdate:Dt(c)||"",adloadtype:"2"}:null}({channelLogin:s,getCurrentAdMetadata:c,isAdShowing:p,isCollectionContent:m,isLiveContent:f,isVodContent:g,metadata:e.data,mediaPlayerInstance:S});t&&M(t),y||I(St.Start)}),[s,M,c,y,p,m,f,g,S,e.data,I]);r.useEffect((function(){return function(){y&&!P&&I(St.End)}}),[y,P,I]);var q=Object(r.useCallback)((function(e){M(_t(e))}),[M]);return Object(D.a)(C.g.PLAYING,U),Object(D.a)(C.g.IDLE,Object(r.useCallback)(L,[L])),Object(D.a)(C.g.BUFFERING,Object(r.useCallback)(L,[L])),Object(D.a)(C.f.QUALITY_CHANGED,Object(r.useCallback)(x,[x])),Object(D.a)(C.f.SEEK_COMPLETED,Object(r.useCallback)((function(){L(),x()}),[x,L])),Object(D.a)(C.g.ENDED,Object(r.useCallback)((function(){T(kt.End,i.current),I(St.End)}),[T,I])),Object(D.a)(C.f.TIME_UPDATE,Object(r.useCallback)((function(){p&&v?i.current=S&&S.getPosition()||0:f?i.current=Math.floor(Date.now()/1e3):(g||m)&&(i.current=S&&S.getPosition()||0)}),[p,m,f,v,g,S])),yt(b.ContentPauseRequested,R),yt(b.Impression,q),yt(b.Complete,R),yt(b.ContentResumeRequested,Object(r.useCallback)((function(e){A(_t(e)),F()}),[A,F])),yt(b.Progress,Object(r.useCallback)((function(e){var t=Math.round(e.progress);a.current=t,i.current=t}),[])),Object(r.useEffect)((function(){return N&&(V(),w?U():u&&M(c())),window.addEventListener("beforeunload",B),function(){window.removeEventListener("beforeunload",B)}}),[M,c,V,u,w,q,B,U,N]),null}));At.displayName="NielsenAnalytics";var jt=Object(B.a)(Ct,{options:function(e){return{variables:{isCollectionContent:e.isCollectionContent,isLiveContent:e.isLiveContent,isVODContent:e.isVodContent,collectionID:e.collectionID,login:e.channelLogin||"",vodID:e.vodID}}}})(At),xt=function(){var e,t,n=Object(J.l)().data,i=!(null===(t=Object(J.f)(null===(e=null==n?void 0:n.consent)||void 0===e?void 0:e.vendorStatus)[J.b.Nielsen])||void 0===t?void 0:t.consent),a=Object(r.useContext)(f.b),o=a.adPodStats,s=a.isPlaying,l=a.videoAdMetadata,c=Object(Et.d)(l),d=Object(Et.c)(l),u=Object(r.useCallback)((function(){var e=o.length?o[o.length-1]:void 0;return{type:l?l.roll:"none",assetid:e&&e.id||"",title:e&&e.title||""}}),[o,l]),p=Object(r.useContext)(S.b),m=p.behaviors,v=p.content,g=Object(A.s)(v),h=Object(A.b)(v)||null,b=Object(A.n)(v)||"",y=Object(A.d)(v)||"",k=Object(A.p)(v)&&!b,E=Object(A.t)(v)&&!k,C=!(!m||!m.disableNielsenAuditPings);return r.createElement(jt,{blockConsentRequiredContent:i,channelLogin:h,collectionID:y,disableNielsenAuditPings:C,getCurrentAdMetadata:u,isAdPlaying:s,isAdShowing:c,isCollectionContent:k,isLiveContent:g,isStitchedAd:d,isVodContent:E,vodID:b})},Lt=n("cw0r"),Ft=n("RWo/"),Mt=n("FCKE"),Rt=n("8/mp"),Vt=n("/0dD"),Bt=n("76Lv"),Ut=n("IyK4"),qt=n("Yegi"),Gt=n("AjB5"),Ht=n("OCDW"),Wt=n("swlv"),zt=n("Ix37"),Qt=n("B8XJ"),Kt=n("r7ol"),Yt=n("LASO"),$t=n("+5TF"),Xt=n("XBho"),Jt=n("XlET"),Zt=r.memo((function(e){var t=e.stats,n=e.onClose;return r.createElement("div",{className:Object(Bt.b)(Vt.a.Dark)},r.createElement(Ut.a,{position:qt.o.Absolute,attachTop:!0,margin:1},r.createElement(Rt.b,{suppressScrollX:!0},r.createElement(Gt.a,{background:qt.d.Base,color:qt.f.Base},r.createElement(Ht.a,{display:qt.h.Flex,justifyContent:qt.m.End},r.createElement(Wt.a,{"aria-label":Object(l.d)("Close ad stats","AdstatsOverlay"),onClick:n,icon:zt.a.Close})),r.createElement(Qt.a,null,r.createElement(Kt.a,null,r.createElement(Yt.a,null,r.createElement($t.b,{padding:.5,label:Object(l.d)("Name","AdStatsOverlay")}),r.createElement($t.b,{padding:.5,label:Object(l.d)("Value","AdStatsOverlay")}))),r.createElement(Xt.a,null,en(Object(l.d)("ID","AdStatsOverlay"),t&&t.id),en(Object(l.d)("Impression Time","AdStatsOverlay"),t&&t.impressionTime),en(Object(l.d)("Ad Position","AdStatsOverlay"),t&&t.adPosition),en(Object(l.d)("Total Ads","AdStatsOverlay"),t&&t.totalAds),en(Object(l.d)("Creative ID","AdStatsOverlay"),t&&t.creativeId),en(Object(l.d)("Ad Wrapper IDs","AdStatsOverlay"),t&&JSON.stringify(t.adWrapperIds)),en(Object(l.d)("System","AdStatsOverlay"),t&&t.system),en(Object(l.d)("Title","AdStatsOverlay"),t&&t.title),en(Object(l.d)("Content Type","AdStatsOverlay"),t&&t.contentType),en(Object(l.d)("VAST Media Height","AdStatsOverlay"),t&&t.vastMediaHeight),en(Object(l.d)("VAST Media Width","AdStatsOverlay"),t&&t.vastMediaWidth),en(Object(l.d)("VAST Media Bitrate","AdStatsOverlay"),t&&t.vastMediaBitrate)))))))}));function en(e,t){var n=void 0===t||""===t?"--":t,i=e+":";return r.createElement(Yt.a,{key:e},r.createElement(Jt.a,{padding:.5},i),r.createElement(Jt.a,{padding:.5},n))}var tn=n("uq9l"),nn=(n("qPuE"),Object(s.d)(Object(c.a)({name:"AdStatsOverlay",content:r.createElement((function(){return r.createElement(Ht.a,{position:qt.o.Absolute,attachTop:!0,margin:1,className:"ad-stats-overlay__error-container"},r.createElement(tn.a,{color:qt.f.Overlay},Object(l.d)("The ad stats overlay has crashed. Please disable it in the player settings menu.","AdStatsOverlay")))}),null)}))((function(){var e=r.useContext(Ke.c).setStatsOverlay,t=r.useContext(f.b).adPodStats,n=r.useCallback((function(){return e(Ke.b.None)}),[e]);return r.createElement(Zt,{stats:t.length?t[t.length-1]:void 0,onClose:n})}))),an=n("bu9A"),rn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.updateRestriction=function(){var e=t.props,n=e.addRestriction,i=e.liftRestriction,a=e.skip,r=e.restriction,o=e.restrictions,s=!a&&!o[r],l=a&&!!o[r];s?n(r):l&&i(r)},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.updateRestriction()},t.prototype.componentDidUpdate=function(){this.updateRestriction()},t.prototype.componentWillUnmount=function(){var e=this.props;(0,e.liftRestriction)(e.restriction)},t.prototype.render=function(){return this.props.children||null},t}(r.Component),on=Object(k.c)((function(e){var t=e.addRestriction,n=e.liftRestriction,i=e.restrictions;return{addRestriction:t,liftRestriction:n,restrictions:i}}))(rn);var sn=function(e){var t=e.restriction;return r.createElement(an.a,{className:"content-overlay-gate",type:an.b.Fullscreen,transparency:an.c.Transparency0},r.createElement(on,{restriction:t}))};function ln(e,t){return Object(c.a)({name:e,content:r.createElement(sn,{restriction:t})})}var cn=n("GSI7"),dn="age_restricted_channels";function un(e){var t=e.split(":"),n=t[0],i=t[1];return[n,parseInt(i,10)||0]}function pn(){return l.b.get(dn,[])}var mn=n("NAv5"),fn=n("0J2/"),vn=n("WUnc"),gn=n("gdM2"),hn=n("XlLD"),bn=n("CoFg"),yn=n("5e0Q");function kn(e){var t=e.previousDay,n=e.newMonth,i=e.newYear;return t>Object(mn.getDaysInMonth)(new Date(i,n))?1:t}function Sn(){return Object(mn.getYear)(new Date)-14}function En(e){return void 0===e?0:Nn()[e]||0}function Cn(e){var t,n,a=Nn(),r=a[e],o=void 0===r?1:r+1;return n=Object(i.__assign)(Object(i.__assign)({},a),((t={})[e]=o,t)),l.n.set(Pn,n),o}function On(e,t){var n;void 0===t&&(t=!0);var a,r=In();a=Object(i.__assign)(Object(i.__assign)({},r),((n={})[e]=t,n)),l.m.set(Dn,a)}function _n(e){return void 0!==e&&!!In()[e]}function wn(e){var t=Object(mn.setHours)(e,0);return t=Object(mn.setMinutes)(t,0),t=Object(mn.setSeconds)(t,0)}var Pn="age_gates_failed";function Nn(){return l.n.get(Pn,{})}var Tn,Dn="age_gate";function In(){return l.m.get(Dn,{})}function An(e){var t,n=Object(A.b)(e.content);if(n)return n;var i=e.broadcasterData;return(null===(t=null==i?void 0:i.userByAttribute)||void 0===t?void 0:t.login)||void 0}!function(e){e.BirthDateForm="age-gate-overlay__birth-date-form",e.DaySelect="age-gate-overlay__day-select",e.MonthSelect="age-gate-overlay__month-select",e.YearSelect="age-gate-overlay__year-select",e.SubmitButton="age-gate-overlay__submit-button"}(Tn||(Tn={}));var jn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={month:0,day:1,year:Sn()},t.renderGateContent=function(e,n){if(e.failureCount>1)return null;var i=n?gn.c.Small:gn.c.Default;return r.createElement(hn.a,{overlay:!0},r.createElement(Ht.a,{display:qt.h.Flex,"data-test-selector":Tn.BirthDateForm,"data-a-target":"player-overlay-age-gate-form"},r.createElement(Ht.a,{padding:{x:.5}},r.createElement(bn.a,{value:""+t.state.month,onChange:t.handleMonthChange,"data-test-selector":Tn.MonthSelect,size:i},r.createElement("option",{value:"0"},Object(l.d)("January","AgeGateOverlay")),r.createElement("option",{value:"1"},Object(l.d)("February","AgeGateOverlay")),r.createElement("option",{value:"2"},Object(l.d)("March","AgeGateOverlay")),r.createElement("option",{value:"3"},Object(l.d)("April","AgeGateOverlay")),r.createElement("option",{value:"4"},Object(l.d)("May","AgeGateOverlay")),r.createElement("option",{value:"5"},Object(l.d)("June","AgeGateOverlay")),r.createElement("option",{value:"6"},Object(l.d)("July","AgeGateOverlay")),r.createElement("option",{value:"7"},Object(l.d)("August","AgeGateOverlay")),r.createElement("option",{value:"8"},Object(l.d)("September","AgeGateOverlay")),r.createElement("option",{value:"9"},Object(l.d)("October","AgeGateOverlay")),r.createElement("option",{value:"10"},Object(l.d)("November","AgeGateOverlay")),r.createElement("option",{value:"11"},Object(l.d)("December","AgeGateOverlay")))),r.createElement(Ht.a,{padding:{x:.5}},r.createElement(bn.a,{value:""+t.state.day,onChange:t.handleDayChange,"data-test-selector":Tn.DaySelect,size:i},t.renderDayOptions(t.state))),r.createElement(Ht.a,{padding:{x:.5}},r.createElement(bn.a,{value:""+t.state.year,onChange:t.handleYearChange,"data-test-selector":Tn.YearSelect,"data-a-target":"player-overlay-age-gate-year",size:i},t.renderYearOptions())),r.createElement(Ht.a,{padding:{x:.5}},r.createElement(yn.a,{onClick:t.handleSubmit,"data-test-selector":Tn.SubmitButton,"data-a-target":"player-overlay-age-gate-submit",size:n?yn.b.Small:yn.b.Default},Object(l.d)("Submit","AgeGateOverlay")))))},t.renderDayOptions=function(e){for(var t=e.month,n=e.year,i=Object(mn.getDaysInMonth)(new Date(n,t)),a=[],o=1;o<=i;o++)a.push(r.createElement("option",{key:"day-"+o,value:""+o},o));return a},t.renderYearOptions=function(){for(var e=Sn(),t=[],n=e;n>e-100;n--)t.push(r.createElement("option",{key:"year-"+n,value:""+n},n));return t},t.handleDayChange=function(e){t.setState({day:+e.currentTarget.value})},t.handleMonthChange=function(e){var n=+e.currentTarget.value;t.setState((function(e){return{day:kn({previousDay:e.day,newMonth:n,newYear:e.year}),month:n}}))},t.handleYearChange=function(e){var n=+e.currentTarget.value;t.setState((function(e){return{day:kn({previousDay:e.day,newMonth:e.month,newYear:n}),year:n}}))},t.handleSubmit=function(){var e=t.state,n=e.day,i=e.month,a=e.year;t.props.onSubmit({day:n,month:i,year:a})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.requiredAge,i=t.failureCount>0?Object(l.d)("Sorry, you must be over the age of {requiredAge} to view this content.",{requiredAge:n},"AgeGateOverlay"):Object(l.d)("You must be {requiredAge} to view this content. Please enter your date of birth.",{requiredAge:n},"AgeGateOverlay");return r.createElement(fn.a,{iconProps:{type:vn.a.Icon,icon:zt.a.Warning},text:i},(function(t){return e.renderGateContent(e.props,t)}))},t}(r.Component),xn=n("TCi5"),Ln=function(e){function t(t){var n=e.call(this,t)||this;n.getRequiredAge=function(e){var t=e.broadcasterData,a=An(e);if(a){var r=pn().reduce((function(e,t){var n,a=un(t),r=a[0],o=a[1];return Object(i.__assign)(Object(i.__assign)({},e),((n={})[r]=o,n))}),{})[a];if(r)return r}return Object(A.s)(n.props.content)&&t&&t.userByAttribute&&t.userByAttribute.adProperties&&null!==t.userByAttribute.adProperties.requiredAge?t.userByAttribute.adProperties.requiredAge:0},n.handleSubmit=function(e){var t=An(n.props);if(t){var i=e.day,a=e.month,r=e.year,o=n.getRequiredAge(n.props);(function(e,t){var n=wn(new Date),i=Object(mn.subYears)(n,t);return Object(mn.compareAsc)(wn(e),i)<=0})(new Date(r,a,i),o)?(On(t),n.setState({hasPassed:!0})):n.setState({failureCount:Cn(t)})}};var a=An(t);return n.state={failureCount:En(a),hasPassed:_n(a)},n}return Object(i.__extends)(t,e),t.prototype.componentDidUpdate=function(e){var t=An(e),n=An(this.props);t!==n&&this.setState({failureCount:En(n),hasPassed:_n(n)})},t.prototype.render=function(){var e=this.getRequiredAge(this.props);return e<=0||this.state.hasPassed?null:r.createElement(on,{restriction:cn.a.Age},r.createElement(jn,{requiredAge:e,failureCount:this.state.failureCount,onSubmit:this.handleSubmit}))},t}(r.Component),Fn=Object(s.d)(ln("AgeGateOverlay",cn.a.Age),Object(S.c)((function(e){return{content:e.content}})),Object(B.a)(xn,{name:"broadcasterData",options:function(e){return{variables:{input:{login:Object(A.b)(e.content)||null,ownsVideoID:Object(A.n)(e.content)||null}}}},skip:function(e){return!Object(A.s)(e.content)&&!Object(A.b)(e.content)&&!Object(A.n)(e.content)}}))(Ln);var Mn=n("MJbm"),Rn=n("NiY9"),Vn=n("DrMV"),Bn=n("7Py2"),Un=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderCaptionStyledError=function(e){var n=e.containerStyles,i=e.windowContainerStyles,a=e.windowStyles,o=e.textStyles;return r.createElement("div",{className:"player-captions-container",style:n},r.createElement("div",{className:"player-captions-container__caption-window",style:i},r.createElement("div",{style:a},r.createElement("p",{className:"player-captions-container__caption-line",style:o},t.getMessage()))))},t.renderUnstyledFallbackError=function(){return r.createElement(Gt.a,{display:qt.h.Flex,justifyContent:qt.m.Center},r.createElement(Gt.a,{color:qt.f.Overlay,position:qt.o.Absolute,attachBottom:!0,margin:3},r.createElement(Bn.a,null,t.getMessage())))},t.getMessage=function(){return Object(l.d)("The closed caption overlay has crashed. To re-enable captions, toggle closed captions off and on in the player, or refresh the page.","CaptionOverlay")},t}return Object(i.__extends)(t,e),t.prototype.render=function(){if(!this.props.captionsEnabled||!this.props.captionsAvailable)return null;var e;try{e=Yn(this.props.captionsStyle)}catch(e){return this.renderUnstyledFallbackError()}return this.renderCaptionStyledError(e)},t}(r.Component),qn=Object(s.d)(Object(Ke.e)((function(e){var t=e.captions;return{captionsAvailable:t.available,captionsEnabled:t.enabled,captionsStyle:t.style}})))(Un);var Gn;n("e1rX");!function(e){e.CaptionLine="caption-line"}(Gn||(Gn={}));var Hn=/\r?\n|\r/g;var Wn=Object.freeze(["top","bottom","fontSize"]),zn=Object.freeze(["alignItems"]);function Qn(e,t){return t.reduce((function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t}),{})}function Kn(e,t){return Object.getOwnPropertyNames(e).reduce((function(n,i){return t.includes(i)||(n[i]=e[i]),n}),{})}function Yn(e){var t,n,a,r,o,s=(n=(t=e).fontColorName,a=void 0===n?Rn.d.White:n,r=t.fontOpacity,o=void 0===r?Rn.j.Solid:r,{color:Rn.o(Rn.s[a],Rn.x[o].opacityValue),animation:Rn.x[o].animation}),l=function(e){var t=e.backgroundOpacity,n=void 0===t?Rn.j.Solid:t,i=e.backgroundColorName,a=void 0===i?Rn.a.Black:i;return Rn.o(Rn.n[a],Rn.x[n].opacityValue)}(e),c=function(e){var t=e.windowColorName,n=void 0===t?Rn.a.Transparent:t,i=e.windowOpacity,a=void 0===i?Rn.j.Solid:i;return{backgroundColor:Rn.o(Rn.n[n],Rn.x[a].opacityValue)}}(e),d=Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},e),s),Rn.u[e.font]),Rn.q[e.edge]),Rn.z[e.verticalPosition]),Rn.w[e.fontUnderline]),Rn.t[e.fontItalic]),Rn.r[e.fontBold]),Rn.m[e.alignment]),{backgroundColor:l});return{textStyles:Kn(d,Wn),containerStyles:Qn(d,Wn),windowContainerStyles:Qn(d,zn),windowStyles:c}}var $n=function(e){function t(t){var n=e.call(this,t)||this;return n.onCaption=function(e){var t,i;n.setState({data:(t=e,i=t.text,i&&i.length>0&&i.trim()?String(i).split(Hn):[])}),n.props.captionsAvailable||n.props.setClosedCaptionsAvailable(!0)},n.shouldShow=function(){return!n.props.error&&n.state.data.length&&n.props.captionsEnabled&&n.props.captionsAvailable},n.onResize=function(e){n.setState({width:e})},n.state={data:[],width:Object(Vn.a)(t.videoContainer).width||0},n}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(C.e.CAPTION,this.onCaption)},t.prototype.render=function(){if(!this.shouldShow())return null;var e=Yn(this.props.captionsStyle),t=e.containerStyles,n=e.textStyles,i=e.windowContainerStyles,o=e.windowStyles;return r.createElement(r.Fragment,null,r.createElement(Mn.a,{onResize:this.onResize,debounceMs:50}),r.createElement("div",{className:a("player-captions-container",{"player-captions-container__sm":this.state.width<=580}),style:t},r.createElement("div",{className:"player-captions-container__caption-window",style:i},r.createElement(r.Fragment,{key:this.state.data.join()},this.state.data.map((function(e,t){return r.createElement("div",{key:e+t,style:o},r.createElement("p",{style:n,className:"player-captions-container__caption-line","data-test-selector":Gn.CaptionLine},e))}))))))},t}(r.Component),Xn=Object(s.d)(Object(c.a)({name:"CaptionOverlay",content:r.createElement(qn,null)}),Object(Ke.e)((function(e){return{captionsAvailable:e.captions.available,captionsEnabled:e.captions.enabled,captionsStyle:e.captions.style,setClosedCaptionsAvailable:e.setClosedCaptionsAvailable,videoContainer:e.videoContainer}})),Object(y.a)(),Object(k.c)((function(e){return{error:!!e.error}})))($n);var Jn,Zn=n("Av26");!function(e){e.Unavailable="unavailable",e.Available="available",e.Connecting="connecting",e.Connected="connected"}(Jn||(Jn={}));var ei={castingState:Jn.Unavailable,deviceName:"",startCast:function(){return null},stopCast:function(){return null}},ti=Object(Zn.a)("ChromecastContext",ei,(function(e){return{chromecastContext:e}})),ni=ti.withMemoContext,ii=ti.context,ai=function(e){function t(t){var n=e.call(this,t)||this;return n.logger=n.props.logger.withCategory("chromecast-context"),n.startCast=function(){n.logger.info("Initating remote playback session via player core."),n.setState({castingState:Jn.Connecting}),n.props.mediaPlayerInstance&&n.props.mediaPlayerInstance.startRemotePlayback()},n.stopCast=function(){n.logger.info("Ending remote playback session with "+n.state.deviceName+" via player core."),n.props.mediaPlayerInstance&&n.props.mediaPlayerInstance.endRemotePlayback()},n.state=Object(i.__assign)(Object(i.__assign)({},ei),{startCast:n.startCast,stopCast:n.stopCast}),n}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;this.props.playerEvents.addEventListener(C.h.AVAILABLE,(function(){return e.setState({castingState:Jn.Available})})),this.props.playerEvents.addEventListener(C.h.UNAVAILABLE,(function(){return e.setState({castingState:Jn.Unavailable})})),this.props.playerEvents.addEventListener(C.h.SESSION_STARTED,(function(t){e.logger.info("Remote playback session started with a device named "+e.state.deviceName),e.setState({castingState:Jn.Connected,deviceName:t})})),this.props.playerEvents.addEventListener(C.h.SESSION_ENDED,(function(){return e.setState({castingState:Jn.Available})}))},t.prototype.render=function(){return r.createElement(ii.Provider,{value:this.state},this.props.children||null)},t}(r.Component),ri=Object(s.d)(Object(y.a)(),Object(k.c)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})))(ai);function oi(e){return e.castingState===Jn.Connected}var si=Object(s.d)(Object(c.a)({name:"ChromecastOverlay"}),ni((function(e){return{isCasting:oi(e),deviceName:e.deviceName}})))((function(e){return e.isCasting?r.createElement(an.a,{transparency:an.c.Transparency5,type:an.b.Fullscreen},r.createElement(Ht.a,{margin:{top:2},textAlign:qt.q.Center},r.createElement(tn.a,{fontSize:qt.k.Size4,bold:!0,lineHeight:tn.b.Heading,color:qt.f.Overlay},Object(l.d)("Now casting to {deviceName}",{deviceName:e.deviceName},"ChromecastOverlay")))):null}));var li={play:E.a.play,pause:E.a.pause,seek:E.a.seek,setVolume:E.a.setVolume,setMuted:E.a.setMuted,setQuality:E.a.setQuality,getPlayerMetadata:E.a.getPlayerMetadata,setClosedCaptionsEnabled:Ke.a.setClosedCaptionsEnabled},ci=Object(Zn.a)("PublicAPIContext",li,(function(e){return{publicAPIContext:e}})),di=ci.withMemoContext,ui=ci.context,pi=n("6zXJ"),mi=n("2JXh"),fi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(e){var n=t.props,i=n.content,a=n.isPlaying,r=n.muted,o=n.onPlayerClick,s=n.volume,l=n.publicAPI;o&&o({event:e,state:{currentVideoOffsetTimestamp:t.getCurrentVideoOffsetTimestamp(),isPlaying:a,muted:r,volume:s},api:l,content:i})},t.getCurrentVideoOffsetTimestamp=function(){var e=t.props,n=e.content,i=e.mediaPlayerInstance;return(Object(A.o)(n)||Object(A.t)(n)||Object(A.p)(n))&&i?Object(pi.a)(Math.floor(i.getPosition())):null},t.handleToggleFullscreen=function(){t.props.disableDoubleClickFullscreen||(t.props.isFullscreen?(t.trackFullscreenClick(),t.props.exitFullscreen()):(t.trackFullscreenClick(),t.props.enterFullscreen()))},t.trackFullscreenClick=function(){t.props.track(T.SpadeEventType.VideoPlayerClickFullscreen)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return r.createElement(mi.a,{position:qt.o.Absolute,attachTop:!0,attachBottom:!0,attachLeft:!0,attachRight:!0},r.createElement("div",{className:"click-handler","data-a-target":"player-overlay-click-handler",onDoubleClick:this.handleToggleFullscreen,onClick:this.onClick}))},t}(r.Component),vi=Object(s.d)(Object(c.a)({name:"ClickHandlerOverlay"}),Object(k.c)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),Object(Ke.e)((function(e){var t=e.enterFullscreen,n=e.exitFullscreen,i=e.isFullscreen;return{enterFullscreen:t,exitFullscreen:n,isFullscreen:i}})),Object(I.c)(),Object(E.e)((function(e){var t=e.isPlaying,n=e.muted,i=e.volume;return{isPlaying:t,muted:n,volume:i}})),Object(S.c)((function(e){var t=e.content,n=Object(_.a)({playerPublicPropsContext:e}).disableDoubleClickFullscreen,i=Object(_.b)({playerPublicPropsContext:e}).onPlayerClick;return{disableDoubleClickFullscreen:n,content:t,onPlayerClick:i}})),di((function(e){return{publicAPI:e}})),V.l)(fi);var gi,hi,bi=n("Mg72"),yi=n("LNol"),ki=5e3,Si="unmute_overlay",Ei=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={audioBlockedCTATimeoutElapsed:!1},t.setAudioBlockedCTATimeoutElapsed=function(){t.setState((function(e){return e.audioBlockedCTATimeoutElapsed?null:{audioBlockedCTATimeoutElapsed:!0}}))},t.handleClick=function(){t.props.setMuted(!1,{persist:!0,userTriggered:!0}),t.trackAutoMutedClick()},t.trackAutoMutedClick=function(){t.props.track(T.SpadeEventType.VideoPlayerClick,{component:Si})},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.overlayDuration>=0&&isFinite(this.props.overlayDuration)&&(this.visibleTimeout=setTimeout(this.setAudioBlockedCTATimeoutElapsed,this.props.overlayDuration))},t.prototype.componentWillUnmount=function(){clearTimeout(this.visibleTimeout)},t.prototype.render=function(){var e=this.props,t=e.canShow,n=e.initialMuted,i=e.muted,a=e.showOverlay,o=e.audioBlocked,s=e.userEverUnmuted;if(!t)return null;var c=!!i&&n&&a&&!s,d=o&&!this.state.audioBlockedCTATimeoutElapsed,u=c||d;return r.createElement(bi.a,{show:u,type:bi.d.Fade},r.createElement("div",{onClick:this.handleClick},r.createElement(an.a,{type:an.b.Fullscreen,transparency:an.c.Transparency5},r.createElement(yi.a,{asset:zt.a.Muted,height:35,width:35}),r.createElement(Ht.a,{margin:{top:2}},r.createElement(tn.a,{fontSize:qt.k.Size6,bold:!0,lineHeight:tn.b.Heading,color:qt.f.Overlay},Object(l.d)("Click to unmute","AutomatedMuteOverlay"))))))},t}(r.Component),Ci=Object(s.d)(Object(c.a)({name:"ClickToUnmuteOverlay"}),Object(E.e)((function(e){return{setMuted:e.setMuted}})),Object(k.c)((function(e){var t=e.audioBlocked,n=e.updateContext,i=e.muted,a=e.userEverUnmuted;return{audioBlocked:t,updateContext:n,muted:i,userEverUnmuted:a}})),Object(S.c)((function(e){var t,n,i,a=Object(_.a)({playerPublicPropsContext:e}).initialMuted;return{initialMuted:null!==(t=null==a?void 0:a.enabled)&&void 0!==t&&t,showOverlay:null!==(n=null==a?void 0:a.showOverlay)&&void 0!==n&&n,overlayDuration:null!==(i=null==a?void 0:a.overlayDuration)&&void 0!==i?i:ki}})),Object(I.c)())(Ei);!function(e){e.Clip="clip",e.Live="live_channel",e.VOD="vod"}(gi||(gi={})),function(e){e.Broadcaster="channel_popular_clips",e.Game="game_popular_clips",e.Top="popular_clips"}(hi||(hi={}));var Oi=2;function _i(e,t,n){var a=new URL(e),r=""!==a.search?$.parse(a.search):{};return a.search=$.stringify(Object(i.__assign)(Object(i.__assign)({},r),{tt_content:t,tt_medium:n})),a.toString()}function wi(e){return e?{channelLogin:e.login||"",displayName:e.displayName||e.login||""}:{channelLogin:"",displayName:""}}function Pi(e,t,n){return Object(i.__assign)(Object(i.__assign)({},wi(e.broadcaster)),{category:t,content:{channelLogin:e.broadcaster&&e.broadcaster.login||void 0,clipSlug:e.slug,type:U.a.Clip},durationSeconds:e.durationSeconds,gameName:e.game?e.game.displayName:"",itemID:e.id,imageUrl:e.thumbnailURL,title:e.title,tracking:{content:T.PageviewContent.ClipsRecommendClip,medium:n},type:gi.Clip,viewCount:e.viewCount})}function Ni(e,t){var n=[];if(!e.clip||!e.clip.broadcaster)return n;var a=wi(e.clip.broadcaster);return function(e){return!!(e.clip&&e.clip.broadcaster&&e.clip.broadcaster.stream&&e.clip.broadcaster.stream.id)}(e)&&n.push(Object(i.__assign)(Object(i.__assign)({},a),function(e,t){return{content:{channelLogin:e.login||"",type:U.a.Live},gameName:e.stream&&e.stream.game?e.stream.game.displayName:"",itemID:e.id||"",imageUrl:_i(e.stream&&e.stream.previewImageURL||"",T.PageviewContent.ClipsRecommendLiveImage,t),tracking:{content:T.PageviewContent.ClipsRecommendLive,medium:t},type:gi.Live}}(e.clip.broadcaster,t))),e.clip.video&&n.push(Object(i.__assign)(Object(i.__assign)({},a),function(e,t,n){var i=e.game?e.game.displayName:"";return{content:{videoOffset:t||void 0,vodID:e.id,type:U.a.VOD},durationSeconds:e.lengthSeconds||0,gameName:i,itemID:e.id,imageUrl:_i(e.previewThumbnailURL,T.PageviewContent.ClipsRecommendVODImage,n),tracking:{content:T.PageviewContent.ClipsRecommendVOD,medium:n},type:gi.VOD}}(e.clip.video,e.clip.videoOffsetSeconds,t))),n.length<Oi&&e.clip.relatedClips&&n.push.apply(n,function(e,t,n){var i=[];if(e.broadcaster){var a=e.broadcaster.map((function(e){return Pi(e,hi.Broadcaster,n)}));i.push.apply(i,a)}if(e.game&&i.length<t){var r=e.game.map((function(e){return Pi(e,hi.Game,n)}));i.push.apply(i,r)}if(e.top&&i.length<t){var o=e.top.map((function(e){return Pi(e,hi.Top,n)}));i.push.apply(i,o)}return i}(e.clip.relatedClips,Oi-n.length,t)),n.slice(0,Oi)}var Ti=n("hyVY"),Di=n("PFC+"),Ii=n("SVT/"),Ai=n("7fYk"),ji=n("JjwZ"),xi=(n("MLXT"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderOverlay=function(){var e=t.props.typeOverlay;return e?e.type===U.a.Live?r.createElement(Ht.a,{position:qt.o.Absolute,attachTop:!0,attachLeft:!0,margin:1},r.createElement(Gt.a,{fontSize:qt.k.Size4},r.createElement(Di.a,{label:Object(l.d)("LIVE","VideoPlayerVideoCard")}))):e.type===U.a.VOD?r.createElement(Ht.a,{position:qt.o.Absolute,attachTop:!0,attachLeft:!0,margin:1},r.createElement(Gt.a,{fontSize:qt.k.Size4},r.createElement(Ii.a,{icon:zt.a.Play},Object(Ti.b)(e.durationInSeconds)))):e.type===U.a.Clip?r.createElement(Ht.a,{position:qt.o.Absolute,attachTop:!0,attachLeft:!0,margin:1},r.createElement(Gt.a,{fontSize:qt.k.Size4},r.createElement(Ii.a,{icon:zt.a.Clip},Object(Ti.b)(e.durationInSeconds)))):void 0:null},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.video,n=e.onSelect,i=e.info,a=e.content,o=e.marginBottom,s=void 0===o?1:o,l=e.targetBlank,c=e.getContentUrl,d=e.trackingContext;return r.createElement(mi.a,{borderRadius:qt.e.Small,display:qt.h.Block,margin:{bottom:s},attachTop:!0,attachBottom:!0},r.createElement(Ai.a,{linkTo:c(a,d),targetBlank:l,className:"offline-recommendations-video-card",onClick:n},r.createElement("div",{className:"offline-recommendations-video-card-border-2"},r.createElement("div",{className:"offline-recommendations-video-card-border-3"},r.createElement("div",{className:"offline-recommendations-video-card-border-4"},r.createElement(ji.a,{className:"offline-recommendations-video-card-img",src:t.previewThumbnailURL,alt:t.title||""})))),i&&r.createElement(Gt.a,{padding:{bottom:1},textAlign:qt.q.Left,color:qt.f.Overlay,margin:{top:1}},i),this.renderOverlay()))},t}(r.Component)),Li=G()(xi),Fi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getTitle=function(e){switch(e.type){case gi.Live:return Object(l.d)("Watch {channelDisplayName} Live",{channelDisplayName:e.displayName},"ClipPostplayRecommendationCard");case gi.VOD:return Object(l.d)("Continue Watching","ClipPostplayRecommendationCard");case gi.Clip:return e.title;default:return""}},t.getSubtitle=function(e){if(e.type===gi.Clip){var t=Object(l.d)("{viewCount} views",{viewCount:e.viewCount},"ClipPostplayRecommendationCard");return e.gameName?t+"  "+e.gameName:t}return e.gameName?Object(l.d)("{channelDisplayName} playing {gameName}",{channelDisplayName:e.displayName,gameName:e.gameName},"ClipPostplayRecommendationCard"):e.type===gi.Live?Object(l.d)("{channelDisplayName} streaming on Twitch",{channelDisplayName:e.displayName},"ClipPostplayRecommendationCard"):e.type===gi.VOD?Object(l.d)("{channelDisplayName}'s video on Twitch",{channelDisplayName:e.displayName},"ClipPostplayRecommendationCard"):""},t.getTypeOverlay=function(e){switch(e.type){case gi.Live:return{type:U.a.Live};case gi.VOD:return{durationInSeconds:e.durationSeconds,type:U.a.VOD};case gi.Clip:return{durationInSeconds:e.durationSeconds,type:U.a.Clip};default:return}},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.recommendation,n=e.targetBlank,i=e.trackSelectionClick;return r.createElement(Li,{video:{previewThumbnailURL:t.imageUrl,title:this.getTitle(t)},content:t.content,onSelect:i,info:r.createElement(tn.a,{fontSize:qt.k.Size6,ellipsis:!0},this.getTitle(t),r.createElement("br",null),this.getSubtitle(t)),typeOverlay:this.getTypeOverlay(t),targetBlank:n,trackingContext:t.tracking})},t}(r.Component),Mi=Object(S.c)()(Fi);function Ri(e){return e&&e.clip&&e.clip.broadcaster&&e.clip.broadcaster.login||null}function Vi(e){return e&&e.clip&&e.clip.game&&e.clip.game.name||null}function Bi(e){return e&&e.clip&&e.clip.id||null}function Ui(e){return e.map((function(e){return e.type})).join(",")}function qi(e){return e.map((function(e){return e.type===gi.Clip?e.viewCount:"null"})).join(",")}function Gi(e){return{carousel_content:"similar_clips",section_index:0,source_channel:Ri(e),source_game:Vi(e),source_item_type:"clips",source_vod_id:Bi(e)}}var Hi=n("BBJN"),Wi=n("s+pF"),zi=n("TOKp"),Qi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.trackingItemSectionLoadSent=!1,t.handleTrackingItemSectionLoad=function(){var e,n;t.trackingItemSectionLoadSent||!t.props.data||t.props.data.loading||t.props.data.error||(t.props.track(T.SpadeEventType.ItemSectionLoad,Object(i.__assign)(Object(i.__assign)({},Gi(t.props.data)),{num_recs_visible:(e=Ni(t.props.data,t.props.medium)).length,rendered_item_count:e.length,rendered_item_list:(n=e,n.map((function(e){return e.itemID})).join(",")),rendered_items_types:Ui(e),rendered_items_viewcounts:qi(e)})),t.trackingItemSectionLoadSent=!0)},t.handleClickTrackGenerator=function(e){return function(){t.props.track(T.SpadeEventType.ItemSectionClick,Object(i.__assign)(Object(i.__assign)({},Gi(t.props.data)),{content:e.type===gi.Clip?e.category:null,channel:e.channelLogin,item_id:e.itemID,item_type:e.type,item_viewcount:e.type===gi.Clip?e.viewCount:null}))}},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.handleTrackingItemSectionLoad(),this.props.setRecommendationsShowing(!0)},t.prototype.componentDidUpdate=function(){this.handleTrackingItemSectionLoad(),this.props.setRecommendationsShowing(!0)},t.prototype.componentWillUnmount=function(){this.props.setRecommendationsShowing(!1)},t.prototype.render=function(){var e=this;if(!this.props.data||!this.props.data.clip)return null;var t=Ni(this.props.data,this.props.medium);return r.createElement(an.a,{transparency:an.c.Transparency1,type:an.b.Fullscreen},r.createElement(Ht.a,{className:"clip-postplay-recommendations",display:qt.h.Flex,flexWrap:qt.j.NoWrap,justifyContent:qt.m.Center,alignItems:qt.b.Center,margin:{x:1}},r.createElement(Hi.a,{justifyContent:qt.m.Center},t.map((function(t){return r.createElement(Wi.a,{cols:6,key:t.itemID},r.createElement(Mi,{recommendation:t,trackSelectionClick:e.handleClickTrackGenerator(t),targetBlank:e.props.isEmbedded}))})))))},t}(r.Component),Ki=Object(B.a)(zi,{options:function(e){var t;return{variables:{slug:null!==(t=e.clipSlug)&&void 0!==t?t:""}}},skip:function(e){return!e.clipSlug}}),Yi=Object(s.d)(Object(c.a)({name:"ClipPostplayRecommendations"}),Object(S.c)((function(e){var t,n=e.content,i=e.behaviors;return{clipSlug:Object(A.c)(n),isEmbedded:!!(null==i?void 0:i.embed),medium:null===(t=null==i?void 0:i.linkTrackingContext)||void 0===t?void 0:t.medium}})),Object(I.c)(),Ki,Object(Ke.e)((function(e){return{setRecommendationsShowing:e.setRecommendationsShowing}})))(Qi);var $i,Xi=n("mRg+"),Ji=n("X7Ac"),Zi=n("oC+A"),ea=n("MLDe"),ta=n("AU/8"),na=n("lywp"),ia="#twitchclips",aa=140,ra=23;function oa(e,t){void 0===t&&(t={});var n=t.title,i=t.broadcaster,a=n||"",r="";return!a&&i&&(a=Object(l.d)("Check out this clip from {broadcaster}'s broadcast",{broadcaster:i},"ClipShareOverlay")),a||(a=Object(l.d)("Check out this clip","ClipShareOverlay")),e===Ji.c.Twitter&&(r=" "+ia+" ",a=Object(na.b)(a,aa-ra-r.length)),a+r}!function(e){e.TwitterButton="clip-share-overlay__social-button-twitter",e.FacebookButton="clip-share-overlay__social-button-facebook",e.RedditButton="clip-share-overlay__social-button-reddit",e.EmbedButton="clip-share-overlay__social-button-embed"}($i||($i={}));var sa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getInputText=function(e){return Object(q.g)(e,{tt_medium:T.PageviewMedium.ClipsAPI,tt_content:T.PageviewContent.Url})},t.handleCopyClick=function(){return t.trackShareClick(Ji.c.Copy)},t.trackShareClick=function(e){t.props.track(T.SpadeEventType.VideoShare,{share_platform:ea.b[e],location:T.PageviewMedium.ClipsEmbed})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props.clipSlug;if(!e)return null;var t=Object(l.d)("Sharing is Caring","ClipShareOverlay"),n=this.getInputText(e),i=this.getClipMetaData(this.props);return r.createElement(an.a,{transparency:an.c.Transparency3,type:an.b.Fullscreen},r.createElement(Ht.a,{position:qt.o.Absolute,attachRight:!0,attachTop:!0,margin:{top:2,left:2,right:2}},r.createElement(Wt.a,{"aria-label":Object(l.d)("Close clip sharing dialog","AdstatsOverlay"),overlay:!0,icon:zt.a.Close,size:Wt.b.Large,onClick:this.props.toggleClipSharing})),r.createElement(bi.a,{show:!0,transitionInitialMount:!0,type:bi.d.SlideOverBottom},r.createElement(Ht.a,null,r.createElement(Ht.a,{textAlign:qt.q.Center},r.createElement(tn.a,{fontSize:qt.k.Size3},t)),r.createElement(Gt.a,{display:qt.h.Flex,padding:{top:2,bottom:2},justifyContent:qt.m.Center},r.createElement(Ji.a,{size:Ji.b.Large,type:Ji.c.Twitter,onShareClick:this.trackShareClick,"data-test-selector":$i.TwitterButton,url:Object(q.g)(e,{tt_content:T.PageviewContent.Url,tt_medium:T.PageviewMedium.SocialTwitter}),text:oa(Ji.c.Twitter,i)}),r.createElement(Ji.a,{size:Ji.b.Large,type:Ji.c.Facebook,onShareClick:this.trackShareClick,"data-test-selector":$i.FacebookButton,url:Object(q.g)(e,{tt_content:T.PageviewContent.Url,tt_medium:T.PageviewMedium.SocialFacebook})}),r.createElement(Ji.a,{size:Ji.b.Large,type:Ji.c.Reddit,onShareClick:this.trackShareClick,"data-test-selector":$i.RedditButton,url:Object(q.g)(e,{tt_content:T.PageviewContent.Url,tt_medium:T.PageviewMedium.SocialReddit}),text:oa(Ji.c.Reddit,i)}),r.createElement(Ji.a,{size:Ji.b.Large,type:Ji.c.Embed,clipSlug:e,embedModalType:Zi.b.Clip,"data-test-selector":$i.EmbedButton})),r.createElement(Gt.a,{padding:{top:2},display:qt.h.Flex,flexGrow:1,borderTop:!0},r.createElement(Xi.a,{initialText:n,onButtonClick:this.handleCopyClick,onInputClick:this.handleCopyClick,overlay:!0,readOnly:!0})))))},t.prototype.getClipMetaData=function(e){return{title:e.data&&e.data.clip&&e.data.clip.title||"",broadcaster:e.data&&e.data.clip&&e.data.clip.broadcaster&&e.data.clip.broadcaster.login||""}},t}(r.Component),la=Object(s.d)(Object(c.a)({name:"ClipShareOverlay"}),Object(Ke.e)((function(e){return{toggleClipSharing:e.toggleClipSharing}})),Object(S.c)((function(e){var t=e.content;return{clipSlug:Object(A.c)(t)}})),Object(B.a)(ta,{skip:function(e){return!e.clipSlug},options:function(e){var t;return{variables:{slug:null!==(t=e.clipSlug)&&void 0!==t?t:""}}}}),Object(I.c)())(sa);var ca=n("u5aL"),da=n("UUjt"),ua=n("SWSa"),pa=n("eK/n"),ma=n("4/2i"),fa=(n("h2/d"),function(e){var t=e.colors,n=e.onSelect;return r.createElement("div",{className:"closed-captions-settings-color-selector"},r.createElement(ma.a,{colors:t,onSelect:n}))}),va=n("afq6"),ga=function(e){return r.createElement(Ht.a,{margin:{y:1}},r.createElement(va.a,Object(i.__assign)({},e,{orientation:e.orientation||va.b.Vertical}),e.children))},ha=function(e){var t=e.leftSide,n=e.rightSide;return r.createElement(Hi.a,{gutterSize:Hi.b.Medium},r.createElement(Wi.a,{cols:{default:6}},t),r.createElement(Wi.a,{cols:{default:6}},n))},ba=function(e){var t=e.currentColor,n=e.currentOpacity,i=e.onSelectColor,a=e.onSelectOpacity,o=r.createElement(ga,{label:Object(ht.d)("Opacity","ClosedCaptionsSettingsBackgroundAndWindowTabs")},r.createElement(ya,{currentOpacity:n,onChange:a})),s=r.createElement(ga,{label:Object(ht.d)("Color","ClosedCaptionsSettingsBackgroundAndWindowTabs")},r.createElement(Sa,{currentColor:t,onSelect:i}));return r.createElement(ha,{leftSide:o,rightSide:s})},ya=function(e){var t=e.currentOpacity,n=e.onChange;return r.createElement(bn.a,{size:gn.c.Small,onChange:n,value:t},r.createElement("option",{value:Rn.j.Solid},Object(ht.d)("Solid","ClosedCaptionsSettingsBackgroundAndWindowTabs")),r.createElement("option",{value:Rn.j.Translucent},Object(ht.d)("Translucent","ClosedCaptionsSettingsBackgroundAndWindowTabs")))},ka=[Rn.a.Transparent,Rn.a.White,Rn.a.LightGray,Rn.a.Gray,Rn.a.DarkGray,Rn.a.Black,Rn.a.Green,Rn.a.Blue,Rn.a.Cyan,Rn.a.Magenta,Rn.a.Yellow,Rn.a.Red],Sa=function(e){var t=e.onSelect,n=e.currentColor;return r.createElement(fa,{onSelect:t,colors:ka.map((function(e){return{id:e,label:Object(pa.b)(e),cssValue:Object(Rn.o)(Rn.n[e],1),selected:n===e}}))})},Ea=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.setBackgroundColor=function(e){return t.props.setClosedCaptionsStyleProperty("backgroundColorName",e.id||"")},t.setBackgroundOpacity=function(e){return t.props.setClosedCaptionsStyleProperty("backgroundOpacity",e.currentTarget.value)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return r.createElement(ba,{currentColor:this.props.captions.style.backgroundColorName,currentOpacity:this.props.captions.style.backgroundOpacity,onSelectColor:this.setBackgroundColor,onSelectOpacity:this.setBackgroundOpacity})},t}(r.Component),Ca=(n("/wcb"),function(e){var t=e.children;return r.createElement(Ht.a,{className:"closed-captions-preview",display:qt.h.Flex},t)}),Oa=function(e){var t=e.fontSize,n=e.styles;return r.createElement(Ht.a,{display:qt.h.Flex,flexGrow:1,className:"closed-captions-style-preview"},r.createElement(Ut.a,{display:qt.h.Flex,alignItems:qt.b.Center,justifyContent:qt.m.Center,flexGrow:1},r.createElement("div",{style:Object(i.__assign)(Object(i.__assign)({},Yn(n).textStyles),{fontSize:t})},Object(ht.d)("Aa","ClosedCaptionSettingsStylePreview"))))},_a=n("oBNK"),wa=n("cBvd"),Pa=(n("QNb5"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.setEdgeEffect=function(e){var n=e.currentTarget.value;t.props.setEdgeEffect(n)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props.captionStyles;return r.createElement(ga,{label:Object(ht.d)("Effect","FontEdgeEffectSelector")},r.createElement(Ht.a,{display:qt.h.Flex,flexDirection:qt.i.Row,flexWrap:qt.j.Wrap},[Rn.e.None,Rn.e.Raised,Rn.e.Drop,Rn.e.Depressed,Rn.e.Uniform].map((function(n){return r.createElement(Ht.a,{key:n,margin:{right:1,bottom:1}},r.createElement(_a.a,{label:Na(n)},r.createElement(wa.a,{borderRadius:qt.e.Medium,checked:t.edge===n,type:wa.b.Radio,onChange:e.setEdgeEffect,value:n},r.createElement(Ca,null,n===Rn.e.None&&r.createElement("hr",{className:"font-edge-effect-selector__no-effect-indicator"}),r.createElement(Oa,{styles:Object(i.__assign)(Object(i.__assign)({},Rn.y[Rn.k.WhiteOnBlack]),{backgroundColorName:Rn.a.LightGray,edge:n}),fontSize:16})))))}))))},t}(r.Component));function Na(e){switch(e){case Rn.e.Depressed:return Object(ht.d)("Depressed","ClosedCaptionsSettingsFontEdgeEffectSelector");case Rn.e.Uniform:return Object(ht.d)("Uniform","ClosedCaptionsSettingsFontEdgeEffectSelector");case Rn.e.Drop:return Object(ht.d)("Drop","ClosedCaptionsSettingsFontEdgeEffectSelector");case Rn.e.Raised:return Object(ht.d)("Raised","ClosedCaptionsSettingsFontEdgeEffectSelector");case Rn.e.None:return Object(ht.d)("None","ClosedCaptionsSettingsFontEdgeEffectSelector");default:return""}}n("mDMT");var Ta=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.toggleFontBold=function(){t.props.setClosedCaptionsStyleProperty(Rn.h.Bold,t.props.captions.style.fontBold===Rn.c.Bold?Rn.c.Normal:Rn.c.Bold)},t.toggleFontUnderline=function(){t.props.setClosedCaptionsStyleProperty(Rn.h.Underline,t.props.captions.style.fontUnderline===Rn.i.Underline?Rn.i.None:Rn.i.Underline)},t.toggleFontItalic=function(){t.props.setClosedCaptionsStyleProperty(Rn.h.Italic,t.props.captions.style.fontItalic===Rn.g.Italic?Rn.g.Normal:Rn.g.Italic)},t.setFontEdgeEffect=function(e){t.props.setClosedCaptionsStyleProperty("edge",e)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props.captions.style,t=r.createElement(ga,{label:Object(ht.d)("Style","ClosedCaptionsSettingsEffectsTab")},r.createElement(Ht.a,{display:qt.h.Flex,flexDirection:qt.i.Row},r.createElement(Da,{name:Rn.h.Bold,checked:e.fontBold===Rn.c.Bold,toggleFontStyle:this.toggleFontBold},r.createElement(tn.a,{fontSize:qt.k.Size3,bold:!0},Object(ht.d)("B","ClosedCaptionsSettingsEffectsTab"))),r.createElement(Da,{name:Rn.h.Italic,checked:e.fontItalic===Rn.g.Italic,toggleFontStyle:this.toggleFontItalic},r.createElement(tn.a,{fontSize:qt.k.Size3,italic:!0},Object(ht.d)("I","ClosedCaptionsSettingsEffectsTab"))),r.createElement(Da,{name:Rn.h.Underline,checked:e.fontUnderline===Rn.i.Underline,toggleFontStyle:this.toggleFontUnderline},r.createElement(tn.a,{fontSize:qt.k.Size3,decoration:tn.c.Underline},Object(ht.d)("U","ClosedCaptionsSettingsEffectsTab")))));return r.createElement(ha,{leftSide:t,rightSide:r.createElement(Pa,{captionStyles:e,setEdgeEffect:this.setFontEdgeEffect})})},t}(r.Component),Da=function(e){var t=e.name,n=e.checked,i=e.children,a=e.toggleFontStyle;return r.createElement(Ht.a,{key:t,margin:{right:1,bottom:1}},r.createElement(_a.a,{label:Ia(t)},r.createElement(wa.a,{onChange:a,checked:n,type:wa.b.Checkbox,borderRadius:qt.e.Medium},r.createElement(Ht.a,{display:qt.h.Flex,alignItems:qt.b.Center,justifyContent:qt.m.Center,className:"font-style-selector"},i))))};function Ia(e){switch(e){case Rn.h.Bold:return Object(ht.d)("Bold","ClosedCaptionsSettingsFontStyleSelector");case Rn.h.Underline:return Object(ht.d)("Underline","ClosedCaptionsSettingsFontStyleSelector");case Rn.h.Italic:return Object(ht.d)("Italic","ClosedCaptionsSettingsFontStyleSelector");default:return""}}var Aa=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.setPreset=function(e){var n=e.currentTarget.value;t.props.setClosedCaptionsStylesPreset(n)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this;return r.createElement(Ht.a,{display:qt.h.Flex,flexWrap:qt.j.Wrap,margin:{top:1}},Object.entries(Rn.y).map((function(t){var n=t[0],i=t[1];return r.createElement(Ht.a,{key:n,margin:{right:1,bottom:1}},r.createElement(_a.a,{label:ja(n)},r.createElement(wa.a,{borderRadius:qt.e.Medium,checked:e.props.captions.preset===n,type:wa.b.Radio,onChange:e.setPreset,value:n},r.createElement(Ca,null,r.createElement(Oa,{styles:i,fontSize:14})))))})))},t}(r.Component);function ja(e){switch(e){case Rn.k.WhiteOnBlack:return Object(ht.d)("White on Black","ClosedCaptionsSettingsPresetTab");case Rn.k.BlackOnWhite:return Object(ht.d)("Black on White","ClosedCaptionsSettingsPresetTab");case Rn.k.CyanOnBlack:return Object(ht.d)("Cyan on Black","ClosedCaptionsSettingsPresetTab");case Rn.k.YellowOnBlack:return Object(ht.d)("Yellow on Black","ClosedCaptionsSettingsPresetTab");case Rn.k.LimeOnBlack:return Object(ht.d)("Lime on Black","ClosedCaptionsSettingsPresetTab");case Rn.k.MagentaOnBlack:return Object(ht.d)("Magenta on Black","ClosedCaptionsSettingsPresetTab");case Rn.k.WhiteOnTransBlack:return Object(ht.d)("White on Transparent Black","ClosedCaptionsSettingsPresetTab");case Rn.k.CyanOnTransBlack:return Object(ht.d)("Cyan on Transparent Black","ClosedCaptionsSettingsPresetTab");case Rn.k.YellowOnTransBlack:return Object(ht.d)("Yellow on Transparent Black","ClosedCaptionsSettingsPresetTab");case Rn.k.LimeOnTransBlack:return Object(ht.d)("Lime on Transparent Black","ClosedCaptionsSettingsPresetTab");case Rn.k.MagentaOnTransBlack:return Object(ht.d)("Magenta on Transparent Black","ClosedCaptionsSettingsPresetTab");default:return""}}var xa,La=n("ijG7"),Fa=(n("MR+c"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.setFontFamily=function(e){return t.props.setClosedCaptionsStyleProperty("font",e.currentTarget.value)},t.setFontOpacity=function(e){return t.props.setClosedCaptionsStyleProperty("fontOpacity",e.currentTarget.value)},t.setAlignment=function(e){return t.props.setClosedCaptionsStyleProperty("alignment",e.currentTarget.value)},t.setVerticalPosition=function(e){return t.props.setClosedCaptionsStyleProperty("verticalPosition",e.currentTarget.value)},t.setFontColor=function(e){return t.props.setClosedCaptionsStyleProperty("fontColorName",e.id||"")},t.setFontSize=function(e){return t.props.setClosedCaptionsStyleProperty("fontSize",Number(e.currentTarget.value))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=r.createElement(r.Fragment,null,r.createElement(ga,{label:Object(l.d)("Font","ClosedCaptionsSettingsTextTab")},r.createElement(Ba,{currentFontFamily:this.props.captions.style.font,onChange:this.setFontFamily})),r.createElement(ga,{label:Object(l.d)("Text Size","ClosedCaptionsSettingsTextTab")},r.createElement(qa,{currentFontSize:this.props.captions.style.fontSize,onChange:this.setFontSize,previewStyle:this.props.captions.style})),r.createElement(ga,{label:Object(l.d)("Color","ClosedCaptionsSettingsTextTab")},r.createElement(Ua,{currentFontColorName:this.props.captions.style.fontColorName,onSelect:this.setFontColor}))),t=r.createElement(r.Fragment,null,r.createElement(ga,{label:Object(l.d)("Alignment","ClosedCaptionsSettingsTextTab")},r.createElement(Va,{onChange:this.setAlignment,currentAlignment:this.props.captions.style.alignment})),r.createElement(ga,{label:Object(l.d)("Position","ClosedCaptionsSettingsTextTab")},r.createElement(Ma,{onChange:this.setVerticalPosition,currentVerticalPosition:this.props.captions.style.verticalPosition})),r.createElement(ga,{label:Object(l.d)("Opacity","ClosedCaptionsSettingsTextTab")},r.createElement(Ra,{onChange:this.setFontOpacity,currentOpacity:this.props.captions.style.fontOpacity})));return r.createElement(ha,{leftSide:e,rightSide:t})},t}(r.Component)),Ma=function(e){var t=e.onChange,n=e.currentVerticalPosition;return r.createElement(bn.a,{size:gn.c.Small,onChange:t,value:n},r.createElement("option",{value:Rn.l.Bottom},Object(l.d)("Bottom","ClosedCaptionsSettingsTextTab")),r.createElement("option",{value:Rn.l.Top},Object(l.d)("Top","ClosedCaptionsSettingsTextTab")))},Ra=function(e){var t=e.onChange,n=e.currentOpacity;return r.createElement(bn.a,{size:gn.c.Small,onChange:t,value:n},r.createElement("option",{value:Rn.j.Solid},Object(l.d)("Solid","ClosedCaptionsSettingsTextTab")),r.createElement("option",{value:Rn.j.Translucent},Object(l.d)("Translucent","ClosedCaptionsSettingsTextTab")),r.createElement("option",{value:Rn.j.SemiTransparent},Object(l.d)("Semi-Transparent","ClosedCaptionsSettingsTextTab")),r.createElement("option",{value:Rn.j.Flashing},Object(l.d)("Flashing","ClosedCaptionsSettingsTextTab")))},Va=function(e){var t=e.onChange,n=e.currentAlignment;return r.createElement(bn.a,{size:gn.c.Small,onChange:t,value:n},r.createElement("option",{value:Rn.b.Left},Object(l.d)("Left","ClosedCaptionsSettingsTextTab")),r.createElement("option",{value:Rn.b.Center},Object(l.d)("Center","ClosedCaptionsSettingsTextTab")),r.createElement("option",{value:Rn.b.Right},Object(l.d)("Right","ClosedCaptionsSettingsTextTab")))},Ba=function(e){var t=e.onChange,n=e.currentFontFamily;return r.createElement(bn.a,{size:gn.c.Small,onChange:t,value:n},r.createElement("option",{value:Rn.f.MonoSerif},Object(l.d)("Mono Serif","ClosedCaptionsSettingsTextTab")),r.createElement("option",{value:Rn.f.Serif},Object(l.d)("Serif","ClosedCaptionsSettingsTextTab")),r.createElement("option",{value:Rn.f.MonoSansSerif},Object(l.d)("Mono Sans-Serif","ClosedCaptionsSettingsTextTab")),r.createElement("option",{value:Rn.f.SansSerif},Object(l.d)("Sans-Serif","ClosedCaptionsSettingsTextTab")),r.createElement("option",{value:Rn.f.Casual},Object(l.d)("Casual","ClosedCaptionsSettingsTextTab")),r.createElement("option",{value:Rn.f.Cursive},Object(l.d)("Cursive","ClosedCaptionsSettingsTextTab")),r.createElement("option",{value:Rn.f.SmallCapitals},Object(l.d)("Small Capitals","ClosedCaptionsSettingsTextTab")))},Ua=function(e){var t=e.onSelect,n=e.currentFontColorName;return r.createElement(fa,{onSelect:t,colors:[Rn.d.White,Rn.d.Black,Rn.d.Red,Rn.d.Green,Rn.d.Cyan,Rn.d.Magenta,Rn.d.Yellow,Rn.d.Blue].map((function(e){return{id:e,label:Object(pa.b)(e),cssValue:Object(Rn.o)(Rn.s[e],1),selected:n===e}}))})},qa=function(e){var t=e.currentFontSize,n=e.onChange,i=e.previewStyle;return r.createElement(r.Fragment,null,r.createElement(Ht.a,{display:qt.h.Flex,alignItems:qt.b.Center},r.createElement(La.a,{min:Rn.v.min,max:Rn.v.max,step:Rn.v.increment,value:String(t),onChange:n}),r.createElement(Gt.a,{className:"closed-captions-settings-font-size__preview",display:qt.h.Flex,alignItems:qt.b.Center,justifyContent:qt.m.Center,padding:{left:.5}},r.createElement(Oa,{styles:i,fontSize:i.fontSize}))))},Ga=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.setWindowColor=function(e){return t.props.setClosedCaptionsStyleProperty("windowColorName",e.id||"")},t.setWindowOpacity=function(e){return t.props.setClosedCaptionsStyleProperty("windowOpacity",e.currentTarget.value)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return r.createElement(ba,{currentColor:this.props.captions.style.windowColorName,currentOpacity:this.props.captions.style.windowOpacity,onSelectColor:this.setWindowColor,onSelectOpacity:this.setWindowOpacity})},t}(r.Component);n("SSs3");!function(e){e[e.Presets=0]="Presets",e[e.Text=1]="Text",e[e.Effects=2]="Effects",e[e.Background=3]="Background",e[e.Window=4]="Window"}(xa||(xa={}));var Ha=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={activeTabIndex:xa.Presets},t.setClosedCaptionsStyleProperty=function(e,n){var i;t.props.setClosedCaptionsStyles(((i={})[e]=n,i))},t.closeSettings=function(){t.props.setClosedCaptionsSettingsShowing(!1)},t.setActiveTabIndex=function(e,n){t.setState({activeTabIndex:n})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return r.createElement(an.a,{type:an.b.Fullscreen,transparency:an.c.Transparency10},r.createElement(ca.a,{onClickOut:this.closeSettings},r.createElement(Gt.a,{background:qt.d.Base,color:qt.f.Base,className:"cc-settings-overlay__modal",padding:2},r.createElement(da.a,{title:Object(l.d)("Closed Caption Settings","ClosedCaptionsSettingsOverlay"),closeButton:{"aria-label":Object(l.d)("Close","ClosedCaptionsSettingsOverlay"),onClick:this.closeSettings}}),this.renderTabs(),this.renderContent())))},t.prototype.renderTabs=function(){return r.createElement(ua.b,{activeTabIndex:this.state.activeTabIndex,tabs:[{label:Object(l.d)("Presets","ClosedCaptionsSettingsOverlay"),onClick:this.setActiveTabIndex},{label:Object(l.d)("Text","ClosedCaptionsSettingsOverlay"),onClick:this.setActiveTabIndex},{label:Object(l.d)("Effects","ClosedCaptionsSettingsOverlay"),onClick:this.setActiveTabIndex},{label:Object(l.d)("Background","ClosedCaptionsSettingsOverlay"),onClick:this.setActiveTabIndex},{label:Object(l.d)("Window","ClosedCaptionsSettingsOverlay"),onClick:this.setActiveTabIndex}]})},t.prototype.renderContent=function(){switch(this.state.activeTabIndex){case xa.Presets:return r.createElement(Aa,{setClosedCaptionsStylesPreset:this.props.setClosedCaptionsStylesPreset,captions:this.props.captions});case xa.Text:return r.createElement(Fa,{setClosedCaptionsStyleProperty:this.setClosedCaptionsStyleProperty,captions:this.props.captions});case xa.Effects:return r.createElement(Ta,{setClosedCaptionsStyleProperty:this.setClosedCaptionsStyleProperty,captions:this.props.captions});case xa.Background:return r.createElement(Ea,{setClosedCaptionsStyleProperty:this.setClosedCaptionsStyleProperty,captions:this.props.captions});case xa.Window:return r.createElement(Ga,{setClosedCaptionsStyleProperty:this.setClosedCaptionsStyleProperty,captions:this.props.captions});default:return null}},t}(r.Component),Wa=Object(s.d)(Object(c.a)({name:"ClosedCaptionsSettingsOverlay"}),Object(Ke.e)((function(e){var t=e.captions,n=e.setClosedCaptionsSettingsShowing,i=e.setClosedCaptionsStyles,a=e.setClosedCaptionsStylesPreset;return{captions:t,setClosedCaptionsSettingsShowing:n,setClosedCaptionsStyles:i,setClosedCaptionsStylesPreset:a}})))(Ha);var za,Qa,Ka=n("yMEX"),Ya=function(){return r.createElement(Ka.a,{name:"CollectionEmptyOverlay"},r.createElement(Gt.a,{position:qt.o.Absolute,display:qt.h.Flex,flexDirection:qt.i.Column,justifyContent:qt.m.Center,alignItems:qt.b.Center,color:qt.f.Overlay,attachTop:!0,attachBottom:!0,attachLeft:!0,attachRight:!0,textAlign:qt.q.Center},r.createElement(tn.a,{fontSize:qt.k.Size4,bold:!0,lineHeight:tn.b.Heading,color:qt.f.Overlay},Object(l.d)("This collection is empty.","VideoPlayerCollectionEmptyOverlay"))))},$a=n("5zf8"),Xa=n("p9DJ"),Ja=n("p8fB"),Za=n("8h5J"),er=(n("7e2m"),400);function tr(e){return null!==e}function nr(){clearTimeout(za)}!function(e){e.Wrapper="collections-sidebar-wrapper",e.Title="collections-sidebar-title",e.Subtitle="collections-sidebar-subtitle",e.ItemIndex="collections-sidebar-item-index",e.ItemTitle="collections-sidebar-item-title",e.ItemOwner="collections-sidebar-item-owner"}(Qa||(Qa={}));var ir=Object(s.d)(Object(c.a)({name:"CollectionSidebarOverlay"}),Object(S.c)((function(e){var t=e.content,n=e.behaviors;return{skipQuery:!Object(A.p)(t)||!t.collectionID,collectionID:Object(A.p)(t)&&t.collectionID||"",vodID:Object(A.p)(t)&&t.vodID||void 0,openLinksExternally:null==n?void 0:n.openStreamInfoLinksExternally}})),Object(Ke.e)((function(e){var t=e.hideCollectionSidebar,n=e.isCollectionSidebarShowing;return{hideCollectionSidebar:t,isCollectionSidebarShowing:n}})),Object(E.e)((function(e){return{pause:e.pause}})),Object(B.a)(Za,{skip:function(e){return e.skipQuery},options:function(e){return{variables:{collectionID:e.collectionID}}}}),G())((function(e){var t,n=e.data,i=e.hideCollectionSidebar,a=e.vodID,o=e.isCollectionSidebarShowing,s=e.getContentUrl,c=e.openLinksExternally,d=e.pause,u=r.useCallback((function(){c&&d()}),[c,d]),p=n&&n.collection;if(!p)return null;var m=p.items&&p.items.edges.filter(tr),f=p.owner&&p.owner.displayName||"",v=p.lengthSeconds||0,g=p.title||"";if(!m)return null;var h=null!=a?a:null===(t=m[0])||void 0===t?void 0:t.node.id;return r.createElement("div",{"data-test-selector":Qa.Wrapper,className:Object(Bt.b)(Vt.a.Dark),onMouseLeave:function(){return function(e){za=setTimeout(e,er)}(i)},onMouseEnter:nr},r.createElement(mi.a,{className:"collections-sidebar",position:qt.o.Absolute,attachTop:!0,attachBottom:!0,attachLeft:!0,display:qt.h.Flex,flexDirection:qt.i.Column,background:qt.d.Base},r.createElement(bi.a,{show:o,type:bi.d.TranslateLeft},r.createElement(Gt.a,{position:qt.o.Absolute,attachRight:!0,attachTop:!0,padding:{right:1,top:1}},r.createElement(Wt.a,{"aria-label":Object(l.d)("Close collection listing","collections-sidebar"),icon:zt.a.Close,overlay:!0,onClick:i})),r.createElement(Gt.a,{padding:1,background:qt.d.Alt2},r.createElement(tn.a,{"data-test-selector":Qa.Title,color:qt.f.Overlay},g),r.createElement(tn.a,{"data-test-selector":Qa.Subtitle,color:qt.f.Alt2},Object(l.d)("by <x:link>{owner}</x:link>  {videos} videos  {timeText}",{owner:f,"x:link":function(e){var t,n,i=null===(t=p.owner)||void 0===t?void 0:t.profileURL;return!c&&(null===(n=p.owner)||void 0===n?void 0:n.login)&&(i="/"+p.owner.login),r.createElement(Xa.a,{linkTo:null!=i?i:"",targetBlank:c,onClick:u},e)},videos:p.items.totalCount,timeText:Object($a.b)(v)},"collections-sidebar"))),r.createElement(Gt.a,{borderRadius:qt.e.Medium,elevation:3,padding:1,border:!0,overflow:qt.n.Auto},m.map((function(e,t){var n=e.node;return r.createElement(Ja.a,{linkTo:s({type:U.a.Collection,vodID:n.id,collectionID:p.id}),onClick:i,key:n.id,borderRadius:qt.e.Medium,tabIndex:0,selected:h===n.id},r.createElement(Ht.a,{padding:{x:1,y:.5},display:qt.h.Flex,alignItems:qt.b.Center},r.createElement(Ht.a,{flexGrow:0,flexShrink:0,"data-test-selector":Qa.ItemIndex},r.createElement(tn.a,{className:"collections-sidebar-index",color:qt.f.Overlay},t+1)),r.createElement(Ht.a,{flexGrow:0,flexShrink:0},r.createElement("img",{alt:Object(l.d)("Thumbnail of one of the videos in the collection.","collections-sidebar"),src:n.previewThumbnailURL})),r.createElement(Ht.a,{flexGrow:1,flexShrink:1,padding:{left:1}},r.createElement(tn.a,{color:qt.f.Overlay,"data-test-selector":Qa.ItemTitle},n.title),r.createElement(tn.a,{color:qt.f.Alt2,ellipsis:!0,"data-test-selector":Qa.ItemOwner},f))))}))))))}));var ar=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.componentWillUnmount=function(){this.props.removeError()},t.prototype.render=function(){var e=function(e){switch(e){case C.a.GeoBlocked:return Object(ht.d)("This premium content is not available in your region. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case C.a.UnsupportedDevice:return Object(ht.d)("Your device does not support playback of this premium content. Please try a different device. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case C.a.AnonymizerBlocked:return Object(ht.d)("A proxy or unblocker has been detected. This premium content will not be available to you while it is in use. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case C.a.CellularNetworkProhibited:return Object(ht.d)("Please connect to a Wi-Fi network to watch this premium content. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case C.a.LVSCCUCap:case C.a.CCUCapReached:return Object(ht.d)("An error occurred. Please try again. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case C.a.Aborted:return Object(ht.d)("The video download was cancelled. Please try again. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case C.a.Network:return Object(ht.d)("There was a network error. Please try again. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case C.a.Decode:return Object(ht.d)("Your browser encountered an error while decoding the video. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case C.a.FormatNotSupported:return Object(ht.d)("This video is either unavailable or not supported in this browser. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case C.a.ContentNotAvailable:return Object(ht.d)("This video is unavailable. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case C.a.RendererNotAvailable:return Object(ht.d)("Your browser does not support playback of this video. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case C.a.SafariUnsupportedDevice:return Object(ht.d)("Safari is not currently supported for this stream. Please try Chrome or Firefox. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");default:return null}}(this.props.error);return e?r.createElement(fn.a,{iconProps:{type:vn.a.Empty},text:e}):null},t}(r.Component);var rr=Object(s.d)(Object(c.a)({name:"ErrorOverlay"}),Object(k.c)((function(e){return{error:e.error,removeError:e.removeError}})))(ar);var or,sr,lr,cr,dr=n("kRBY");!function(e){e.LINKED="linked",e.UNLINKED="unlinked",e.LINK_REQUESTED="link_requested",e.UNLINK_REQUESTED="unlink_requested"}(or||(or={})),function(e){e.VIEWER="viewer",e.BROADCASTER="broadcaster"}(sr||(sr={})),function(e){e.EXTENSIONS_NOT_LOADED="not loaded",e.EXTENSIONS_LOADED="loaded",e.EXTENSIONS_LOADING="loading",e.EXTENSIONS_RELOADING="reloading"}(lr||(lr={})),function(e){e[e.NONE=0]="NONE",e[e.INSTALL=1]="INSTALL",e[e.SETTINGS=2]="SETTINGS",e[e.REPORT=3]="REPORT",e[e.MANAGE_ACCESS=4]="MANAGE_ACCESS",e[e.UNRELEASED=5]="UNRELEASED",e[e.INFO=6]="INFO",e[e.FOLLOW=7]="FOLLOW",e[e.PURCHASE=8]="PURCHASE",e[e.LOGIN_REQUIRED=9]="LOGIN_REQUIRED",e[e.CONDITION_CONFIRMATION=10]="CONDITION_CONFIRMATION"}(cr||(cr={}));var ur,pr=function(e){return e.type===cr.FOLLOW},mr=function(e){return e.type===cr.PURCHASE},fr=function(e){return e.type===cr.LOGIN_REQUIRED},vr=function(e){return e.type===cr.CONDITION_CONFIRMATION};!function(e){e[e.NONE=0]="NONE",e[e.BITS_BALANCE=1]="BITS_BALANCE"}(ur||(ur={}));var gr,hr=function(e){return e.type===ur.BITS_BALANCE};!function(e){e[e.UniqueExtensionID=0]="UniqueExtensionID"}(gr||(gr={}));var br,yr,kr,Sr={overlayExtension:null,componentExtensions:[],shouldMountExtensionComponents:!1,allVideoExtensions:[],isChannelInfoVisible:!1,isOverlayVisible:!1,permissionsStates:{},setOverlayVisibility:function(){},setMenuState:function(e,t){},setPlayerMenuState:function(e,t){},setPermissionsState:function(e,t){},setNotification:function(e){},openPopover:function(e){},closePopover:function(e){},togglePopover:function(e){},hoverExtensionCard:function(e){},isMenuOpen:function(e){return!1},isPopoverOpen:function(e){return!1},isDockIconHovered:function(e){return!1},isAnyPopoverOpen:function(){return!1},getMenuState:function(e){return{type:cr.NONE}},getPlayerMenuState:function(){return{type:cr.NONE,selectedInstallationID:null}},getNotification:function(){return{type:ur.NONE}},hideExtensions:!0,trackEvent:function(e,t,n){}},Er=Object(Zn.a)("ExtensionsUIContext",Sr,(function(e){return{extensionsUIContext:e}})),Cr=Er.withMemoContext,Or=Er.context;!function(e){e.ToolbarLeftAngleIconClick="toolbar_left_angle_icon_click",e.ToolbarGearIconClick="toolbar_gear_icon_click",e.ToolbarXIconClick="toolbar_x_icon_click",e.MenuOptionClick="menu_option_click",e.ExtensionDockIconClick="dock_icon_click",e.ExtensionDockIconHover="dock_icon_hover"}(br||(br={})),function(e){e.MaximizeExtension="maximize_extension",e.MinimizeExtension="minimize_extension",e.BuildExtension="build_extension",e.ReportExtension="report_extension",e.ViewDetails="view_details",e.Grant="grant_access",e.Revoke="revoke_access",e.ViewMenu="view_menu",e.HideMenu="hide_menu",e.HideOverlay="hide_overlay",e.ViewOverlay="view_overlay",e.DisplayHoverInfo="display_hover_info"}(yr||(yr={})),function(e){e.ExtensionDockIconClick="extension_dock_icon_click",e.ExtensionDockToolbarIconClick="extension_dock_toolbar_icon_click",e.ExtensionDockMenuOptionClick="extension_dock_menu_option_click",e.ExtensionDockIconHover="extension_dock_icon_hover"}(kr||(kr={}));var _r=n("DWKZ"),wr=n("NO2N"),Pr=n("1hWM"),Nr=function(e){function t(t){return e.call(this,t)||this}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.arePlayerControlsVisible,n=e.game,a=e.theme,r=e.isVideoAdShowing,o=e.videoStats;Pr.extensionService.postContext(Object(i.__assign)({arePlayerControlsVisible:t,game:n,theme:a,isVideoAdShowing:r},o))},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.arePlayerControlsVisible,a=t.game,r=t.theme,o=t.isVideoAdShowing,s=e.game!==a,l=e.theme!==r,c=e.arePlayerControlsVisible!==n,d=e.isVideoAdShowing!==o;(s||l||c||d||this.didVideoStatsChange(e.videoStats))&&Pr.extensionService.postContext(Object(i.__assign)({arePlayerControlsVisible:n,game:a,theme:r,isVideoAdShowing:o},this.props.videoStats))},t.prototype.render=function(){return null},t.prototype.didVideoStatsChange=function(e){var t=this.props.videoStats;return e?!t||Object.keys(t).some((function(n){return t[n]!==e[n]})):!!t},t}(r.Component),Tr=function(e){function t(t){var n=e.call(this,t)||this;n.getVideoStatsContext=function(){var e=n.props,t=e.channelLogin,i=e.mediaPlayerInstance;return i?{bitrate:i.getVideoBitRate(),bufferSize:i.getBufferDuration(),displayResolution:i.getDisplayWidth()+"x"+i.getDisplayHeight(),hlsLatencyBroadcaster:i.getLiveLatency(),isFullScreen:n.props.isFullScreen,isPaused:n.isVideoPaused(),isTheatreMode:n.props.isTheatreMode,isMuted:n.props.muted,playerChannel:t,videoResolution:i.getVideoWidth()+"x"+i.getVideoHeight(),volume:n.props.volume}:null},n.updateVideoStatsContext=function(){var e=n.getVideoStatsContext();e&&n.setState({videoStats:e})},n.isVideoPaused=function(){var e=n.props,t=e.mediaPlayerInstance,i=e.isVideoAdShowing,a=e.isAdPlaying;return i?!a:!!t&&t.isPaused()};var i=n.getVideoStatsContext();return n.state=i?{videoStats:i}:{},n}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.videoContextUpdateInterval=setInterval(this.updateVideoStatsContext,1e3)},t.prototype.render=function(){var e=this.props,t=e.game,n=e.theme,i=e.isVideoAdShowing,a=e.arePlayerControlsVisible;return r.createElement(Nr,{game:t,theme:n,arePlayerControlsVisible:a,isVideoAdShowing:i,videoStats:this.state.videoStats})},t.prototype.componentWillUnmount=function(){clearInterval(this.videoContextUpdateInterval)},t}(r.Component);var Dr=Object(s.d)(Object(o.b)((function(e){return{isTheatreMode:e.ui.theatreModeEnabled,theme:Object(u.a)(e)}})),Object(k.c)((function(e){var t=e.mediaPlayerInstance,n=e.volume,i=e.muted;return{mediaPlayerInstance:t,volume:n,muted:i}})),Object(Ke.e)((function(e){return{isFullScreen:e.isFullscreen}})),Object(S.c)((function(e){var t=e.content;return{channelLogin:Object(A.b)(t)||""}})))(Tr);var Ir=n("lZCe"),Ar={"0qr7fa6llzn4txgnfgb8ipeksd5v24":{useWEBM:!1,overriddenViewerSummary:"Mouse over the streamer's cards on the video to see the full card in hi-res!"},"2d2vfk9d8utgo0e9abb4j8p8po70ym":{useWEBM:!1,overriddenViewerSummary:"Mouse over the video to the see the decklist being played, and mouse over cards in the decklist to see their art and details."},"7hoqd16sufw9f9h3swlkdt6lqdn3ud":{useWEBM:!1,overriddenViewerSummary:"Click the purple icon on the video to see this streamer's favorite streaming gear and other products from Amazon."},apwln3g3ia45kk690tzabfp525h9e1:{useWEBM:!0,overriddenViewerSummary:"Mouse over minions, heroes and secrets to view the full card art, see the deck the streamer is currently playing and import it into Hearthstone!"},fozlqfmrrdtastjnfxw3pmnqto9zns:{useWEBM:!0,overriddenViewerSummary:"Click the purple icon on the video to see the streamers gear, view details on perks, get class info, and more."},"07kczqwdkjxw6la4j92crc5wyumjxa":{useWEBM:!0,overriddenViewerSummary:"Mouse over the logo on the left side of the stream to inspect the streamer's Vault Hunter profile, gear and skills, earn loot discovered in rare chests, and control the game with badass events!"},fdpp9vcx5bsz8osxvqii4i9cumwswd:{useWEBM:!0,overriddenViewerSummary:"Mouse over the left side of the stream to see the streamer's current gear in real-time."},d0j6f4h633ds71x7mg5pm7uytj2yi8:{useWEBM:!0,overriddenViewerSummary:"Click the deck icon on the left side of the video to see each player's decklist. Mouse over cards in the decklist to see their image and rules text."},d4uvtfdr04uq6raoenvj7m86gdk16v:{useWEBM:!1,overriddenViewerSummary:"Click the blue Prime icon on the video to see what subscriptions & benefits you have available on this channel."},"9coq5ejlddcho3k014joup6mr2lras":{useWEBM:!1,overriddenViewerSummary:"Click the helmet icon on the video to see the live map, drop, skirmish, loot and load-out details."},b761gcvkac6qbwo26ededwf9sluqh0:{useWEBM:!1,overriddenViewerSummary:"Click the red button on the video to view the streamer's current talents, gear and stats."},zfh2irvx2jb4s60f02jq0ajm8vwgka:{useWEBM:!1,overriddenViewerSummary:"Click the streamer's icon on the video to uncover actions they've enabled - like song requests, scratchers and more."},vysfim0ck7k5a65fcr0d0t1x5jllpq:{useWEBM:!0,overriddenViewerSummary:"Click the League of Legends icon on the video to see live game details like the current scoreboard, summoners, build and game history."}},jr=n("mDIl"),xr=n("YQhk"),Lr=n("4Nlk"),Fr=n("wGMF"),Mr=3e3;function Rr(e){var t=e.activationConfig.slot.match(/\d+/)||[];return parseInt(t[0],10)}function Vr(e){return e.activationConfig.anchor===Pr.ExtensionAnchor.Overlay}function Br(e){return e.activationConfig.anchor===Pr.ExtensionAnchor.Component}var Ur=150,qr=175,Gr=75,Hr=75,Wr=1,zr=30,Qr=70,Kr=100,Yr=75+Wr+Wr,$r=1e4;function Xr(e,t,n,i,a){var r={height:t,width:n},o={height:Math.max(t,Ur),width:Math.max(n,qr)},s={height:e?o.height:r.height,width:e?o.width:r.width},l=s.height+zr;return{offset:Math.floor(0-l/2),canRender:o.height<=i&&o.height>Gr&&(o.width<=a&&o.width>=Hr),extensionSize:r,popoverContentSize:s}}var Jr={offset:0,shouldShow:!1,extensionSize:{height:0,width:0},popoverContentSize:{height:0,width:0},zoom:1};var Zr=142,eo=80,to=59,no=.25,io={shouldShow:!1,height:0,xOffset:0,zoom:1};function ao(e){var t={identityLinkedStatus:or.UNLINKED,role:sr.VIEWER};try{var n=JSON.parse(atob(e.split(".")[1]));return{identityLinkedStatus:n&&n.user_id?or.LINKED:or.UNLINKED,role:n&&n.role===sr.BROADCASTER?sr.BROADCASTER:sr.VIEWER}}catch(e){return t}}function ro(e){return ao(e.extension.token).role===sr.BROADCASTER}var oo=function(e){return e.id+"-"+e.extension.version},so=function(e,t){return t[oo(e)]||{}},lo=function(e,t){var n=t[oo(e)],i=e.extension.state===Pr.ExtensionState.Released,a=n&&n.unreleasedAccepted;return!(!i&&!a)},co=function(e){var t=e.extension;return"https://twitch.tv/ext/"+t.id+"-"+t.version},uo=(n("kWYQ"),"19px"),po=function(e){function t(t){var n=e.call(this,t)||this;return n.renderMenuOpenStatus=function(e){return r.createElement(Gt.a,{alignItems:qt.b.Center},r.createElement(Gt.a,{className:a("extensions-dock-card__menu-status",e&&"extensions-dock-card__menu-status__visible"),margin:{right:.5,left:.5}}))},n.renderCardImage=function(e){var t=n.props.installation,o=n.state.iconUrls,s=""+t.activationConfig.anchor[0].toUpperCase()+Rr(t),l=!o.length,c=r.createElement("div",{onClick:n.handleClick,onMouseEnter:n.handleMouseOver,onMouseLeave:n.handleMouseOut,className:a("extensions-dock-card__image",e&&"extensions-dock-card__image__visible",l&&"extensions-dock-card__image__fallback")},l?r.createElement(Ht.a,{display:qt.h.Flex,alignItems:qt.b.Center,justifyContent:qt.m.Center},r.createElement(yi.a,{height:30,width:30,asset:zt.a.Extensions,type:yi.b.Brand})):r.createElement(ji.a,{src:o[o.length-1],alt:s,onError:n.onImageLoadFail,className:a("extensions-dock-card__image__img")})),d={assignments:{fallback:function(){return r.createElement(_a.a,{direction:_a.c.Left,align:_a.b.Right,label:t.extension.name,offsetX:uo},c)},active:function(){return c}},name:"extension_overlay_improvement"};return r.createElement(Ir.a,Object(i.__assign)({},d))},n.renderHoverInfo=function(){var e,t=n.props.installation.extension,a=t.viewerSummary,o=t.name,s=t.id,l=(null===(e=Ar[s])||void 0===e?void 0:e.overriddenViewerSummary)||a,c=r.createElement(jr.a,{background:qt.d.Overlay,size:xr.a.Medium,show:n.props.isHovered&&!n.props.isPopoverOpen,direction:Lr.b.LeftCenter},r.createElement(Gt.a,{padding:2},r.createElement(Fr.a,null,o),r.createElement(tn.a,null,l))),d={assignments:{fallback:function(){return null},active:function(){return c}},name:"extension_overlay_improvement"};return r.createElement(Ir.a,Object(i.__assign)({},d))},n.installationIsVisible=function(){var e=n.props,t=e.installation,i=e.isOverlayVisible,a=e.isPopoverOpen,r=i&&Vr(t),o=a&&Br(t);return r||o},n.handleClick=function(){var e,t=n.props,i=t.installation,a=t.togglePopover,r=t.trackEvent,o=t.isPopoverOpen,s="video_overlay"===i.activationConfig.anchor;e=s?o?yr.HideMenu:yr.ViewMenu:o?yr.MinimizeExtension:yr.MaximizeExtension,r(br.ExtensionDockIconClick,e,kr.ExtensionDockIconClick,i),s&&n.isOverlayExperimentActive?n.toggleExtensionInfo():a(i)},n.handleMouseOver=function(){n.props.hoverExtensionCard(n.props.installation)},n.handleMouseOut=function(){n.props.hoverExtensionCard(null)},n.onImageLoadFail=function(){n.setState((function(e){var t=e.iconUrls;return{iconUrls:t.slice(0,t.length-1)}}))},n.getIconUrls=function(e){var t=e.extension.iconUrls.square100,n=[];return t&&n.push(t),n},n.toggleExtensionInfo=function(){var e=n.props,t=e.installation,i=e.isInfoOpen,a=e.setMenuState,r=e.permissionsStates;a(lo(t,r)?i?{type:cr.NONE}:{type:cr.INFO}:{type:cr.UNRELEASED},t)},n.state={iconUrls:n.getIconUrls(n.props.installation)},n}return Object(i.__extends)(t,e),Object.defineProperty(t.prototype,"isOverlayExperimentActive",{get:function(){return"active"===l.p.experiments.getAndTrackAssignment("extension_overlay_improvement")},enumerable:!0,configurable:!0}),t.prototype.componentDidUpdate=function(e){oo(e.installation)!==oo(this.props.installation)&&this.setState({iconUrls:this.getIconUrls(this.props.installation)})},t.prototype.render=function(){var e=this.installationIsVisible();return r.createElement(r.Fragment,null,r.createElement(Gt.a,{margin:{left:0,bottom:1,top:0,right:1},borderRadius:qt.e.Medium,className:a("extensions-dock-card",Object(Bt.b)(Vt.a.Light)),display:qt.h.Flex,alignItems:qt.b.Center},this.renderMenuOpenStatus(e),this.renderCardImage(e)),this.renderHoverInfo())},t}(r.Component),mo=Cr((function(e,t){var n=e.isOverlayVisible,i=e.isPopoverOpen,a=e.togglePopover,r=e.hoverExtensionCard,o=e.isDockIconHovered,s=e.permissionsStates,l=e.trackEvent,c=e.setMenuState,d=e.getMenuState;return{isOverlayVisible:n,isInfoOpen:d(t.installation).type===cr.INFO,isPopoverOpen:i(t.installation),isHovered:o(t.installation),permissionsStates:s,togglePopover:a,hoverExtensionCard:r,trackEvent:l,setMenuState:c}}))(po);n("RlCF");var fo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return r.createElement(Gt.a,{padding:{top:1,left:1,right:1,bottom:0},fullHeight:!0,fullWidth:!0,position:qt.o.Absolute,display:qt.h.Flex,flexDirection:qt.i.Column,alignItems:qt.b.Center,overflow:qt.n.Auto,fontSize:qt.k.Size6,className:a(this.props.className,"extensions-popover-view-layout")},r.createElement(Ht.a,{className:a("extensions-popover-view-layout__body")},this.props.children))},t}(r.Component),vo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClose=function(){var e=t.props,n=e.installation;(0,e.setMenuState)({type:cr.NONE},n)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return r.createElement(fo,null,r.createElement(Ht.a,{margin:{y:1}},r.createElement(tn.a,null,Object(l.d)("You must be logged in to use this extension feature.","ExtensionsPopoverViewLoggedOutContainer"))),r.createElement(Gt.a,{fullWidth:!0,display:qt.h.Flex,flexWrap:qt.j.Wrap,justifyContent:qt.m.End,margin:{y:1}},r.createElement(Ht.a,{margin:{bottom:1}},r.createElement(yn.a,{type:yn.d.Secondary,onClick:this.handleClose},Object(l.d)("Close","ExtensionsPopoverViewLoggedOutContainer")))))},t}(r.Component),go=Cr((function(e){return{setMenuState:e.setMenuState}}))(vo);var ho=n("XbLr"),bo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cancelCondition=function(){var e=t.props,n=e.setMenuState,i=e.menuState,a=e.installation;vr(i)&&(i.confirmationRequest.resultCallback({acceptedCondition:!1,conditionParticipantId:null}),n({type:cr.NONE},a))},t.confirmCondition=function(){var e=t.props,n=e.setMenuState,i=e.menuState,a=e.installation;vr(i)&&(i.confirmationRequest.resultCallback({acceptedCondition:!0,conditionParticipantId:null}),n({type:cr.NONE},a,!0))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.menuState,n=e.installation;if(!vr(t))return null;var i=t.confirmationRequest.options;return r.createElement(fo,null,r.createElement(ho.a,{cancelCondition:this.cancelCondition,confirmCondition:this.confirmCondition,conditionId:i.conditionId,conditionOwnerId:i.conditionOwnerId,confirmBitsAmount:i.bitsAmount,extensionId:n.extension.id,extensionName:n.extension.name,extensionVersion:n.extension.version}))},t}(r.Component),yo=Cr((function(e,t){var n=e.getMenuState,i=e.setMenuState;return{menuState:n(t.installation),setMenuState:i}}))(bo);var ko=n("wzJM"),So=n("KtUD"),Eo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={notifications:!0},t.cancelLabel=Object(l.d)("Cancel","ExtensionsPopoverViewFollowContainer"),t.handleCancel=function(){var e=t.props,n=e.installation,i=e.menuState,a=e.setMenuState;pr(i)&&a({type:cr.NONE},n)},t.handleFollow=function(){var e=t.props,n=e.installation,i=e.menuState,a=e.setMenuState;pr(i)&&(i.confirmationRequest.resultCallback({didFollow:!0,notifications:t.state.notifications}),a({type:cr.NONE},n,!0))},t.handleNotificationsToggle=function(){t.setState({notifications:!t.state.notifications})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props.menuState;if(!pr(e))return null;var t=e.confirmationRequest.options,n=t.channel||"";return r.createElement(fo,null,t.isFollowing?this.renderAlreadyFollowed(n):this.renderMain(n))},t.prototype.renderMain=function(e){return r.createElement(r.Fragment,null,r.createElement(Ht.a,{margin:{y:1}},r.createElement(tn.a,null,Object(l.d)("You are about to follow {channel}",{channel:e||""},"ExtensionsPopoverViewFollowContainer"))),r.createElement(Gt.a,{fullWidth:!0,display:qt.h.Flex,flexWrap:qt.j.WrapReverse,justifyContent:qt.m.Center,margin:{y:1}},r.createElement(Ht.a,{flexGrow:1,margin:{bottom:1,x:.5}},r.createElement(yn.a,{fullWidth:!0,size:yn.b.Small,type:yn.d.Secondary,onClick:this.handleCancel},this.cancelLabel)),r.createElement(Ht.a,{flexGrow:1,margin:{bottom:1,x:.5}},r.createElement(yn.a,{fullWidth:!0,size:yn.b.Small,type:yn.d.Primary,onClick:this.handleFollow},Object(l.d)("Follow","ExtensionsPopoverViewFollowContainer")))),r.createElement(Ht.a,{margin:{y:1}},r.createElement(ko.a,null),r.createElement(So.a,{type:So.b.Toggle,label:Object(l.d)("Allow Notifications","ExtensionsPopoverViewFollowContainer"),onChange:this.handleNotificationsToggle,checked:this.state.notifications})),r.createElement(Ht.a,{margin:{y:1}},r.createElement(tn.a,null,Object(l.d)("Receive updates on this channel's activity, including when they go live, upload new videos or clips, on mobile, email, and web.","ExtensionsPopoverViewFollowContainer"))))},t.prototype.renderAlreadyFollowed=function(e){return r.createElement(r.Fragment,null,r.createElement(Ht.a,{margin:{y:1}},r.createElement(tn.a,null,Object(l.d)("You are already following {channel}",{channel:e||""},"ExtensionsPopoverViewFollowContainer"))),r.createElement(Gt.a,{fullWidth:!0,display:qt.h.Flex,flexDirection:qt.i.Row,justifyContent:qt.m.Center,margin:{y:1}},r.createElement(Ht.a,{flexGrow:1},r.createElement(yn.a,{fullWidth:!0,size:yn.b.Small,type:yn.d.Secondary,onClick:this.handleCancel},this.cancelLabel))))},t}(r.Component),Co=Cr((function(e,t){var n=e.getMenuState,i=e.setMenuState;return{menuState:n(t.installation),setMenuState:i}}))(Eo);var Oo=n("6tZN"),_o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleCancel=function(){var e=t.props,n=e.installation;(0,e.setMenuState)({type:cr.NONE},n)},t.handleToggleAccess=function(){var e=t.props,n=e.installation,i=e.setMenuState,a=e.setPermissionsState,r=e.trackEvent,o=e.permissionsStates,s=so(n,o),l=s.identityLinkedStatus,c=s.linkIdentity,d=s.unlinkIdentity,u=l===or.UNLINKED?or.LINK_REQUESTED:or.UNLINK_REQUESTED;a(n,{identityLinkedStatus:u}),u===or.LINK_REQUESTED&&c&&c(),u===or.UNLINK_REQUESTED&&d&&d(),r(br.MenuOptionClick,u===or.UNLINK_REQUESTED?yr.Revoke:yr.Grant,kr.ExtensionDockMenuOptionClick,n),i({type:cr.NONE},n)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.installation,n=e.permissionsStates,i=so(t,n);if(!i||!i.identityLinkedStatus)return null;var a=i.identityLinkedStatus===or.LINKED||i.identityLinkedStatus===or.LINK_REQUESTED,o=i.identityLinkedStatus===or.LINK_REQUESTED||i.identityLinkedStatus===or.UNLINK_REQUESTED;return r.createElement(fo,null,r.createElement(Ht.a,{margin:{y:1}},r.createElement(tn.a,null,Object(l.d)("You are granting this Developer access to your Twitch user ID.","ExtensionsPopoverViewManageAccessContainer"))),r.createElement(Ht.a,{margin:{y:1}},r.createElement(tn.a,null,Object(l.d)("Allow this extension to know your user ID on Twitch.","ExtensionsPopoverViewManageAccessContainer"))),r.createElement(Ht.a,{margin:{y:1}},r.createElement(Oo.a,{label:Object(l.d)("Manage Permissions","ExtensionsPopoverViewManageAccessContainer"),figure:{icon:zt.a.PermissionsRemove},linkTo:"https://www.twitch.tv/settings/connections",targetBlank:!0})),r.createElement(Gt.a,{fullWidth:!0,display:qt.h.Flex,flexDirection:qt.i.Row,flexWrap:qt.j.WrapReverse,justifyContent:qt.m.End,margin:{y:1}},r.createElement(Ht.a,{flexGrow:1,margin:{bottom:1,x:.5}},r.createElement(yn.a,{fullWidth:!0,size:yn.b.Small,type:yn.d.Secondary,onClick:this.handleCancel},Object(l.d)("Cancel","ExtensionsPopoverViewManageAccessContainer"))),r.createElement(Ht.a,{flexGrow:1,margin:{bottom:1,x:.5}},r.createElement(yn.a,{fullWidth:!0,size:yn.b.Small,type:yn.d.Primary,onClick:this.handleToggleAccess,disabled:o},a?Object(l.d)("Revoke","ExtensionsPopoverViewManageAccessContainer"):Object(l.d)("Grant","ExtensionsPopoverViewManageAccessContainer")))))},t}(r.Component),wo=Cr((function(e){var t=e.permissionsStates,n=e.setPermissionsState,i=e.setMenuState,a=e.trackEvent;return{permissionsStates:t,setPermissionsState:n,setMenuState:i,trackEvent:a}}))(_o);var Po=n("VeT4"),No=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleCancel=function(){var e=t.props,n=e.installation;(0,e.setMenuState)({type:cr.NONE},n)},t.handleConfirm=function(){var e=t.props,n=e.installation,i=e.menuState,a=e.setMenuState;mr(i)&&(i.confirmationRequest.resultCallback({didConfirm:!0,didUseBits:!1}),a({type:cr.NONE},n,!0))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.labelPurchaseIntent,n=e.labelCancel,i=e.labelConfirm,a=e.labelProductName,o=e.labelRemainingBalance,s=e.labelDisclaimer;return r.createElement(fo,null,r.createElement(Ht.a,{margin:{y:1}},r.createElement(tn.a,null,t)),r.createElement(Ht.a,{margin:{y:1}},r.createElement(tn.a,null,a)),r.createElement(Ht.a,{margin:{y:1}},r.createElement(tn.a,null,o)),r.createElement(Ht.a,{margin:{y:1}},r.createElement(tn.a,{fontSize:qt.k.Size8,color:qt.f.Alt2},s)),r.createElement(Gt.a,{fullWidth:!0,display:qt.h.Flex,flexDirection:qt.i.Row,flexWrap:qt.j.WrapReverse,justifyContent:qt.m.Center,margin:{y:1}},r.createElement(Ht.a,{flexGrow:1,margin:{bottom:1,x:.5}},r.createElement(yn.a,{fullWidth:!0,size:yn.b.Small,type:yn.d.Secondary,onClick:this.handleCancel},n)),r.createElement(Ht.a,{flexGrow:1,margin:{bottom:1,x:.5}},r.createElement(yn.a,{fullWidth:!0,size:yn.b.Small,type:yn.d.Primary,onClick:this.handleConfirm},i))))},t}(r.Component),To=Cr((function(e,t){var n=e.getMenuState,i=e.setMenuState;return{menuState:n(t.installation),setMenuState:i}}))(No);var Do="https://www.twitch.tv/bits",Io=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleCancel=function(){var e=t.props,n=e.installation;(0,e.setMenuState)({type:cr.NONE},n)},t.handleBuyBits=function(){window.open(Do)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.labelPurchaseIntent,n=e.labelPurchaseAmount,i=e.labelCancel,a=e.labelProductName,o=e.labelBuyBits;return r.createElement(fo,null,r.createElement(Ht.a,{margin:{y:1}},r.createElement(tn.a,null,t)),r.createElement(Ht.a,{margin:{y:1}},r.createElement(tn.a,null,a)),r.createElement(Ht.a,{margin:{y:1}},r.createElement(tn.a,null,n)),r.createElement(Gt.a,{fullWidth:!0,display:qt.h.Flex,flexDirection:qt.i.Row,flexWrap:qt.j.WrapReverse,justifyContent:qt.m.Center,margin:{y:1}},r.createElement(Ht.a,{flexGrow:1,margin:{bottom:1,x:.5}},r.createElement(yn.a,{fullWidth:!0,size:yn.b.Small,type:yn.d.Secondary,onClick:this.handleCancel},i)),r.createElement(Ht.a,{flexGrow:1,margin:{bottom:1,x:.5}},r.createElement(yn.a,{fullWidth:!0,size:yn.b.Small,onClick:this.handleBuyBits},o))))},t}(r.Component),Ao=Cr((function(e){return{setMenuState:e.setMenuState}}))(Io);var jo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.installation,n=(0,e.getMenuState)(t);if(!mr(n))return null;var a=n.confirmationRequest.options.payload;if(!a)return null;var o=a.bitsRequired||0,s=a.bitsBalance-o,c=r.createElement(tn.a,{fontSize:qt.k.Size5,bold:!0},a.extensionItemLabel," ",r.createElement(Po.a,{withImage:!0,animated:!1,count:o}),o),d={labelPurchaseIntent:Object(l.d)("You are trying to get","ExtensionsPopoverViewPurchaseContainer"),labelCancel:Object(l.d)("Cancel","ExtensionsPopoverViewPurchaseContainer"),labelProductName:c,installation:t};if(s<0){var u=r.createElement(tn.a,{type:tn.e.Span},r.createElement(Po.a,{withImage:!0,animated:!1,count:-s}),-s),p=Object(i.__assign)(Object(i.__assign)({},d),{labelPurchaseAmount:Object(l.d)("You need {bitsRequired} to get this item.",{bitsRequired:u},"ExtensionsPopoverViewPurchaseContainer"),labelBuyBits:Object(l.d)("Buy Bits","ExtensionsPopoverViewPurchaseContainer")});return r.createElement(Ao,Object(i.__assign)({},p))}var m=r.createElement(tn.a,{type:tn.e.Span},r.createElement(Po.a,{withImage:!0,animated:!1,count:s}),s),f=Object(i.__assign)(Object(i.__assign)({},d),{labelConfirm:Object(l.d)("Confirm","ExtensionsPopoverViewPurchaseContainer"),labelRemainingBalance:Object(l.d)("Your remaining Bits balance will be {bitsRemaining}",{bitsRemaining:m},"ExtensionsPopoverViewPurchaseUpsellPresentation"),labelDisclaimer:Object(l.d)('By clicking "Confirm" you agree to share your Twitch ID with {extensionName}. You can manage account connections under {settingsLink}',{extensionName:t.extension.name,settingsLink:r.createElement(Xa.a,{targetBlank:!0,linkTo:"https://twitch.tv/settings/connections"},Object(l.d)("Settings","ExtensionsPopoverViewPurchaseContainer"))},"ExtensionsPopoverViewPurchaseContainer")});return r.createElement(To,Object(i.__assign)({},f))},t}(r.Component),xo=Cr((function(e){return{getMenuState:e.getMenuState}}))(jo);var Lo=n("gIsd"),Fo=n("s8Ou"),Mo=n("xlBl"),Ro=function(e){function t(t){var n=e.call(this,t)||this;return n.handleReasonSelect=function(e){var t=e.currentTarget.value;n.setState({reportReason:t,reportReasonError:!t})},n.handleDescriptionChange=function(e){var t=e.currentTarget.value.trim();n.setState((function(e){return e.reportDescription===t?null:{reportDescription:t,reportDescriptionError:!t}}))},n.handleCancel=function(){var e=n.props,t=e.installation,i=e.setMenuState;t&&i({type:cr.NONE},t)},n.handleSubmit=function(){var e=n.props,t=e.installation,i=e.reportExtension,a=e.channelID,r=n.state,o=r.reportReason;i({description:r.reportDescription||"",reason:o||"",contentID:oo(t),targetID:a||"",extra:""})},n.state={reportReasonError:!1,reportDescriptionError:!1},n}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props.reportReasons;return r.createElement(fo,null,r.createElement(Ht.a,{margin:{y:1}},r.createElement(tn.a,null,Object(l.d)("Tell us why there has been a violation of the terms of service. Abuse of this feature is also a violation of our terms of services.","ExtensionsPopoverViewReportContainer"))),r.createElement(Ht.a,{margin:{y:1}},r.createElement(bn.a,{required:!0,defaultValue:"",onChange:this.handleReasonSelect,onBlur:this.handleReasonSelect,error:this.state.reportReasonError},r.createElement("option",{key:"report-reason-placeholder",value:"",disabled:!0},Object(l.d)("Select Reason","ExtensionsPopoverViewReportContainer")),e.map((function(e){return r.createElement("option",{key:"report-reason-"+e.id,value:e.id},e.text)})))),r.createElement(Ht.a,{margin:{y:1}},r.createElement(Mo.a,{placeholder:Object(l.d)("Description Required","ExtensionsPopoverViewReportContainer"),onChange:this.handleDescriptionChange,onBlur:this.handleDescriptionChange,error:this.state.reportDescriptionError})),r.createElement(Gt.a,{fullWidth:!0,display:qt.h.Flex,flexDirection:qt.i.Row,flexWrap:qt.j.WrapReverse,justifyContent:qt.m.End,margin:{y:1}},r.createElement(Ht.a,{flexGrow:1,margin:{bottom:1,x:.5}},r.createElement(yn.a,{fullWidth:!0,size:yn.b.Small,type:yn.d.Secondary,onClick:this.handleCancel},Object(l.d)("Cancel","ExtensionsPopoverViewReportContainer"))),r.createElement(Ht.a,{flexGrow:1,margin:{bottom:1,x:.5}},r.createElement(yn.a,{fullWidth:!0,size:yn.b.Small,type:yn.d.Primary,disabled:!this.state.reportReason||!this.state.reportDescription,onClick:this.handleSubmit},Object(l.d)("Submit","ExtensionsPopoverViewReportContainer")))))},t}(r.Component),Vo=Cr((function(e){var t=e.channelID,n=e.setMenuState;return{channelID:t,setMenuState:n}}))(Ro);var Bo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.reportExtension=function(e){var n=Object(i.__assign)(Object(i.__assign)({},e),{content:X.Xd.EXTENSION_REPORT});t.props.reportUser(Object(L.a)(n))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e;e=this.props.data.loading||null===this.props.data.reportReasons?[{id:"loading",text:Object(l.d)("Loading","ExtensionsPopoverViewReportContainer")}]:this.props.data.reportReasons;var t={reportExtension:this.reportExtension,reportReasons:e,installation:this.props.installation};return r.createElement(Vo,Object(i.__assign)({},t))},t}(r.Component),Uo=Object(s.d)(Object(B.a)(Fo,{name:"reportUser"}),Object(B.a)(Lo,{options:function(){return{variables:{content:X.Xd.EXTENSION_REPORT}}}}))(Bo),qo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.trackMenuOptionClick=function(e){return function(){var n=t.props,i=n.installation;(0,n.trackEvent)(br.MenuOptionClick,e,kr.ExtensionDockMenuOptionClick,i)}},t.renderManageAccessOption=function(){var e=t.props,n=e.loginID,i=e.installation,a=e.permissionsStates,o=i&&i.extension.requestIdentityLink,s=so(i,a).identityLinkedStatus===or.LINKED;return!ro(i)&&!!n&&(o||s)?r.createElement(Ht.a,{margin:{y:1}},r.createElement(Oo.a,{label:Object(l.d)("Manage Access","ExtensionsPopoverViewSettingsContainer"),figure:{icon:zt.a.PermissionsRemove},onClick:t.handleManageAccess})):null},t.handleMakeExtensionVisible=function(){var e=t.props,n=e.isOverlayVisible,i=e.setOverlayVisibility,a=e.trackEvent;i(!n),a(br.MenuOptionClick,n?yr.HideOverlay:yr.ViewOverlay,kr.ExtensionDockMenuOptionClick,t.props.installation)},t.handleReportExtension=function(){var e=t.props,n=e.installation,i=e.setMenuState;(0,e.trackEvent)(br.MenuOptionClick,yr.ReportExtension,kr.ExtensionDockMenuOptionClick,n),i({type:cr.REPORT},n)},t.handleManageAccess=function(){var e=t.props,n=e.installation;(0,e.setMenuState)({type:cr.MANAGE_ACCESS},n)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.installation,n=e.isOverlayVisible,i=t&&t.extension&&(t.extension.viewerSummary||t.extension.summary)||"";return r.createElement(fo,null,r.createElement(Ht.a,{margin:{y:1}},r.createElement(tn.a,null,i)),Vr(t)&&r.createElement(Ht.a,{margin:{y:1}},r.createElement(So.a,{type:So.b.Toggle,label:Object(l.d)("Visible","ExtensionsPopoverViewSettingsContainer"),onChange:this.handleMakeExtensionVisible,checked:n})),r.createElement(Ht.a,{margin:{y:1}},r.createElement(Oo.a,{label:Object(l.d)("Add to My Channel","ExtensionsPopoverViewSettingsContainer"),onClick:this.trackMenuOptionClick(yr.ViewDetails),figure:{icon:zt.a.AddReaction},linkTo:co(t),targetBlank:!0})),r.createElement(Ht.a,{margin:{y:1}},r.createElement(Oo.a,{label:Object(l.d)("Build an Extension","ExtensionsPopoverViewSettingsContainer"),figure:{icon:zt.a.Extensions},onClick:this.trackMenuOptionClick(yr.BuildExtension),linkTo:"https://dev.twitch.tv/extensions",targetBlank:!0})),this.renderManageAccessOption(),r.createElement(Ht.a,{margin:{y:1}},r.createElement(Oo.a,{label:Object(l.d)("Report Extension","ExtensionsPopoverViewSettingsContainer"),figure:{icon:zt.a.Ban},onClick:this.handleReportExtension})))},t}(r.Component),Go=Cr((function(e){var t=e.loginID,n=e.setMenuState,i=e.isOverlayVisible,a=e.setOverlayVisibility,r=e.permissionsStates,o=e.trackEvent;return{loginID:t,setMenuState:n,isOverlayVisible:i,setOverlayVisibility:a,permissionsStates:r,trackEvent:o}}))(qo);var Ho=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleCancel=function(){var e=t.props,n=e.installation;(0,e.closePopover)(n)},t.handleAccept=function(){var e=t.props,n=e.installation,i=e.setMenuState;(0,e.setPermissionsState)(n,{unreleasedAccepted:!0}),i({type:cr.NONE},n)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return r.createElement(fo,null,r.createElement(Ht.a,{margin:{y:1}},r.createElement(tn.a,null,Object(l.d)("This is a Test Extension that Twitch has not evaluated; it may not be ready for primetime.","ExtensionsPopoverViewUnreleasedContainer"))),r.createElement(Ht.a,{margin:{y:1}},r.createElement(tn.a,null,Object(l.d)("Proceed only if you are familiar with the developer, the Extension, or Channel.","ExtensionsPopoverViewUnreleasedContainer")),r.createElement(Xa.a,{linkTo:"https://help.twitch.tv/customer/portal/articles/2861187-how-to-use-extensions#TestExtViewer",targetBlank:!0},Object(l.d)("Learn More","ExtensionsPopoverViewUnreleasedContainer"))),r.createElement(Gt.a,{fullWidth:!0,display:qt.h.Flex,flexDirection:qt.i.Row,flexWrap:qt.j.WrapReverse,justifyContent:qt.m.Center,margin:{y:1}},r.createElement(Ht.a,{flexGrow:1,margin:{bottom:1,x:.5}},r.createElement(yn.a,{fullWidth:!0,size:yn.b.Small,type:yn.d.Secondary,onClick:this.handleCancel},Object(l.d)("Cancel","ExtensionsPopoverViewUnreleasedContainer"))),r.createElement(Ht.a,{flexGrow:1,margin:{bottom:1,x:.5}},r.createElement(yn.a,{fullWidth:!0,size:yn.b.Small,type:yn.d.Primary,onClick:this.handleAccept},Object(l.d)("Accept","ExtensionsPopoverViewUnreleasedContainer")))))},t}(r.Component),Wo=Cr((function(e){var t=e.closePopover,n=e.setPermissionsState,i=e.setMenuState;return{closePopover:t,setPermissionsState:n,setMenuState:i}}))(Ho);var zo=n("qCDY"),Qo=(n("w73L"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.saveExtensionAPI=function(e){t.unsubscribeFrameEvents(),t.extensionFrameAPI=e,t.addAPICallbacks(),t.subscribeFrameEvents(),t.extensionFrameAPI.setHighlighted(t.props.isDockIconHovered)},t.subscribeFrameEvents=function(){t.extensionFrameAPI&&(t.extensionFrameAPI.on(Pr.ExtensionFrameEvents.RequestModal,t.onModalRequested),t.extensionFrameAPI.on(Pr.ExtensionFrameEvents.ShowBitsBalance,t.onShowBitsBalance),t.extensionFrameAPI.on(Pr.ExtensionFrameEvents.ShowUseBitsSuccess,t.onShowUseBitsSuccess),t.extensionFrameAPI.on(Pr.ExtensionFrameEvents.IdentityLinked,t.onIdentityLinked),t.extensionFrameAPI.on(Pr.ExtensionFrameEvents.Minimize,t.onMinimize))},t.unsubscribeFrameEvents=function(){t.extensionFrameAPI&&(t.extensionFrameAPI.off(Pr.ExtensionFrameEvents.RequestModal,t.onModalRequested),t.extensionFrameAPI.off(Pr.ExtensionFrameEvents.ShowBitsBalance,t.onShowBitsBalance),t.extensionFrameAPI.off(Pr.ExtensionFrameEvents.ShowUseBitsSuccess,t.onShowUseBitsSuccess),t.extensionFrameAPI.off(Pr.ExtensionFrameEvents.IdentityLinked,t.onIdentityLinked),t.extensionFrameAPI.off(Pr.ExtensionFrameEvents.Minimize,t.onMinimize))},t.onShowBitsBalance=function(){(0,t.props.setNotification)(ur.BITS_BALANCE)},t.onShowUseBitsSuccess=function(){(0,t.props.setNotification)(ur.BITS_BALANCE,{success:!0})},t.addAPICallbacks=function(){var e=t.extensionFrameAPI,n=e.linkIdentity,i=e.unlinkIdentity,a=t.props,r=a.installation;(0,a.setPermissionsState)(r,{linkIdentity:n,unlinkIdentity:i})},t.removeAPICallbacks=function(){var e=t.props,n=e.installation;(0,e.setPermissionsState)(n,{linkIdentity:void 0,unlinkIdentity:void 0})},t.onIdentityLinked=function(e){var n=t.props,i=n.installation;(0,n.setPermissionsState)(i,{identityLinkedStatus:e?or.LINKED:or.UNLINKED})},t.onMinimize=function(){var e=t.props,n=e.installation,i=e.isOverlayVisible,a=e.closePopover,r=e.isPopoverOpen,o=e.setOverlayVisibility,s=e.overlayExtension;i&&s&&s.id===n.id&&o(!1),r&&a(n)},t.onModalRequested=function(e){var n=t.props,i=n.installation,a=n.setMenuState;switch(e.action){case Pr.FunctionAction.ConditionConfirmationRequest:a({type:cr.CONDITION_CONFIRMATION,confirmationRequest:e},i);break;case Pr.FunctionAction.FollowAction:a({type:cr.FOLLOW,confirmationRequest:e},i);break;case Pr.FunctionAction.UseBits:a({type:cr.PURCHASE,confirmationRequest:e},i);break;case Pr.FunctionAction.IdShareRequest:a({type:cr.MANAGE_ACCESS},i);break;case Pr.FunctionAction.LoginRequest:a({type:cr.LOGIN_REQUIRED,confirmationRequest:e},i)}},t.handleToggleFullscreen=function(){t.props.isFullscreen?t.props.exitFullscreen():t.props.enterFullscreen()},t}return Object(i.__extends)(t,e),t.prototype.componentDidUpdate=function(e){this.extensionFrameAPI&&e.isDockIconHovered!==this.props.isDockIconHovered&&this.extensionFrameAPI.setHighlighted(this.props.isDockIconHovered)},t.prototype.componentWillUnmount=function(){this.removeAPICallbacks(),this.unsubscribeFrameEvents()},t.prototype.render=function(){var e=this.props,t=e.channelID,n=e.channelLogin,i=e.installation,a=e.languageCode,o=e.locale,s=e.login,l=e.loginID,c=e.isHidden;return t&&n&&i?r.createElement(zo.a,{key:i.id+"-"+t,channelID:t,channelLogin:n,extensionMode:Pr.ExtensionMode.Viewer,installation:i,languageCode:a,locale:o,login:s,loginID:l,saveExtensionAPI:this.saveExtensionAPI,className:"extension-view__iframe",isPopout:!1,isHidden:c,onExtensionDoubleClick:this.handleToggleFullscreen}):null},t}(r.Component));var Ko=Object(s.d)(Object(o.b)((function(e){var t=Object(dr.e)(e);return{languageCode:Object(dr.b)(e),locale:Object(dr.d)(e),login:t&&t.login||null,loginID:t&&t.id||null}})),Object(S.c)((function(e){return{channelLogin:Object(A.g)(e.content)}})),Cr((function(e,t){var n=e.isOverlayVisible,i=e.closePopover,a=e.isPopoverOpen,r=e.setOverlayVisibility,o=e.overlayExtension,s=e.channelID,l=e.setPermissionsState,c=e.setMenuState,d=e.setNotification,u=e.isDockIconHovered;return{isOverlayVisible:n,closePopover:i,isPopoverOpen:a(t.installation),setOverlayVisibility:r,overlayExtension:o,channelID:s,setPermissionsState:l,setMenuState:c,setNotification:d,isDockIconHovered:u(t.installation)}})),Object(Ke.e)((function(e){var t=e.enterFullscreen,n=e.exitFullscreen,i=e.isFullscreen;return{enterFullscreen:t,exitFullscreen:n,isFullscreen:i}})))(Qo);var Yo,$o=n("b7VA");n("6isu");!function(e){e.BackButton="popover-nav__back-button",e.SettingsButton="popover-nav__settings-button",e.CloseButton="popover-nav__close-button"}(Yo||(Yo={}));var Xo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderInsufficientSpaceTooltip=function(e){return r.createElement(Gt.a,{position:qt.o.Absolute},r.createElement(_a.a,{direction:_a.c.Left,align:_a.b.Right,label:Object(l.d)("Please expand your player size to use this extension.","ExtensionsPopoverContainer"),offsetY:"-12px",show:e}))},t.renderExtension=function(e){var n=t.props,i=n.installation,a=n.permissionsStates;return Br(i)&&lo(i,a)?r.createElement(Ko,{isHidden:e,installation:i}):null},t.renderMenu=function(){var e=t.props,n=e.installation,i=e.isMenuOpen,a=e.menuState.type;return!i||t.shouldSkipOverlayPopoverRender()?null:a===cr.SETTINGS?r.createElement(Go,{installation:n}):a===cr.MANAGE_ACCESS?r.createElement(wo,{installation:n}):a===cr.PURCHASE?r.createElement(xo,{installation:n}):a===cr.FOLLOW?r.createElement(Co,{installation:n}):a===cr.REPORT?r.createElement(Uo,{installation:n}):a===cr.LOGIN_REQUIRED?r.createElement(go,{installation:n}):a===cr.CONDITION_CONFIRMATION?r.createElement(yo,{installation:n}):a===cr.UNRELEASED?r.createElement(Wo,{installation:n}):null},t.getHeaderTitle=function(){return t.props.installation.extension.name},t.handleSettingsClick=function(){var e=t.props,n=e.installation,i=e.isMenuOpen,a=e.setMenuState,r=e.menuState,o=e.trackEvent,s=i&&r.type===cr.SETTINGS;a(s?{type:cr.NONE}:{type:cr.SETTINGS},n),o(br.ToolbarGearIconClick,s?yr.HideMenu:yr.ViewMenu,kr.ExtensionDockToolbarIconClick,n)},t.handleCloseViewClick=function(){var e=t.props,n=e.installation,i=e.setMenuState,a=e.trackEvent;i({type:Vr(n)?cr.SETTINGS:cr.NONE},n),a(br.ToolbarLeftAngleIconClick,yr.HideMenu,kr.ExtensionDockToolbarIconClick,n)},t.handleClosePopoverClick=function(){var e=t.props,n=e.installation,i=e.closePopover,a=e.menuState;(0,e.trackEvent)(br.ToolbarXIconClick,yr.MinimizeExtension,kr.ExtensionDockToolbarIconClick,n),vr(a)&&a.confirmationRequest.resultCallback(a.confirmationRequest.defaultResult),i(n)},t.shouldSkipOverlayPopoverRender=function(){var e=t.props,n=e.installation,i=e.menuState.type;return"active"===l.p.experiments.getAndTrackAssignment("extension_overlay_improvement")&&Vr(n)&&(i===cr.SETTINGS||i===cr.MANAGE_ACCESS||i===cr.REPORT)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.getHeaderTitle(),t=this.props,n=t.visible,i=t.installation,o=t.isMenuOpen,s=t.menuState,c=t.isChannelInfoVisible,d=function(e,t,n,i){if(void 0===t.videoHeight||void 0===t.videoWidth||null===n)return Jr;var a=2*(i?Kr:Qr)+2*Wr+zr,r=t.videoHeight-a,o=t.videoWidth-Yr;if(n.activationConfig.anchor===Pr.ExtensionAnchor.Overlay){var s=Xr(e,l=Math.min(270,r),c=Math.min(260,o),r,o);return{offset:s.offset,shouldShow:s.canRender,extensionSize:g=s.extensionSize,popoverContentSize:s.popoverContentSize,zoom:1}}if(Br(n)&&void 0!==n.extension.views.component){var l,c,d=n.extension.views.component,u=d.aspectRatioX,p=d.aspectRatioY,m=d.targetHeight,f=d.autoScale,v=d.scalePixels;(c=(l=r*(m/$r))*u/p)>o&&(l=(c=o)*p/u);var g,h=Xr(e,l,c,r,o);return{offset:h.offset,shouldShow:h.canRender,extensionSize:g=h.extensionSize,popoverContentSize:h.popoverContentSize,zoom:f&&v>0?g.width/v:1}}return Jr}(o,this.props.videoDimensions,i,c),u=d.offset,p=d.shouldShow,m=d.extensionSize,f=d.popoverContentSize,v=d.zoom,g={height:m.height/v+"px",width:m.width/v+"px",position:"absolute"},h=Vr(i),b="active"===l.p.experiments.getAndTrackAssignment("extension_overlay_improvement"),y=!h&&!b,k=!h&&o||h&&s.type!==cr.SETTINGS;return this.shouldSkipOverlayPopoverRender()?null:r.createElement(r.Fragment,null,this.renderInsufficientSpaceTooltip(n&&!p),r.createElement(Gt.a,{border:!0,display:n?qt.h.Block:qt.h.Hide,position:qt.o.Relative,className:a("extensions-popover")},r.createElement($o.a,{popoverId:"popover-extensions",show:p,size:xr.a.Auto,direction:Lr.b.TopRight,offsetY:u+"px"},r.createElement("div",{style:{width:f.width+"px"}},r.createElement(Gt.a,{display:qt.h.Flex,flexDirection:qt.i.Column,padding:0,fullWidth:!0},r.createElement(Gt.a,{display:qt.h.Flex,elevation:1,background:qt.d.Base},r.createElement(Ht.a,{display:qt.h.Flex,flexDirection:qt.i.Column,justifyContent:qt.m.Center,className:a("extensions-popover__icon-slot")},k&&r.createElement(Wt.a,{"aria-label":Object(l.d)("Close extension view","ExtensionsPopover"),overlay:!0,icon:zt.a.AngleLeft,onClick:this.handleCloseViewClick,"data-test-selector":Yo.BackButton})),y&&r.createElement(Ht.a,{display:qt.h.Flex,flexDirection:qt.i.Column,justifyContent:qt.m.Center,className:a("extensions-popover__icon-slot")}),r.createElement(Ht.a,{display:qt.h.Flex,flexDirection:qt.i.Column,justifyContent:qt.m.Center,flexGrow:1,flexShrink:1,overflow:qt.n.Hidden,textAlign:qt.q.Center},r.createElement(tn.a,{type:tn.e.H6,bold:!0,ellipsis:!0},e)),y&&r.createElement(Ht.a,{display:qt.h.Flex,flexDirection:qt.i.Column,justifyContent:qt.m.Center,className:a("extensions-popover__icon-slot")},r.createElement(Wt.a,{"aria-label":Object(l.d)("Extension settings","ExtensionsPopover"),overlay:!0,icon:zt.a.Gear,onClick:this.handleSettingsClick,"data-test-selector":Yo.SettingsButton})),r.createElement(Ht.a,{display:qt.h.Flex,flexDirection:qt.i.Column,justifyContent:qt.m.Center,className:a("extensions-popover__icon-slot")},r.createElement(Wt.a,{"aria-label":Object(l.d)("Close extension popup","ExtensionsPopover"),overlay:!0,icon:zt.a.Close,onClick:this.handleClosePopoverClick,"data-test-selector":Yo.CloseButton})))),r.createElement("div",{style:{height:f.height+"px",position:"relative"}},r.createElement(wr.a,{transformValues:{scale:v},transformOrigin:"0 0",style:g},this.renderExtension(!n||!p)),this.renderMenu())))))},t}(r.Component),Jo=Cr((function(e,t){var n=e.isMenuOpen,i=e.getMenuState,a=e.isChannelInfoVisible,r=e.permissionsStates,o=e.trackEvent,s=e.setMenuState,l=e.closePopover;return{isMenuOpen:n(t.installation),menuState:i(t.installation),isChannelInfoVisible:a,permissionsStates:r,trackEvent:o,setMenuState:s,closePopover:l}}))(Xo);var Zo=n("RGzP"),es=n("9pLp"),ts=(n("HQn/"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderDemoAsset=function(){var e=t.props,n=e.installation,i=e.extensionsInfoBalloonData,a=Ar[n.extension.id];if(i.loading||i.error||!i.extension||!i.extension.screenshotURLs||!i.extension.screenshotURLs[0])return r.createElement(Zo.a,null);if(a&&a.useWEBM){var o="https://extension-files.twitch.tv/demos/"+n.extension.id+"/demo.webm";return r.createElement("video",{style:{position:"inherit"},autoPlay:!0,loop:!0,muted:!0,poster:i.extension.screenshotURLs[0]},r.createElement("source",{type:"video/webm",src:o}),Object(l.d)("Extension Demo Video","ExtensionsInfoBalloon"))}return r.createElement(ji.a,{alt:Object(l.d)("Extension Screenshot","ExtensionsInfoBalloon"),src:i.extension.screenshotURLs[0]})},t.dismissInfo=function(){var e=t.props,n=e.installation;(0,e.setMenuState)({type:cr.NONE},n)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.isInfoOpen,n=e.installation,i=Ar[n.extension.id],a=(null==i?void 0:i.overriddenViewerSummary)||n.extension.viewerSummary;return r.createElement(jr.a,{show:t,background:qt.d.Overlay,size:xr.a.ExtraLarge,direction:Lr.b.LeftCenter},r.createElement(Ht.a,{display:qt.h.Flex,padding:{x:2,top:2,bottom:1}},r.createElement(Ht.a,{flexGrow:1},r.createElement(Bn.a,{type:tn.e.H4,size:Bn.b.Small},"Introducing the "+n.extension.name+" Extension!")),r.createElement(Gt.a,{className:"extensions-info-balloon__close-button",flexGrow:0},r.createElement(Wt.a,{"aria-label":Object(l.d)("Close extensions information dialog","ExtensionsInfoBalloon"),icon:zt.a.Close,onClick:this.dismissInfo}))),r.createElement(Ht.a,{display:qt.h.Flex,padding:{x:2,bottom:1}},r.createElement(tn.a,{fontSize:qt.k.Size6},a)),r.createElement(Ht.a,{display:qt.h.Flex,padding:{x:2,bottom:1}},this.renderDemoAsset()))},t}(r.Component));var ns=Object(s.d)(Cr((function(e,t){var n=e.getMenuState,i=e.setMenuState;return{isInfoOpen:n(t.installation).type===cr.INFO,setMenuState:i}})),Object(B.a)(es,{name:"extensionsInfoBalloonData",options:function(e){return{variables:{extensionID:e.installation.extension.id,extensionVersion:e.installation.extension.version}}}}))(ts),is=(n("xq7E"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderPopovers=function(e,n){var i=t.props.allVideoExtensions.map((function(e){var i=t.props,a=i.playerDimensions,o=i.videoDimensions,s=i.isPopoverOpen,l=i.getMenuState,c=s(e)&&l(e).type!==cr.INFO;return r.createElement(Jo,{key:"extensions-dock-popover__"+oo(e),visible:c&&n,playerDimensions:a,videoDimensions:o,installation:e})}));return r.createElement("div",{style:{marginRight:e+"px"}},i)},t.renderExtensionInfoBalloon=function(){var e=t.props.overlayExtension;return e?r.createElement(ns,{installation:e}):null},t.renderDockAndIcons=function(e){var n=t.props,i=n.shouldShow,o=n.allVideoExtensions;return r.createElement(bi.a,{type:bi.d.TranslateRight,duration:bi.c.Long,show:i,alwaysRenderChild:!0},r.createElement(Ht.a,{display:qt.h.Flex,alignItems:qt.b.Center,className:a("extensions-dock__dock")},r.createElement(wr.a,{transformValues:{scale:e},transformOrigin:"100% 50%"},r.createElement(Gt.a,{display:qt.h.Flex,background:qt.d.Base,flexDirection:qt.i.Column,borderRadius:qt.e.Medium,padding:{top:1},justifyContent:qt.m.Center,alignItems:qt.b.Center},o.map(t.renderExtensionCard)))))},t.renderExtensionCard=function(e){return r.createElement(mo,{key:"extensions-dock-card__"+oo(e),installation:e})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.isChannelInfoVisible,n=e.hideExtensions,i=function(e,t){if(!e.videoHeight)return io;var n=t?Kr:Qr,i=e.videoHeight-2*n,a=e.videoHeight*no,r=Math.min(a,Zr);return r<eo||r>i?io:{shouldShow:!0,height:r,xOffset:r*to/Zr-to,zoom:r/Zr}}(this.props.videoDimensions,t),o=i.shouldShow,s=i.zoom,l=i.xOffset,c=o&&!n;return r.createElement(Gt.a,{display:c?qt.h.Flex:qt.h.Hide,position:qt.o.Absolute,attachRight:!0,fullHeight:!0,alignItems:qt.b.Center,className:a(this.props.themeClass,"extensions-dock__layout")},this.renderExtensionInfoBalloon(),this.renderPopovers(l,c),this.renderDockAndIcons(s))},t}(r.Component)),as=Cr((function(e){var t=e.isPopoverOpen,n=e.isChannelInfoVisible,i=e.hideExtensions,a=e.allVideoExtensions,r=e.getMenuState,o=e.overlayExtension;return{isPopoverOpen:t,isChannelInfoVisible:n,hideExtensions:i,allVideoExtensions:a,getMenuState:r,overlayExtension:o}}))(is);var rs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.shouldShow=function(){var e=t.props,n=e.active,i=e.hideExtensions,a=e.isAnyPopoverOpen;return!i&&(!!n||a)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=Object(Bt.b)(Vt.a.Dark),t={playerDimensions:this.props.playerDimensions,videoDimensions:this.props.videoDimensions,shouldShow:this.shouldShow(),themeClass:e};return r.createElement(as,Object(i.__assign)({},t))},t}(r.Component),os=Object(s.d)(Object(_r.b)((function(e){return{active:e.active}})),Cr((function(e){var t=e.hideExtensions,n=e.isAnyPopoverOpen;return{hideExtensions:t,isAnyPopoverOpen:!!n()}})))(rs);var ss=n("eDVu"),ls=n("Ziwv"),cs=n("8pOs"),ds=(n("Skhc"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.isExpiring,n=e.showBitsNotification,i=e.showSuccessMessage,a=e.loginID;return t?r.createElement(bi.a,{type:bi.d.TranslateRight,duration:bi.c.Long,show:n&&void 0!==a,alwaysRenderChild:!0,transitionInitialMount:!0},r.createElement(Gt.a,{borderTop:!0,background:qt.d.Overlay,display:qt.h.Block,position:qt.o.Relative,padding:{y:1,x:2},margin:{y:5,x:3},className:"bits-balance-notification"},i&&r.createElement(Gt.a,{margin:{right:.5},display:qt.h.Inline,className:"extension-notification__success-text"},this.props.bitsSuccessMessage),this.props.bitsBalanceMessage)):null},t}(r.Component)),us=Cr((function(e){var t=e.loginID,n=(0,e.getNotification)(),i=n.type===ur.BITS_BALANCE,a=n.type===ur.BITS_BALANCE&&!0===n.success;return{loginID:t,isExpiring:hr(n),showBitsNotification:i,showSuccessMessage:a}}))(ds);var ps=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props.bitsBalanceQuery;if(!e||e.loading||e.error)return null;var t=e.currentUser,n=t&&t.bitsBalance||0,a={bitsBalanceMessage:Object(l.d)("Bits Balance {bitsCount}",{bitsCount:r.createElement(Po.a,{count:n,withImage:!0,withText:!0,animated:!1})},"ExtensionsNotificationBitsBalanceContainer"),bitsSuccessMessage:Object(l.d)("Success!","ExtensionsNotificationBitsBalanceContainer")};return r.createElement(us,Object(i.__assign)({},a))},t}(r.Component),ms=Object(s.d)(Cr((function(e){var t=e.channelID,n=e.loginID;return{channelID:t,loginID:n}})),Object(ss.a)((function(e){return Object(ls.a)(cs,e.channelID||null,e.loginID||null)})),Object(B.a)(cs,{name:"bitsBalanceQuery"}))(ps);var fs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return r.createElement(Gt.a,{position:qt.o.Absolute,attachRight:!0,attachBottom:!0,alignItems:qt.b.Center,className:"extensions-notifications"},r.createElement(ms,null))},t}(r.Component),vs=(n("LX/X"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),Object.defineProperty(t.prototype,"videoDimensions",{get:function(){var e=this.props.playerDimensions,t=e.playerHeight,n=e.playerWidth;if(!t||!n)return{videoWidth:0,videoHeight:0};var i=this.aspectRatio,a=n/t>i;return{videoWidth:a?Math.ceil(t*i):n,videoHeight:a?t:Math.ceil(n/i)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aspectRatio",{get:function(){var e=this.props.videoDimensions,t=e.videoHeight,n=e.videoWidth;return t&&n?n/t:16/9},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e=this.props,t=e.game,n=e.isVideoAdShowing,i=e.hideExtensions,a=e.arePlayerControlsVisible;return r.createElement(r.Fragment,null,r.createElement(hn.a,null,r.createElement(Ht.a,{className:"video-size passthrough-events",position:qt.o.Absolute,display:i?qt.h.Hide:qt.h.Block,attachTop:!0,attachLeft:!0,fullWidth:!0,fullHeight:!0},this.renderVideoOverlay(this.videoDimensions),r.createElement(os,{playerDimensions:this.props.playerDimensions,videoDimensions:this.videoDimensions}),r.createElement(fs,null))),r.createElement(Dr,{game:t,isVideoAdShowing:n,arePlayerControlsVisible:a}))},t.prototype.renderVideoOverlay=function(e){var t=this.props,n=t.overlayExtension,i=t.shouldShowOverlayExtension,a=t.permissionsStates;if(!n||!lo(n,a))return null;var o=e.videoWidth,s=e.videoHeight,l={width:o+"px",height:s+"px",display:i?"block":"none"};return r.createElement(wr.a,{transformValues:{translateX:Math.floor(-.5*o),translateY:Math.floor(-.5*s)},className:"extensions-video-overlay-size-container",style:l},r.createElement(Ko,{isHidden:!i,installation:n}))},t}(r.Component)),gs=Cr((function(e){var t=e.channelID,n=e.allVideoExtensions,i=e.overlayExtension,a=e.isOverlayVisible,r=e.hideExtensions,o=e.permissionsStates;return{channelID:t,allVideoExtensions:n,overlayExtension:i,hideExtensions:r,shouldShowOverlayExtension:!r&&a,permissionsStates:o}}))(vs);var hs=function(e){var t=e.track,n=e.activeExtensions,i=r.useCallback((function(e){if(e.name===T.SpadeEventType.VideoTrackingMinuteWatched&&0!==n.length){var i={active_extensions:JSON.stringify(n.map((function(e){return{extension_id:e.id,extension_anchor:e.activationConfig.anchor,extension_slot:e.activationConfig.slot}})))};t(T.SpadeEventType.ExtensionsActivePerMinuteWatched,i)}}),[t,n]);return Object(D.a)(C.f.ANALYTICS_EVENT,i),null},bs=n("l8wk");var ys=function(e){function t(t){var n=e.call(this,t)||this;return n.state={},n.trackEvent=function(e,t){var a;switch(e){case kr.ExtensionDockIconClick:a=T.SpadeEventType.ExtensionDockIconClick;break;case kr.ExtensionDockMenuOptionClick:a=T.SpadeEventType.ExtensionDockMenuOptionClick;break;case kr.ExtensionDockToolbarIconClick:a=T.SpadeEventType.ExtensionDockToolbarIconClick;break;default:return}n.props.track(a,Object(i.__assign)({},t))},n.handleResize=function(){n.setState(n.getPlayerDimensions())},n.getPlayerDimensions=function(){var e=Object(Vn.a)(n.props.videoContainer);return{playerWidth:e.width,playerHeight:e.height}},n.state=Object(i.__assign)({},n.getPlayerDimensions()),n}return Object(i.__extends)(t,e),t.prototype.render=function(){var e,t,n,i,a,o,s,l=this.props.data,c=Object(fe.c)(this.props.mediaPlayerInstance),d=function(e){var t,n,i,a;return(null===(a=null===(i=null===(n=null===(t=e.data)||void 0===t?void 0:t.user)||void 0===n?void 0:n.stream)||void 0===i?void 0:i.game)||void 0===a?void 0:a.name)||""}(this.props);if((null===(n=null===(t=null===(e=null==l?void 0:l.user)||void 0===e?void 0:e.self)||void 0===t?void 0:t.banStatus)||void 0===n?void 0:n.isPermanent)||(null!==(s=null===(o=null===(a=null===(i=null==l?void 0:l.user)||void 0===i?void 0:i.self)||void 0===a?void 0:a.banStatus)||void 0===o?void 0:o.expiresInMs)&&void 0!==s?s:0)>0)return null;if(!this.props.shouldMountExtensionComponents||!this.props.installations.length)return null;var u=this.state,p=u.playerWidth,m=u.playerHeight;return r.createElement(r.Fragment,null,r.createElement(Mn.a,{onResize:this.handleResize}),r.createElement(hs,{track:this.props.track,activeExtensions:this.props.installations}),r.createElement(gs,{isVideoAdShowing:this.props.isVideoAdShowing,playerDimensions:{playerWidth:p,playerHeight:m},videoDimensions:c,arePlayerControlsVisible:this.props.playerControlsActive,game:d}))},t}(r.Component);var ks=Object(s.d)(Object(c.a)({name:"ExtensionsOverlayContainer"}),Object(o.b)((function(e){var t=Object(dr.e)(e);return{loginID:t&&t.id||void 0,isTheatreMode:e.ui.theatreModeEnabled}})),Object(S.c)((function(e){var t=Object(_.a)({playerPublicPropsContext:e});return{channelLogin:Object(A.g)(e.content),parentChannelID:Object(A.h)(e.content),isMini:!!t.mini,showChannelInfoOnHover:t.showChannelInfoOnHover}})),Object(k.c)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),Object(I.c)(),Object(Ke.e)((function(e){var t=e.isFullscreen,n=e.videoContainer;return{isFullscreen:t,videoContainer:n}})),Object(_r.b)((function(e){return{playerControlsActive:!!e.active}})),Object(E.e)((function(e){return{isPlaying:e.isPlaying}})),Object(f.c)((function(e){return{isVideoAdShowing:Object(Et.d)(e.videoAdMetadata)}})),ni((function(e){return{isCasting:oi(e)}})),Object(B.a)(bs,{skip:function(e){return!e.channelLogin},options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),Cr((function(e){var t=e.shouldMountExtensionComponents,n=e.allVideoExtensions;return{shouldMountExtensionComponents:t,installations:n}})))(ys);var Ss=n("kduP"),Es=n("1/iK"),Cs=n("y5D0"),Os=n("j5Eb"),_s=n("6l+s"),ws=(n("31gx"),function(e){return!!(e.user&&e.user.self&&e.user.self.follower&&null!==e.user.self.follower.disableNotifications)}),Ps=function(e){return!(e.user&&e.user.self&&e.user.self.follower&&null!==e.user.self.follower.disableNotifications)||e.user.self.follower.disableNotifications},Ns=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={userOriginallyFollowedWithNotifications:!1},t.handleFollow=function(){var e=t.props.offlineChannelNotificationPromptLoginAction;return e===Ye.b.Modal?t.showAuthModalIfNotLoggedIn():e===Ye.b.Navigate?t.openAuthPageIfNotLoggedIn():void 0},t.openAuthPageIfNotLoggedIn=function(){if(!t.props.isLoggedIn){if(!(t.props.data&&t.props.data.user&&t.props.data.user.login))return;var e=t.props.data.user.login,n=Object(Ss.c)("/"+e);window.open("https://www.twitch.tv"+n,"_blank")}},t.showAuthModalIfNotLoggedIn=function(){t.props.isLoggedIn||t.props.showAuthModal()},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.data&&!this.props.data.loading&&this.setUserOriginallyFollowed(this.props.data)},t.prototype.componentDidUpdate=function(e){e.data&&!e.data.loading||!this.props.data||this.props.data.loading||this.setUserOriginallyFollowed(this.props.data)},t.prototype.render=function(){var e=this.props.liveChannelLogin,t=a("follow-panel-overlay",{"follow-panel-overlay--with-top-offset":this.props.streamInfoShowing});return this.shouldRender()?r.createElement(bi.a,{show:!0,type:bi.d.SlideOverTop,transitionInitialMount:!0,injectChild:!0},r.createElement(Gt.a,{className:t,display:qt.h.Flex,flexDirection:qt.i.Column,alignItems:qt.b.Start,position:qt.o.Absolute,elevation:1,background:qt.d.Overlay,borderRadius:qt.e.Small,padding:1},r.createElement(tn.a,{color:qt.f.Overlay,fontSize:qt.k.Size5},Object(l.d)("Follow and get notified when {channelLogin} is live",{channelLogin:e},"FollowPanelOverlay")),r.createElement(Ht.a,{margin:{top:1}},r.createElement(Os.a,{userID:this.props.data.user.id,isFollowingUser:ws(this.props.data),notificationsDisabled:Ps(this.props.data),onFollow:this.handleFollow})))):null},t.prototype.shouldRender=function(){return!this.props.channelIsSelf&&(!!this.props.liveChannelLogin&&(!(!this.props.data||!this.props.data.user)&&(!this.props.data.loading&&!this.props.data.error&&(!this.state.userOriginallyFollowedWithNotifications&&(!this.props.streamInfoShowing||!this.props.socialPanelShowing)))))},t.prototype.setUserOriginallyFollowed=function(e){var t=ws(e)&&!Ps(e);this.setState({userOriginallyFollowedWithNotifications:t})},t}(r.Component);var Ts=Object(s.d)(Object(c.a)({name:"FollowPanelOverlay"}),Object(S.c)((function(e){var t;return{socialPanelShowing:void 0!==(null===(t=e.behaviors)||void 0===t?void 0:t.socialPanelType),liveChannelLogin:Object(A.g)(e.content),offlineChannelNotificationPromptLoginAction:Object(_.a)({playerPublicPropsContext:e}).offlineChannelNotificationPromptLoginAction}})),Object(Ke.e)((function(e){return{streamInfoShowing:e.streamInfoShowing}})),Object(B.a)(_s,{options:function(e){var t;return{variables:{channelLogin:null!==(t=e.liveChannelLogin)&&void 0!==t?t:""},skip:!e.liveChannelLogin}}}),Object(o.b)((function(e,t){var n=Object(dr.e)(e);return{channelIsSelf:!(!n||n.login!==t.liveChannelLogin),isLoggedIn:Object(dr.f)(e)}}),(function(e,t){return{showAuthModal:function(){if(t.data&&t.data.user){var n=Object(Cs.e)(Es.a.FollowButton,{showContext:!0,targetChannel:t.liveChannelLogin});e(n)}}}})))(Ns),Ds=n("OMdY");function Is(e,t){var n=e.value,i=e.valueAlt;return r.createElement(r.Fragment,{key:n},r.createElement(tn.a,{type:tn.e.Span},n,i&&r.createElement(r.Fragment,null,r.createElement(tn.a,{color:qt.f.Alt,type:tn.e.Span},"/"),i)),t&&r.createElement(tn.a,{color:qt.f.Alt,type:tn.e.Span},","))}var As=Object(c.a)({name:"KeyboardShortcutsOverlay"})((function(){var e=Object(r.useContext)(Ke.c).hideKeyboardShortcuts,t=Object(r.useContext)(S.b).content,n=Object(r.useMemo)((function(){var e=[{message:Object(ht.d)("Pause/Play","KeyboardShortcutsOverlayComponent"),values:{value:Object(ht.d)("Space/k","KeyboardShortcutsOverlayComponent")}},Object(A.s)(t)?void 0:{message:Object(ht.d)("Back/Forward {count} seconds",{count:Object(A.o)(t)?st:ot},"KeyboardShortcutsOverlayComponent"),values:[{value:"",valueAlt:""},{value:"j",valueAlt:"l"}]},Object(A.s)(t)?void 0:{message:Object(ht.d)("Slow down/Speed up","KeyboardShortcutsOverlayComponent"),values:{value:",",valueAlt:"."}},{message:Object(ht.d)("Change Volume","KeyboardShortcutsOverlayComponent"),values:{value:Object(ht.d)("shift+","KeyboardShortcutsOverlayComponent"),valueAlt:Object(ht.d)("shift+","KeyboardShortcutsOverlayComponent")}},Object(A.o)(t)?void 0:{message:Object(ht.d)("Mute","KeyboardShortcutsOverlayComponent"),values:{value:"m"}},{message:Object(ht.d)("Toggle Fullscreen","KeyboardShortcutsOverlayComponent"),values:{value:"f"}},{message:Object(ht.d)("Exit Fullscreen","KeyboardShortcutsOverlayComponent"),values:{value:Object(ht.d)("Esc","KeyboardShortcutsOverlayComponent")}},{message:Object(ht.d)("Show this menu","KeyboardShortcutsOverlayComponent"),values:{value:"?"}}];return Object(Ds.b)(e)}),[t]);return r.createElement("div",{style:{width:300,position:"absolute"},className:Object(Bt.b)(Vt.a.Dark)},r.createElement(Gt.a,{background:qt.d.Base,elevation:1,color:qt.f.Base},r.createElement(Qt.a,null,r.createElement(Xt.a,null,r.createElement(Yt.a,null,r.createElement(Jt.a,{padding:.5},Object(ht.d)("Keyboard Shortcuts","KeyboardShortcutsOverlayComponent")),r.createElement(Jt.a,{textAlign:qt.q.Right,padding:.5},r.createElement(yn.a,{type:yn.d.Text,icon:zt.a.Close,"aria-label":"Close",onClick:e}))),n.map((function(e,t){var n=e.message,i=function(e){return Array.isArray(e)?e.map((function(t,n){return Is(t,n<e.length-1)})):Is(e)}(e.values);return r.createElement(Yt.a,{key:t},r.createElement(Jt.a,{padding:.5},r.createElement(tn.a,null,n)),r.createElement(Jt.a,{textAlign:qt.q.Right,padding:.5},i))}))))))})),js=n("ow+R"),xs=function(e){var t=e.handleMatureAccepted;return r.createElement(fn.a,{iconProps:{type:vn.a.Icon,icon:zt.a.Warning},text:Object(l.d)("The broadcaster has indicated that this channel is intended for mature audiences.","MatureGateOverlay")},(function(e){return r.createElement(yn.a,{"data-a-target":"player-overlay-mature-accept",onClick:t,size:e?yn.b.Small:yn.b.Default},Object(l.d)("Start Watching","MatureGateOverlay"))}))},Ls=n("+UTN");var Fs="mature",Ms=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isUserMature:l.m.get(Fs,!1)},t.shouldShowMatureGateOverlay=function(){return!(e=t.props.broadcasterData,!(null===(i=null===(n=null==e?void 0:e.userByAttribute)||void 0===n?void 0:n.broadcastSettings)||void 0===i?void 0:i.isMature)||t.props.disableMatureOverlay||t.state.isUserMature||pn().map((function(e){return un(e)[0]})).includes(t.props.channelLogin||function(e){return e&&e.userByAttribute&&e.userByAttribute.login||""}(t.props.broadcasterData)));var e,n,i},t.handleMatureAccepted=function(){l.m.set(Fs,!0),t.setState({isUserMature:!0})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return this.shouldShowMatureGateOverlay()?r.createElement(on,{restriction:cn.a.Mature},r.createElement(xs,{handleMatureAccepted:this.handleMatureAccepted})):null},t}(r.Component),Rs=Object(B.a)(Ls,{options:function(e){return{variables:{input:{login:e.channelLogin,ownsVideoID:e.vodID}}}},skip:function(e){return e.disableMatureOverlay||!e.channelLogin&&!e.vodID},name:"broadcasterData"});var Vs,Bs=Object(s.d)(ln("MatureGateOverlay",cn.a.Mature),Object(S.c)((function(e){var t=e.content,n=Object(_.a)({playerPublicPropsContext:e});return{channelLogin:Object(A.b)(t),vodID:Object(A.n)(t),disableMatureOverlay:!!n.disableMatureOverlay}})),Rs)(Ms);n("vVF9");!function(e){e.PlayPauseButton="mini-overlay-play-pause-button"}(Vs||(Vs={}));var Us=Object(s.d)(Object(c.a)({name:"MiniOverlay"}),Object(k.c)((function(e){return{playbackRestricted:Object(fe.d)(e)}})),Object(S.c)((function(e){return{mini:Object(_.a)({playerPublicPropsContext:e}).mini}})),Object(E.e)((function(e){return{isPlaying:e.isPlaying,pause:e.pause,play:e.play}})),Object(_r.b)((function(e){return{playerControlsActive:!!e.active}})))((function(e){var t=e.isPlaying,n=e.mini,i=e.pause,a=e.play,o=e.playbackRestricted,s=e.playerControlsActive;if(!n)return null;var l=t?Object(ht.d)("Pause","VideoPlayerMiniOverlay"):Object(ht.d)("Play","VideoPlayerMiniOverlay"),c=t?zt.a.MiniPlayerPause:zt.a.MiniPlayerPlay,d=t?i:a;return r.createElement(bi.a,{type:bi.d.Fade,show:s,alwaysRenderChild:!0},r.createElement(an.a,{transparency:an.c.Transparency6,type:an.b.Fullscreen},r.createElement(Gt.a,{className:"mini-overlay__title",background:qt.d.Overlay,alignItems:qt.b.Center,display:qt.h.Flex,flexDirection:qt.i.Row,flexWrap:qt.j.NoWrap,justifyContent:qt.m.Between,padding:{y:.5,right:.5},fullWidth:!0},r.createElement(Ht.a,{ellipsis:!0,margin:{x:1}},r.createElement(tn.a,{fontSize:qt.k.Size5,type:tn.e.Span},n.title)),r.createElement(Ht.a,{flexShrink:0},r.createElement(Wt.a,{"aria-label":Object(ht.d)("Dismiss Mini Player","VideoPlayerMiniOverlay"),icon:zt.a.Close,onClick:n.onClickDismiss,overlay:!0}))),r.createElement(Ht.a,{display:qt.h.Flex,alignItems:qt.b.Center,flexDirection:qt.i.Row,justifyContent:qt.m.Center,fullHeight:!0,fullWidth:!0},r.createElement(Wt.a,{"aria-label":Object(ht.d)("Expand Player","VideoPlayerdMiniOverlay"),icon:zt.a.MiniPlayerExpand,onClick:n.onClickExpand,overlay:!0,size:Wt.b.Large}),r.createElement(Ht.a,{margin:{left:2}},r.createElement(Wt.a,{"aria-label":o?Object(ht.d)("Playback restricted","VideoPlayerMiniOverlay"):l,disabled:o,icon:c,onClick:d,overlay:!0,size:Wt.b.Large,"data-test-selector":Vs.PlayPauseButton})))))}));var qs;n("MIAH");!function(e){e.DismissButton="muted-segments-alert-overlay-presentation__dismiss-button",e.Wrapper="muted-segments-alert-overlay-presentation__wrapper"}(qs||(qs={}));var Gs=function(e){var t=a({"muted-segments-alert":!0,"muted-segments-alert--bottom-controls-offset":e.bottomControlsShowing});return r.createElement(Gt.a,{background:qt.d.Overlay,padding:{x:.5},className:t,display:qt.h.Flex,position:qt.o.Absolute,"data-test-selector":qs.Wrapper,border:!0},r.createElement(Ut.a,{padding:{y:1,left:1}},r.createElement(tn.a,null,Object(l.d)("Audio for portions of this video has been muted as it appears to contain copyrighted content owned or controlled by a third party.","MutedSegmentsAlert"))),r.createElement(Ht.a,{flexShrink:0,padding:{y:.5}},r.createElement(Wt.a,{"aria-label":Object(l.d)("Dismiss muted audio notice","MutedSegmentsAlert"),icon:zt.a.Close,onClick:e.onDismissClick,overlay:!0,"data-test-selector":qs.DismissButton})))},Hs=n("K7G1"),Ws="twilight.mutedSegmentsAlertDismissed",zs=function(e){function t(t){var n=e.call(this,t)||this;return n.handleDismissClick=function(){n.setState({isDismissed:!0}),l.n.set(Ws,!0)},n.state={isDismissed:l.n.get(Ws,!1)},n}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props.data;return!e||e.loading||e.error?null:!function(e){var t=e.video;return t&&t.muteInfo&&t.muteInfo.mutedSegmentConnection&&t.muteInfo.mutedSegmentConnection.nodes&&t.muteInfo.mutedSegmentConnection.nodes.length>0}(e)||this.state.isDismissed?null:r.createElement(Gs,{bottomControlsShowing:this.props.bottomControlsShowing,onDismissClick:this.handleDismissClick})},t}(r.Component);var Qs=Object(s.d)(Object(c.a)({name:"MutedSegmentsAlertOverlay"}),Object(S.c)((function(e){var t=Object(_.c)({playerPublicPropsContext:e});return{vodID:Object(A.n)(t)}})),Object(B.a)(Hs,{options:function(e){return{variables:{vodID:e.vodID}}},skip:function(e){return!e.vodID}}))(zs),Ks=n("MiSJ"),Ys=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getBannerUrl=function(){if(t.props.data&&t.props.data.user)return t.props.data.user.offlineImageURL?t.props.data.user.offlineImageURL:void 0},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.getBannerUrl();return e?r.createElement("div",{style:{backgroundColor:"#19171c",backgroundImage:"url("+e+")",width:"100%",height:"100%",backgroundPosition:"50%",backgroundRepeat:"no-repeat",backgroundSize:"contain"}}):null},t}(r.Component);var $s=Object(s.d)(Object(c.a)({name:"OfflineBannerOverlay"}),Object(S.c)((function(e){var t=Object(_.c)({playerPublicPropsContext:e});return{liveChannelLogin:Object(A.g)(t)}})),Object(B.a)(Ks,{skip:function(e){return!e.liveChannelLogin},options:function(e){var t;return{variables:{login:null!==(t=e.liveChannelLogin)&&void 0!==t?t:""}}}}))(Ys),Xs=(n("4PMh"),580),Js=760,Zs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderDescription=function(e,t){return r.createElement(r.Fragment,null,e&&r.createElement(tn.a,{fontSize:qt.k.Size6,ellipsis:!0,bold:!0,color:qt.f.OverlayAlt},e),t&&r.createElement(tn.a,{fontSize:qt.k.Size6,ellipsis:!0,color:qt.f.OverlayAlt},t))},t.visibleVideos=function(){return t.props.videos.slice(0,t.numberOfCards())},t.numberOfCards=function(){var e;return e=t.props.width<=Xs?2:t.props.width<=Js?3:6,t.props.videos.length<e&&(e=t.props.videos.length),e},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props.width<=500||this.props.width>500&&this.props.width<970&&1===this.numberOfCards();return r.createElement(an.a,{transparency:an.c.Transparency1,type:an.b.Fullscreen},r.createElement(Ht.a,{className:"other-vods__container",margin:{top:2,left:2,right:2},position:qt.o.Absolute,display:qt.h.Flex,flexDirection:qt.i.Column,attachTop:!0,attachLeft:!0,attachBottom:!0,attachRight:!0},r.createElement(Ht.a,{display:qt.h.Flex,justifyContent:qt.m.Center},r.createElement(tn.a,{type:this.props.width>500?tn.e.H4:tn.e.H5,color:qt.f.Overlay},this.props.title),r.createElement(Ht.a,{attachRight:!0,position:qt.o.Absolute},r.createElement(Wt.a,{"aria-label":Object(l.d)("Close videos list","OtherVods"),icon:zt.a.Close,overlay:!0,onClick:this.props.onClose}))),r.createElement(Ht.a,{className:"other-vods__grid-container",margin:{left:"auto",right:"auto",top:t?0:this.props.width<=970?1:3},flexGrow:1},r.createElement(Hi.a,{fullHeight:!0,alignItems:12/this.columnSize()<this.numberOfCards()?qt.b.Start:qt.b.Center},this.visibleVideos().map((function(n){var i,a;return r.createElement(r.Fragment,null,r.createElement(Wi.a,{key:n.id,cols:t?4:e.columnSize()},r.createElement(Li,{video:n,content:{type:U.a.VOD,vodID:n.id},onSelect:function(){return e.props.onSelect(n)},info:!t&&e.renderDescription(n.title,null===(i=n.game)||void 0===i?void 0:i.name),marginBottom:0})),t&&r.createElement(Wi.a,{cols:8},e.renderDescription(n.title,null===(a=n.game)||void 0===a?void 0:a.name)))}))))))},t.prototype.componentDidMount=function(){this.props.track(T.SpadeEventType.PlayerRecShowOthers,{recommended_vod_ids:this.visibleVideos().map((function(e){return e.id})).join(",")})},t.prototype.columnSize=function(){var e=this.props.width<=Xs?6:4,t=12/e;return this.numberOfCards()<t?12/this.numberOfCards():e},t}(r.Component),el=Object(I.c)()(Zs),tl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.video,n=e.onClose,i=e.onSelect;return r.createElement(Ut.a,{fullWidth:!0,fullHeight:!0,position:qt.o.Absolute,attachTop:!0},r.createElement(bi.a,{alwaysRenderChild:!0,transitionInitialMount:!0,show:!0,type:bi.d.SlideOverRight,duration:bi.c.Long},r.createElement(an.a,{type:an.b.Sidebar,transparency:an.c.Transparency3},r.createElement(Gt.a,{display:qt.h.Flex,margin:{bottom:1}},r.createElement(Ut.a,{flexGrow:1},r.createElement(tn.a,{bold:!0,type:tn.e.H4,color:qt.f.Overlay},Object(l.d)("Most Recent Video","OfflineRecommendations"))),r.createElement(Wt.a,{"aria-label":Object(l.d)('Close "most recent video" recommendation',"OfflineRecommendations"),icon:zt.a.Close,overlay:!0,onClick:n})),r.createElement(Li,{video:t,content:{type:U.a.VOD,vodID:t.id},onSelect:i,info:r.createElement(tn.a,{fontSize:qt.k.Size5,ellipsis:!0},t.title)}))))},t.prototype.componentDidMount=function(){this.props.track(T.SpadeEventType.PlayerRecShowFeatured,{recommended_vod_id:this.props.video.id})},t}(r.Component),nl=Object(I.c)()(tl),il=n("bGsL"),al=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={pinnedVod:!0,otherVods:!0,width:0,height:0},t.tracked=!1,t.onResize=function(e,n){t.setState((function(i){return{width:e,height:n,pinnedVod:!t.isValidSize()||i.pinnedVod,otherVods:!t.isValidSize()||i.otherVods}}))},t.handleClosePinnedVod=function(){t.setState({pinnedVod:!1})},t.handleCloseOtherVods=function(){t.setState({otherVods:!1})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this;return r.createElement(r.Fragment,null,(this.state.pinnedVod||this.state.otherVods)&&r.createElement(Mn.a,{onResize:this.onResize}),this.showPinnedVod()&&r.createElement(nl,{video:this.videos()[0],onClose:this.handleClosePinnedVod,onSelect:function(){e.props.track(T.SpadeEventType.PlayerRecSelect,{recommended_vod_id:e.videos()[0].id,recommended_vod_view:"featured"})}}),this.showOtherVods()&&r.createElement(el,{videos:this.videos(),onClose:this.handleCloseOtherVods,onSelect:function(t){e.props.track(T.SpadeEventType.PlayerRecSelect,{recommended_vod_id:t.id,recommended_vod_view:"other"})},title:Object(ht.d)("Watch Now","OfflineRecommendations"),width:this.state.width,height:this.state.height}))},t.prototype.componentDidUpdate=function(){if(this.props.setRecommendationsShowing(this.showOtherVods()||this.showPinnedVod()),!this.tracked){this.tracked=!0;var e=this.props.hasPlayed?"postLive":"offline";this.props.track(T.SpadeEventType.PlayerRecShow,{type:e})}},t.prototype.componentWillUnmount=function(){this.props.setRecommendationsShowing(!1)},t.prototype.showPinnedVod=function(){return this.isValidSize()&&this.hasVods()&&this.state.pinnedVod},t.prototype.showOtherVods=function(){return this.isValidSize()&&this.hasVods()&&!this.showPinnedVod()&&this.state.otherVods},t.prototype.hasVods=function(){return this.videos().length>1},t.prototype.notNull=function(e){return null!==e},t.prototype.videos=function(){var e=this.props.data&&this.props.data.currentUser&&this.props.data.currentUser.viewedVideos&&this.props.data.currentUser.viewedVideos.edges&&this.props.data.currentUser.viewedVideos.edges.map((function(e){return e&&e.node})).filter(this.notNull).map((function(e){return e.id})),t=this.props.data&&this.props.data.user&&this.props.data.user.videos&&this.props.data.user.videos.edges&&this.props.data.user.videos.edges.map((function(e){return e&&e.node})).filter(this.notNull).filter((function(t){return!e||!e.includes(t.id)}));return t||[]},t.prototype.isValidSize=function(){return this.state.height>300&&this.state.width>560},t}(r.Component),rl=Object(B.a)(il,{skip:function(e){return e.contentType!==U.a.Live||!e.login},options:function(e){var t;return{variables:{login:null!==(t=e.login)&&void 0!==t?t:""}}}})(al);var ol,sl=function(e){function t(t){var n=e.call(this,t)||this;return n.props.hasPlayed?n.state={deferRender:!0}:n.state={deferRender:!1},n}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;if(this.props.hasPlayed){var t=Math.floor(5e3*Math.random())+1;setTimeout((function(){e.setState({deferRender:!1})}),t)}},t.prototype.render=function(){return this.state.deferRender?null:r.createElement(rl,Object(i.__assign)({},this.props))},t}(r.Component),ll=Object(s.d)(Object(c.a)({name:"OfflineRecommendationsOverlay"}),Object(S.c)((function(e){var t=e.content;return{contentType:t.type,login:Object(A.g)(t)}})),Object(Ke.e)((function(e){return{setRecommendationsShowing:e.setRecommendationsShowing}})),Object(k.c)((function(e){return{hasPlayed:e.hasPlayed}})),Object(I.c)())(sl);!function(e){e.PlayButton="player-overlay-play-button"}(ol||(ol={}));var cl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handlePlay=function(){t.props.play()},t.handleToggleFullscreen=function(){t.props.disableDoubleClickFullscreen||(t.props.isFullscreen?(t.trackFullscreenClick(),t.props.exitFullscreen()):(t.trackFullscreenClick(),t.props.enterFullscreen()))},t.trackFullscreenClick=function(){t.props.track(T.SpadeEventType.VideoPlayerClickFullscreen)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=Object(l.d)("Play","PlayButtonOverlay");return r.createElement(an.a,{type:an.b.Fullscreen,transparency:an.c.Transparency5},r.createElement(Ht.a,{position:qt.o.Relative,display:qt.h.Flex,alignItems:qt.b.Center,justifyContent:qt.m.Center,fullHeight:!0,fullWidth:!0},r.createElement(Ut.a,{position:qt.o.Absolute,fullHeight:!0,fullWidth:!0,attachTop:!0,attachRight:!0,attachBottom:!0,attachLeft:!0},r.createElement(Ai.a,{onClick:this.handlePlay,onDoubleClick:this.handleToggleFullscreen,"aria-label":e})),r.createElement(Ht.a,{position:qt.o.Absolute},r.createElement(Ja.a,{borderRadius:qt.e.Medium,onClick:this.handlePlay,"data-test-selector":ol.PlayButton,"data-a-target":ol.PlayButton,type:Ja.b.Overlay,"aria-label":e},r.createElement(yi.a,{asset:zt.a.Play,width:120,height:120})))))},t}(r.Component),dl=Object(s.d)(Object(c.a)({name:"PlayButtonOverlay"}),Object(E.e)((function(e){return{play:e.play}})),Object(I.c)(),Object(S.c)((function(e){return{disableDoubleClickFullscreen:Object(_.a)({playerPublicPropsContext:e}).disableDoubleClickFullscreen}})),Object(Ke.e)((function(e){var t=e.enterFullscreen,n=e.exitFullscreen,i=e.isFullscreen;return{enterFullscreen:t,exitFullscreen:n,isFullscreen:i}})))(cl);var ul=n("DWfd"),pl=n("G228"),ml=n("cxJK"),fl=n("x9t4"),vl=n("uuYr"),gl="https://static-cdn.jtvnw.net/ttv-static/404_boxart-285x380.jpg";function hl(e){var t=e.node;return t&&t.moments&&t.moments.edges&&t.moments.edges}function bl(e){return e.description||""}function yl(e){var t=hl(e);return t&&t.length||0}function kl(e,t,n){if(e.type===X.rf.GAME_CHANGE){var i=e.durationMilliseconds/1e3,a=e.positionMilliseconds/1e3;if(0===i)return"";if(t){var r=Math.round(a+i-n),o=Object($a.b)(r);return Object(l.d)("{time} left",{time:o},"ChapterSelectButton")}return Object($a.b)(i)}return e.subDescription||""}function Sl(e){return e.thumbnailURL?e.thumbnailURL:e.details.game&&e.details.game&&e.details.game.boxArtURL?e.details.game.boxArtURL:gl}var El=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={currentTime:0,open:!1,submenu:null,submenuTitle:null,playerHeight:Object(Vn.a)(t.props.videoContainer).height},t.toggleMenu=function(){t.setState((function(e){return{open:!e.open}}))},t.closeMenu=function(){t.setState({open:!1,submenu:null,submenuTitle:null})},t.closeSubmenu=function(){t.setState({submenu:null,submenuTitle:null})},t.selectChapter=function(e){var n=t.edges();if(n){var i=n[e],a=hl(i);a&&a.length?t.setState({submenu:a,submenuTitle:bl(i.node)}):(t.props.seek(i.node.positionMilliseconds/1e3),t.closeMenu()),t.props.track(T.SpadeEventType.PlayerVideoMarkerClick,{index:e,content_id:i.node.id,content_type:i.node.type})}},t.setCurrentTime=function(e){t.setState({currentTime:e})},t.recalculatePlayerHeight=function(){t.setState({playerHeight:Object(Vn.a)(t.props.videoContainer).height})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.edges();return e?r.createElement(r.Fragment,null,r.createElement(Mn.a,{onResize:this.recalculatePlayerHeight}),r.createElement(ca.a,{onClickOut:this.closeMenu},this.renderBalloon(e),r.createElement(pl.a,{buttonIcon:zt.a.ViewerList,label:Object(l.d)("Chapter Select","VideoPlayerChapterSelectButton>"),onClick:this.toggleMenu,tooltipAlign:_a.b.Left,disabled:this.props.error}))):null},t.prototype.edges=function(){var e,t=this.state.submenu||(e=this.props.data)&&e.video&&e.video.moments&&e.video.moments.edges;return t&&t.length?t:null},t.prototype.renderBalloon=function(e){var t=this,n=a("chapter-select-button__chapters",Object(Bt.b)(Vt.a.Dark)),o=e.map((function(n,a){return r.createElement(ul.a,Object(i.__assign)({},function(e,t,n){var i=function(e,t,n){return e.node&&t&&t.node?n>=e.node.positionMilliseconds/1e3&&n<t.node.positionMilliseconds/1e3:!!e.node&&n>=e.node.positionMilliseconds/1e3}(e,t,n);return{active:i,count:yl(e),description:kl(e.node,i,n),imageURL:Sl(e.node),text:bl(e.node)}}(n,e[a+1],t.state.currentTime),{index:a,key:(o=n.node,o.positionMilliseconds/1e3),onClick:t.selectChapter}));var o}));return r.createElement(Ht.a,{className:n,position:qt.o.Absolute},r.createElement($o.a,{direction:Lr.b.TopLeft,maxHeight:"calc("+this.state.playerHeight+"px - 10rem)",offsetY:"5rem",popoverId:"chapter-select-popover",size:xr.a.Medium,show:this.state.open},this.renderBalloonHeader(),r.createElement(Rt.b,null,r.createElement(ml.a,{popoverId:"chapter-select-popover"},r.createElement(qe.a,{onTimeChanged:this.setCurrentTime}),o))))},t.prototype.renderBalloonHeader=function(){if(!this.state.submenu||!this.state.submenuTitle)return null;var e=Object(l.d)("Back","ChapterSelectButton");return r.createElement(fl.a,{popoverId:"chapter-select-popover",title:this.state.submenuTitle,buttonLeftPrimary:{"aria-label":e,icon:zt.a.GlyphArrLeft,onClick:this.closeSubmenu,title:e},buttonRightPrimary:{onClick:this.closeMenu,"aria-label":Object(l.d)("Close","ChapterSelectButton")}})},t}(r.Component);var Cl=Object(s.d)(Object(Ke.e)((function(e){return{videoContainer:e.videoContainer}})),Object(k.c)((function(e){return{error:!!e.error}})),Object(S.c)((function(e){var t=e.content;return{vodID:Object(A.n)(t),content:t}})),Object(I.c)(),Object(B.a)(vl,{skip:function(e){return!e.vodID},options:function(e){return{variables:{videoID:e.vodID}}}}),Object(E.e)((function(e){return{seek:e.seek}})))(El);var Ol,_l=n("pVnL"),wl=n.n(_l),Pl=n("8OQS"),Nl=n.n(Pl),Tl=n("SWse"),Dl=n("wt2C");!function(e){e.Available="available",e.Connecting="connecting",e.Connected="connected"}(Ol||(Ol={}));var Il=function(e,t){var n=e.status,i=Nl()(e,["status"]),a=n===Ol.Connecting;return r.createElement(Wt.a,wl()({},i,{ref:t,icon:r.createElement(Ht.a,{className:"tw-chromecast-button__icon"},r.createElement(Dl.b,{ratio:Dl.c.Aspect1x1},r.createElement("svg",{width:"100%",height:"100%",version:"1.1",viewBox:"0 0 20 20",x:"0px",y:"0px"},r.createElement("path",{className:Object(Tl.a)({"tw-chromecast-button__wifi-a--animated":a}),d:"M3 17a1 1 0 0 1-1-1v-1a2 2 0 0 1 2 2H3z"}),r.createElement("path",{className:Object(Tl.a)({"tw-chromecast-button__wifi-b--animated":a}),d:"M2 12.5a.5.5 0 0 1 .5-.5A4.5 4.5 0 0 1 7 16.5a.5.5 0 0 1-1 0A3.5 3.5 0 0 0 2.5 13a.5.5 0 0 1-.5-.5z"}),r.createElement("path",{className:Object(Tl.a)({"tw-chromecast-button__wifi-c--animated":a}),d:"M2 9.5a.5.5 0 0 1 .5-.5 7.5 7.5 0 0 1 7.5 7.5.5.5 0 0 1-1 0A6.5 6.5 0 0 0 2.5 10a.5.5 0 0 1-.5-.5z"}),n===Ol.Connected&&r.createElement("path",{className:"tw-chromecast-button__screen",d:"M11.168 13H14V7H6v.832A10.037 10.037 0 0 1 11.168 13z"}),r.createElement("path",{className:"tw-chromecast-button__frame",d:"M2 5a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-3.5a1 1 0 1 1 0-2H16V5H4v1.5a1 1 0 0 1-2 0V5z"}))))}))};Il.displayName="ChromecastButton",Il.displayName="ChromecastButton";var Al=r.forwardRef(Il),jl=function(e){switch(e){case Jn.Connected:return Ol.Connected;case Jn.Connecting:return Ol.Connecting;case Jn.Available:default:return Ol.Available}},xl=Object.freeze([Jn.Unavailable,Jn.Available,Jn.Connecting,Jn.Connected]);var Ll=Object(s.d)(ni((function(e){return{castingState:e.castingState,startCast:e.startCast,stopCast:e.stopCast}})),Object(S.c)((function(e){return{disableCasting:!!Object(_.a)({playerPublicPropsContext:e}).disableCasting}})))((function(e){var t,n=e.castingState,i=e.disableCasting,a=e.startCast,o=e.stopCast;if(i||n===Jn.Unavailable||!xl.includes(n))return null;var s="";return n===Jn.Available?(t=a,s=Object(l.d)("Start Casting","ChromeCastButton")):n===Jn.Connected||n===Jn.Connecting?(t=o,s=Object(l.d)("Stop Casting","ChromeCastButton")):t=function(){},r.createElement(_a.a,{label:s,align:_a.b.Center,direction:_a.c.Top},r.createElement(Al,{"aria-label":s,onClick:t,status:jl(n),overlay:!0}))})),Fl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleSeekCompleted=function(){var e=t.props.mediaPlayerInstance;if(e){var n=e.getPosition();t.props.onSeekComplete(n)}},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(C.f.SEEK_COMPLETED,this.handleSeekCompleted)},t.prototype.render=function(){return null},t}(r.Component),Ml=Object(s.d)(Object(k.c)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),Object(y.a)())(Fl);var Rl=n("ydSb"),Vl=function(e){var t=e.currentTimeInSeconds,n=e.durationInSeconds,i=Math.floor(n-t);return r.createElement(Ht.a,{display:qt.h.Flex,justifyContent:qt.m.End,className:"vod-seekbar-time-labels"},r.createElement(tn.a,{color:qt.f.Overlay},i))};function Bl(e,t,n){if(!t||!n)return{offset:0};var i=e*n,a=t/2;return i<a?{offset:a}:i>n-a?{offset:n-a}:{offset:i}}function Ul(e){if(e<0||e>259200||!isFinite(e))return"00:00:00";var t=Math.floor(e/3600),n=Math.floor(e%3600/60),i=Math.floor(e%60);return ql(t,2)+":"+ql(n,2)+":"+ql(i,2)}function ql(e,t){var n=e.toString();return n.length<t?"0".repeat(t-n.length)+n:n}var Gl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.wrapperRef=r.createRef(),t.seekbarRef=null,t.setSeekbarRef=function(e){t.seekbarRef=e},t}return Object(i.__extends)(t,e),t.prototype.render=function(){if(0===this.props.durationInSeconds)return null;var e=Ul(this.props.currentTimeInSeconds),t=Bl(this.props.currentTimeInSeconds/this.props.durationInSeconds,this.state.wrapperWidth,this.state.seekbarWidth).offset;return r.createElement(hn.a,{overlay:!0},r.createElement(Ht.a,{display:qt.h.Flex,refDelegate:this.setSeekbarRef},r.createElement("div",{style:{position:qt.o.Relative,marginLeft:t+"px"}},r.createElement(jr.a,{direction:Lr.b.TopCenter,size:xr.a.Auto,offsetY:"-2rem",show:!0},r.createElement("div",{ref:this.wrapperRef},r.createElement(Ht.a,{display:qt.h.Flex,justifyContent:qt.m.Center,padding:{x:.5}},r.createElement(tn.a,{color:qt.f.Overlay},e)))))))},t.prototype.componentDidMount=function(){if(this.wrapperRef.current&&this.seekbarRef){var e=this.wrapperRef.current.getBoundingClientRect().width,t=this.seekbarRef.getBoundingClientRect().width;this.setState({wrapperWidth:e,seekbarWidth:t})}},t}(r.Component),Hl=function(e){return r.createElement(bi.a,{type:bi.d.Fade,duration:bi.c.Short,show:e.show},r.createElement(Gl,Object(i.__assign)({},e)))};function Wl(e,t,n){return t>n?(l.p.logger.withCategory("clamp-number").warn("Tried to clamp a number, but min is greater than max",{value:e,min:t,max:n}),e):Math.max(t,Math.min(n,e))}var zl;n("F8/l");!function(e){e.Segment="seekbar-segment__segment"}(zl||(zl={}));var Ql,Kl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.seekbarMax,n=e.seekbarMin,i=Math.max(t-n,0),o=Wl(this.props.start,n,t),s=Wl(this.props.end,n,t),l=(o-n)/i*100,c=Math.max(s-o,0)/i*100,d=a(["seekbar-segment",this.props.className]);return r.createElement(Ut.a,{className:d,position:qt.o.Absolute},r.createElement("span",{style:{left:l+"%",width:c+"%",backgroundColor:this.props.color},"data-test-selector":zl.Segment}))},t}(r.PureComponent),Yl=(n("NrCo"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.thumb,n=e.min,a=e.max,o=e.segments,s=Math.max(a-n,0),l=(Wl(this.props.thumbLocation,n,a)-n)/s*100;return r.createElement(Gt.a,{className:"seekbar-bar",display:qt.h.Flex,alignItems:qt.b.Center,borderRadius:qt.e.Medium,position:qt.o.Relative,fullWidth:!0},o.map((function(e){return r.createElement(Kl,Object(i.__assign)({key:e.id,seekbarMin:n,seekbarMax:a},e))})),r.createElement($l,{leftPercentageOffset:l},t))},t}(r.Component)),$l=function(e){var t=Wl(e.leftPercentageOffset,0,100);return r.createElement(Ut.a,{position:qt.o.Absolute},r.createElement("span",{style:{left:t+"%"}},e.children))};n("zBup");!function(e){e.InteractionArea="seekbar-interaction-area__interactionArea"}(Ql||(Ql={}));var Xl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.seekbarWrapperRef=r.createRef(),t.touchIdentifier=ec,t.handleMouseClick=function(e){t.processMouseEventOrTouch(e,Zl.Click)},t.handleMouseDown=function(e){t.processMouseEventOrTouch(e,Zl.DragStart),t.addMouseDocumentHandlers()},t.handleMouseMove=function(e){t.processMouseEventOrTouch(e,Zl.MouseMove)},t.handleMouseUp=function(e){t.processMouseEventOrTouch(e,Zl.DragEnd),t.removeDocumentHandlers()},t.handleMouseEnter=function(){t.props.onMouseEnter&&t.props.onMouseEnter()},t.handleMouseLeave=function(){t.props.onMouseLeave&&t.props.onMouseLeave()},t.handleTouchStart=function(e){var n=e.touches[0];t.touchIdentifier=n.identifier,t.processMouseEventOrTouch(n,Zl.DragStart),t.addTouchDocumentHandlers()},t.addMouseDocumentHandlers=function(){document.addEventListener("mousemove",t.handleDocumentMouseMove),document.addEventListener("mouseup",t.handleDocumentMouseUp)},t.addTouchDocumentHandlers=function(){document.addEventListener("touchmove",t.handleDocumentTouchMove),document.addEventListener("touchend",t.handleDocumentTouchEnd),document.addEventListener("touchcancel",t.handleDocumentTouchEnd)},t.removeDocumentHandlers=function(){document.removeEventListener("mousemove",t.handleDocumentMouseMove),document.removeEventListener("mouseup",t.handleDocumentMouseUp),document.removeEventListener("touchmove",t.handleDocumentTouchMove),document.removeEventListener("touchend",t.handleDocumentTouchEnd),document.removeEventListener("touchcancel",t.handleDocumentTouchEnd)},t.handleDocumentMouseMove=function(e){e.preventDefault&&e.preventDefault(),t.processMouseEventOrTouch(e,Zl.DragChange)},t.handleDocumentMouseUp=function(e){t.processMouseEventOrTouch(e,Zl.DragEnd),t.removeDocumentHandlers()},t.handleDocumentTouchMove=function(e){var n=Jl(t.touchIdentifier,e.touches);n&&t.processMouseEventOrTouch(n,Zl.DragChange)},t.handleDocumentTouchEnd=function(e){var n=Jl(t.touchIdentifier,e.changedTouches);n&&(t.touchIdentifier=ec,t.processMouseEventOrTouch(n,Zl.DragEnd),t.removeDocumentHandlers())},t.processMouseEventOrTouch=function(e,n){var a=t.props,r=a.seekbarMin,o=a.seekbarMax,s=a.allowedMin,l=a.allowedMax,c=function(e,t,n,a,r){void 0===r&&(r={});if(!t)return n;return function(e){var t=e.eventClientX,n=e.seekbarMin,i=e.seekbarMax,a=e.allowedMax,r=e.allowedMin,o=e.seekbarWrapperRect,s=o.left,l=o.width;if(0===l)return n;var c=Wl((t-s)/l,0,1);return Wl(c*(i-n)+n,void 0===r?n:r,void 0===a?i:a)}(Object(i.__assign)({seekbarWrapperRect:t.getBoundingClientRect(),eventClientX:e,seekbarMin:n,seekbarMax:a},r))}(e.clientX,t.seekbarWrapperRef.current,r,o,{allowedMin:s,allowedMax:l});switch(n){case Zl.Click:t.props.onClick(c);break;case Zl.DragStart:t.props.onDragStart(c);break;case Zl.DragChange:t.props.onDragChange(c);break;case Zl.DragEnd:t.props.onDragEnd(c);break;case Zl.MouseMove:t.props.onMouseMove(c)}},t}return Object(i.__extends)(t,e),t.prototype.componentWillUnmount=function(){this.removeDocumentHandlers()},t.prototype.render=function(){return r.createElement(Ut.a,{padding:{y:1},className:"seekbar-interaction-area"},r.createElement("div",{ref:this.seekbarWrapperRef,onClick:this.handleMouseClick,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchStart,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,"data-test-selector":Ql.InteractionArea,"data-a-target":"player-seekbar"},this.props.children))},t}(r.Component);function Jl(e,t){return Array.from(t).find((function(t){return t.identifier===e}))}var Zl,ec=-1;!function(e){e.DragStart="drag-start",e.DragChange="drag-change",e.DragEnd="drag-end",e.Click="click",e.MouseMove="mousemove"}(Zl||(Zl={}));n("+Qxa");var tc,nc=function(e){return r.createElement(bi.a,{show:!!e.show,type:bi.d.Fade},r.createElement(Ht.a,{className:"seekbar-thumb"}))};!function(e){e.Fixed="fixed",e.FillToThumb="fill-to-thumb",e.AfterThumb="after-thumb"}(tc||(tc={}));var ic=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={draggingThumbLocation:null,isMouseOver:!1},t.handleDragChange=function(e){t.setState({draggingThumbLocation:e})},t.handleDragStart=function(e){t.setState({draggingThumbLocation:e}),t.props.onThumbDragStart&&t.props.onThumbDragStart()},t.handleThumbLocationChange=function(e){t.props.onThumbLocationChange&&t.props.onThumbLocationChange(e),t.setState({draggingThumbLocation:null})},t.handleMouseEnter=function(){t.setState({isMouseOver:!0}),t.props.onMouseOverChange&&t.props.onMouseOverChange(!0)},t.handleMouseLeave=function(){t.setState({isMouseOver:!1}),t.props.onMouseOverChange&&t.props.onMouseOverChange(!1)},t.handleMouseMove=function(e){t.props.onMouseOverLocationChange&&t.props.onMouseOverLocationChange(e)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.alwaysShowThumb,n=e.seekbarMin,i=e.seekbarMax,a=this.state,o=a.draggingThumbLocation,s=a.isMouseOver,l=null!==o,c=r.createElement(nc,{show:s||l||t}),d=null!==o?o:this.props.thumbLocation,u=function(e,t){if(!e)return[];return e.map((function(e){switch(e.type){case tc.Fixed:return rc(e,t);case tc.AfterThumb:return oc(e,t);case tc.FillToThumb:return sc(e,t);default:return null}})).filter((function(e){return!!e}))}(this.props.segments,{seekbarMin:n,thumbLocation:d});return r.createElement(Xl,{onDragStart:this.handleDragStart,onDragChange:this.handleDragChange,onDragEnd:this.handleThumbLocationChange,onClick:this.handleThumbLocationChange,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove,seekbarMin:n,seekbarMax:i,allowedMin:this.props.minAllowedThumbLocation,allowedMax:this.props.maxAllowedThumbLocation},r.createElement(Yl,{min:n,max:i,thumbLocation:d,thumb:c,segments:u}))},t}(r.Component);var ac,rc=function(e){return{id:e.id,color:e.color,start:e.start,end:e.end}},oc=function(e,t){return{id:e.id,color:e.color,start:t.thumbLocation,end:t.thumbLocation+e.length}},sc=function(e,t){return{id:e.id,color:e.color,start:t.seekbarMin,end:t.thumbLocation}},lc=n("JiyE");n("eZqs");!function(e){e.PreviewImage="vod-seekbar-preview-overlay-preview-image",e.Wrapper="vod-seekbar-preview-overlay-wrapper"}(ac||(ac={}));var cc,dc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.wrapperRef=r.createRef(),t.seekbarRef=null,t.setSeekbarRef=function(e){t.seekbarRef=e},t}return Object(i.__extends)(t,e),t.prototype.render=function(){if(0===this.props.durationInSeconds)return null;var e=Ul(this.props.currentTimeInSeconds),t=Bl(this.props.currentTimeInSeconds/this.props.durationInSeconds,this.state.wrapperWidth,this.state.seekbarWidth).offset;return r.createElement(hn.a,{overlay:!0},r.createElement(Ht.a,{display:qt.h.Flex,refDelegate:this.setSeekbarRef},r.createElement("div",{className:"vod-seekbar-preview-overlay__wrapper","data-test-selector":ac.Wrapper,style:{position:qt.o.Relative,marginLeft:t+"px"}},r.createElement(jr.a,{direction:Lr.b.TopCenter,size:xr.a.Auto,offsetY:"-2rem",show:!0},r.createElement("div",{ref:this.wrapperRef},this.renderPreviewImage(),r.createElement(Ht.a,{display:qt.h.Flex,justifyContent:qt.m.Center,padding:{x:.5}},r.createElement(tn.a,{color:qt.f.Overlay},e)))))))},t.prototype.componentDidMount=function(){if(this.wrapperRef.current&&this.seekbarRef){var e=this.wrapperRef.current.getBoundingClientRect().width,t=this.seekbarRef.getBoundingClientRect().width;this.setState({wrapperWidth:e,seekbarWidth:t})}},t.prototype.renderPreviewImage=function(){var e=this.props,t=e.currentTimeInSeconds,n=e.seekPreviewsURL,i=e.seekPreview;if(!n||!i)return null;var a=148/i.width*i.height,o=Math.floor(t/i.interval),s=Math.floor(o/(i.rows*i.cols)),l=o%(i.rows*i.cols),c=i.images[s],d=l%i.cols*148,u=Math.floor(l/i.cols)*a,p=n.substring(0,n.lastIndexOf("/"));return r.createElement("div",{"data-test-selector":ac.PreviewImage,style:{backgroundImage:"url("+p+"/"+c+")",width:148,height:a,backgroundPosition:"-"+d+"px -"+u+"px",backgroundSize:148*i.cols+"px",position:qt.o.Relative}})},t}(r.Component),uc=n("i0WD");function pc(e){return Object(i.__awaiter)(this,void 0,Promise,(function(){var t;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return[4,fetch(e)];case 1:if(200===(t=n.sent()).status)return[2,t.json()];throw new Error("Could not fetch seek previews at "+e)}}))}))}function mc(e){return e.data&&e.data.video&&e.data.video.seekPreviewsURL}!function(e){e.Low="low",e.High="high"}(cc||(cc={}));var fc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.state.seekPreviews,t=mc(this.props),n=!!this.props.data&&!this.props.data.loading;return r.createElement(bi.a,{type:bi.d.Fade,duration:bi.c.Short,show:n&&this.props.show},r.createElement(dc,{currentTimeInSeconds:this.props.currentTimeInSeconds,durationInSeconds:this.props.durationInSeconds,seekPreviewsURL:t||void 0,seekPreview:e&&e[0]}))},t.prototype.componentDidUpdate=function(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,n,a;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(!(t=mc(this.props))||t===mc(e))return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,pc(t)];case 2:return n=i.sent(),this.setState({seekPreviews:n}),[3,4];case 3:return a=i.sent(),l.k.warn(a.message),[3,4];case 4:return[2]}}))}))},t}(r.Component),vc=Object(s.d)(Object(S.c)((function(e){return{vodID:Object(A.n)(e.content)}})),te(),Object(B.a)(uc,{options:function(e){var t;return{variables:{videoID:null!==(t=e.vodID)&&void 0!==t?t:e.collectionVodID}}},skip:function(e){return!e.vodID&&!e.collectionVodID}}))(fc),gc=(n("+NL3"),function(e){var t=e.currentTimeInSeconds,n=e.durationInSeconds,i=Ul(t),a=Ul(n);return r.createElement(Ht.a,{display:qt.h.Flex,justifyContent:qt.m.Between,className:"vod-seekbar-time-labels"},r.createElement(tn.a,{"data-a-target":"player-seekbar-current-time",color:qt.f.Overlay},i),r.createElement(tn.a,{"data-a-target":"player-seekbar-duration","data-a-value":n,color:qt.f.Overlay},a))}),hc=25,bc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hoverLocation:0,isMouseOver:!1},t.throttleTimer=new Rl.a(hc),t.handleThumbDragStart=function(){t.props.onThumbDragStart()},t.handleThumbLocationChange=function(e){t.props.onThumbLocationChanged(e)},t.handleMouseOverLocationChange=function(e){t.throttleTimer.invoke((function(){t.setState((function(t){return t.hoverLocation===e?null:{hoverLocation:e}}))}))},t.handleMouseOverChange=function(e){t.setState((function(t){return t.isMouseOver===e?null:{isMouseOver:e}}))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.thumbLocation,a=t.bufferDuration,o=t.vodLength,s=t.mutedSegments,l=t.editingSegments,c=o,d=l?function(e){if(!e)return[];return e.map((function(e,t){var n=e.startOffset,i=e.endOffset;return{type:tc.Fixed,id:"editing-segment-"+t,start:n,end:i,color:lc.a.Yellow}}))}(l):Object(i.__spreadArrays)([(e=a,{type:tc.AfterThumb,id:"buffer-segment",color:"hsla(0, 0%, 100%, 0.85)",length:e}),{type:tc.FillToThumb,id:"watched-segment",color:lc.a.Purple10}],function(e){return e.map((function(e,t){var n=e.duration,i=e.offset;return{type:tc.Fixed,id:"muted-segment-"+t,start:i,end:i+n,color:"rgba(212, 73, 73, 0.5)"}}))}(s));return r.createElement(Ht.a,{display:qt.h.Flex,flexDirection:qt.i.Column,alignItems:qt.b.Stretch},r.createElement(vc,{currentTimeInSeconds:this.state.hoverLocation,durationInSeconds:c,show:this.state.isMouseOver}),r.createElement(gc,{currentTimeInSeconds:n,durationInSeconds:c}),r.createElement(ic,{alwaysShowThumb:!!l,seekbarMin:0,seekbarMax:c,thumbLocation:n,onThumbLocationChange:this.handleThumbLocationChange,onThumbDragStart:this.handleThumbDragStart,onMouseOverLocationChange:this.handleMouseOverLocationChange,onMouseOverChange:this.handleMouseOverChange,segments:d}))},t}(r.Component);var yc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hoverLocation:0,isMouseOver:!1},t.throttleTimer=new Rl.a(hc),t.handleMouseOverLocationChange=function(e){t.throttleTimer.invoke((function(){t.setState((function(t){return t.hoverLocation===e?null:{hoverLocation:e}}))}))},t.handleMouseOverChange=function(e){t.setState((function(t){return t.isMouseOver===e?null:{isMouseOver:e}}))},t.handleThumbLocationChange=function(e){t.props.onThumbLocationChanged(e)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.thumbLocation,n=e.clipLength,i=e.minAllowed,a=e.maxAllowed,o=n,s=[{type:tc.Fixed,id:"selected-segment",start:i,end:a,color:lc.a.Yellow}];return r.createElement(Ht.a,{display:qt.h.Flex,flexDirection:qt.i.Column,alignItems:qt.b.Stretch},r.createElement(Hl,{currentTimeInSeconds:t,durationInSeconds:o,show:this.state.isMouseOver}),r.createElement(Vl,{currentTimeInSeconds:t,durationInSeconds:o}),r.createElement(ic,{seekbarMin:0,seekbarMax:o,thumbLocation:t,segments:s,onThumbLocationChange:this.handleThumbLocationChange,minAllowedThumbLocation:i,maxAllowedThumbLocation:a,alwaysShowThumb:!0,onMouseOverLocationChange:this.handleMouseOverLocationChange,onMouseOverChange:this.handleMouseOverChange}))},t}(r.Component),kc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={thumbLocation:0,clipLength:0},t.handleTimeChanged=function(e){t.setState({thumbLocation:e})},t.handleSeekComplete=function(e){t.setState({thumbLocation:e})},t.handleThumbLocationChanged=function(e){var n=t.props.mediaPlayerInstance;n&&n.seekTo(e)},t.handleDurationChanged=function(e){e>0&&t.setState({clipLength:e})},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(C.f.DURATION_CHANGED,this.handleDurationChanged)},t.prototype.render=function(){var e=this.props,t=e.startOffset,n=e.endOffset,i=Math.min(Math.max(this.state.thumbLocation,t),n);return r.createElement(r.Fragment,null,r.createElement(qe.a,{onTimeChanged:this.handleTimeChanged}),r.createElement(Ml,{onSeekComplete:this.handleSeekComplete}),r.createElement(yc,{thumbLocation:i,clipLength:this.state.clipLength,minAllowed:t,maxAllowed:n,onThumbLocationChanged:this.handleThumbLocationChanged}))},t}(r.Component),Sc=Object(s.d)(Object(k.c)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),Object(y.a)())(kc);var Ec=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hoverLocation:0,isMouseOver:!1},t.throttleTimer=new Rl.a(hc),t.handleMouseOverLocationChange=function(e){t.throttleTimer.invoke((function(){t.setState((function(t){return t.hoverLocation===e?null:{hoverLocation:e}}))}))},t.handleMouseOverChange=function(e){t.setState((function(t){return t.isMouseOver===e?null:{isMouseOver:e}}))},t.handleThumbLocationChange=function(e){t.props.onThumbLocationChanged(e)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.thumbLocation,n=e.clipLength,i=[{type:tc.FillToThumb,id:"watched-segment",color:lc.a.Purple10}];return r.createElement(Ht.a,{display:qt.h.Flex,flexDirection:qt.i.Column,alignItems:qt.b.Stretch},r.createElement(Hl,{currentTimeInSeconds:this.state.hoverLocation,durationInSeconds:n,show:this.state.isMouseOver}),r.createElement(Vl,{currentTimeInSeconds:t,durationInSeconds:n}),r.createElement(ic,{seekbarMin:0,seekbarMax:n,thumbLocation:t,segments:i,onThumbLocationChange:this.handleThumbLocationChange,onMouseOverLocationChange:this.handleMouseOverLocationChange,onMouseOverChange:this.handleMouseOverChange}))},t}(r.Component),Cc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={thumbLocation:0},t.handleTimeChanged=function(e){t.setState({thumbLocation:e})},t.handleSeekComplete=function(e){t.setState({thumbLocation:e})},t.handleThumbLocationChanged=function(e){var n=t.props.mediaPlayerInstance;n&&n.seekTo(e+t.props.startOffset)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.startOffset,n=e.endOffset,i=Math.min(Math.max(this.state.thumbLocation,t),n);return r.createElement(r.Fragment,null,r.createElement(qe.a,{onTimeChanged:this.handleTimeChanged}),r.createElement(Ml,{onSeekComplete:this.handleSeekComplete}),r.createElement(Ec,{onThumbLocationChanged:this.handleThumbLocationChanged,thumbLocation:i-t,clipLength:n-t}))},t}(r.Component),Oc=Object(s.d)(Object(k.c)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),Object(y.a)())(Cc);var _c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={thumbLocation:0},t.handleTimeChanged=function(e){t.setState({thumbLocation:e})},t.handleThumbLocationChanged=function(e){var n=t.props.mediaPlayerInstance;n&&n.seekTo(e),t.setState({thumbLocation:e})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props.clipLength,t=this.state.thumbLocation;return r.createElement(r.Fragment,null,r.createElement(qe.a,{onTimeChanged:this.handleTimeChanged}),r.createElement(Ec,{onThumbLocationChanged:this.handleThumbLocationChanged,thumbLocation:t,clipLength:e}))},t}(r.Component),wc=Object(k.c)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}}))(_c);var Pc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={clipLength:0,thumbLocation:0},t.handleDurationChanged=function(e){e>0&&t.setState({clipLength:e})},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(C.f.DURATION_CHANGED,this.handleDurationChanged)},t.prototype.render=function(){var e=this.props.clipContent;if(!e)return null;var t=Object(A.e)(e);if(t&&t.length){var n=Object(A.f)(e),i=t[0],a=i.startOffset,o=i.endOffset;return n?r.createElement(Oc,{startOffset:a,endOffset:o}):r.createElement(Sc,{startOffset:a,endOffset:o})}return this.state.clipLength?r.createElement(wc,{clipLength:this.state.clipLength}):null},t}(r.Component),Nc=Object(s.d)(Object(S.c)((function(e){var t=Object(_.c)({playerPublicPropsContext:e});return{clipContent:Object(A.o)(t)?t:null}})),Object(y.a)())(Pc);var Tc=n("i/Zp");function Dc(e){return e.type||Tc.a.Site}var Ic=Object(s.d)(Object(Ke.e)((function(e){return{toggleClipSharing:e.toggleClipSharing}})),Object(S.c)((function(e){return{isClipEmbed:Dc(e)===Tc.a.ClipsEmbed}})))((function(e){var t=e.isClipEmbed,n=e.toggleClipSharing;return t?r.createElement(pl.a,{onClick:n,buttonIcon:zt.a.Share,tooltipAlign:_a.b.Right,label:Object(l.d)("Share","ClipShareButton")}):null}));var Ac=function(e){var t=e.onClick;return r.createElement(pl.a,{"data-a-target":"player-clip-button",tooltipAlign:_a.b.Right,label:Object(ht.d)("Clip (alt+x)","ClipsButtonComponent"),buttonIcon:zt.a.Clip,onClick:t})},jc=n("p46w"),xc=n("SDEh"),Lc=n("rwoo"),Fc="https://clips.twitch.tv",Mc="https://clips-staging.twitch.tv",Rc="https://clips-alpha.twitch.tv",Vc="clips_target",Bc="clips-staging";function Uc(e,t,n,a){return void 0===n&&(n=window.location.origin),void 0===a&&(a=window.location.search),Object(i.__awaiter)(this,void 0,void 0,(function(){var r,o,s,l,c,d;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return r=Object(xc.d)(),o=r?null:window.open("","_blank"),s=function(e,t){if(/\/\/(www|dashboard|player|go|canary|rc|.*\.rc|.*\.canary)\.twitch\.tv/.test(e))return Fc;if(t[Vc])return"https://clips-"+t[Vc]+".twitch.tv";if(/\/\/pr\d{5}\.twitch\.tech/.test(e))return"https://clips-"+e.replace("https://","");if(/\/\/betaplayer\.twitch\.tv/.test(e))return Rc;var n=jc.get(Bc);return n||Mc}(n,Object($.parse)(a)),[4,t({variables:{input:e}})];case 1:return(l=i.sent().data.createClip)&&l.error&&l.error.code?c=s+"/clips/"+function(e){switch(e){case X.ub.CHANNEL_NOT_LIVE:return Lc.a.ChannelNotLive;case X.ub.USER_BANNED:return Lc.a.UserBanned;case X.ub.USER_TIMED_OUT:return Lc.a.UserTimedOut;case X.ub.USER_RESTRICTED:return Lc.a.UserRestricted;case X.ub.CHANNEL_BANNED:return Lc.a.ChannelBanned;case X.ub.CHANNEL_NOT_CLIPPABLE:return Lc.a.ChannelNotClippable;case X.ub.REQUEST_THROTTLED:case X.ub.UNKNOWN:default:return Lc.a.Default}}(l.error.code):l&&l.clip?(d=l.clip.url.replace("https://clips.twitch.tv",s),c=d+"/edit"):c=s+"/clips/"+Lc.a.Default,o&&!r?o.location.href=c:window.open(c,"_blank"),[2]}}))}))}var qc=n("B2TP"),Gc=n("WOwR");function Hc(e){return!e||!l.b.get("highwind_no_clips_channels",[]).includes(e)}function Wc(e){var t=e.isOffline,n=e.content,i=Yc(e),a=Object(A.n)(n),r=!!i;return!(r&&t||!!!a&&!r)}function zc(e){return e.isLoggedIn&&!e.disableClipping&&(function(e){var t=e.channel_data;if(void 0===t||t.loading||!t.userByAttribute||!t.userByAttribute.stream)return!1;var n=t.userByAttribute.stream,i=n.id,a=n.isEncrypted,r=Boolean(i),o=Yc(e);return r&&Hc(o)&&!a}(e)||function(e){return!!Object(A.n)(e.content)&&Hc(Yc(e))}(e))&&(n=(t=e).content,i=t.isPlaying,a=t.hasPlayed,r=Object(A.s)(n)&&!i,a&&!r)&&Wc(e)&&function(e){return!e.isVideoAdShowing}(e)&&Wc(e);var t,n,i,a,r}var Qc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var e,t,n,a,r,o,s,l,c,d;return Object(i.__generator)(this,(function(i){return void 0===(e=this.props.mediaPlayerInstance)?[2]:(t=(null===(l=null===(s=null===(o=this.props.channel_data)||void 0===o?void 0:o.userByAttribute)||void 0===s?void 0:s.stream)||void 0===l?void 0:l.id)||null,n=(null===(d=null===(c=this.props.channel_data)||void 0===c?void 0:c.userByAttribute)||void 0===d?void 0:d.id)||null,a=Object(A.n)(this.props.content)||void 0,n?(r=this.props.content.type===U.a.Live?e.getStartOffset()+e.getPosition():e.getPosition(),Uc({broadcastID:t,broadcasterID:n,videoID:a,offsetSeconds:r},this.props.createClip),this.props.track(T.SpadeEventType.VideoPlayerClickClip),[2]):[2])}))}))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return zc(this.props)&&r.createElement(Ac,{onClick:this.onClick})},t.prototype.componentDidMount=function(){ze.bind("alt+x",this.onClick)},t.prototype.componentWillUnmount=function(){ze.unbind("alt+x")},t}(r.Component);var Kc=Object(B.a)(Gc,{options:function(e){return{variables:{input:{login:Yc(e),ownsVideoID:Object(A.n)(e.content)}}}},skip:function(e){return!e.isLoggedIn||!Yc(e)&&!Object(A.n)(e.content)},name:"channel_data"});function Yc(e){var t=e.content;return Object(A.s)(t)?t.channelLogin:null}var $c=Object(s.d)(Object(o.b)((function(e){return{isLoggedIn:Object(dr.f)(e)}})),Object(k.c)((function(e){var t=e.mediaPlayerInstance,n=e.hasPlayed,i=e.isOffline;return{mediaPlayerInstance:t,hasPlayed:n,isOffline:i}})),Object(S.c)((function(e){return{content:e.content,disableClipping:Object(_.a)({playerPublicPropsContext:e}).disableClipping}})),Object(E.e)((function(e){return{isPlaying:e.isPlaying}})),Object(f.c)((function(e){return{isVideoAdShowing:Object(Et.d)(e.videoAdMetadata)}})),Kc,Object(B.a)(qc,{name:"createClip"}),Object(I.c)())(Qc);var Xc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(){var e=t.props,n=e.captionsEnabled,i=e.setClosedCaptionsEnabled;(0,e.track)(T.SpadeEventType.VideoPlayerClickCaptions),i(!n)},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){ze.bind("c",this.onClick)},t.prototype.componentWillUnmount=function(){ze.unbind("c")},t.prototype.render=function(){return this.props.captionsAvailable?r.createElement(pl.a,{tooltipAlign:_a.b.Right,label:Object(ht.d)("Captions (c)","ClosedCaptionsButtonComponent"),buttonIcon:this.props.captionsEnabled?zt.a.CC:zt.a.CCOff,onClick:this.onClick}):null},t}(r.Component),Jc=Object(s.d)(Object(Ke.e)((function(e){var t=e.captions,n=e.setClosedCaptionsEnabled;return{captionsAvailable:t.available,captionsEnabled:t.enabled,setClosedCaptionsEnabled:n}})),Object(I.c)())(Xc);var Zc=n("KV4g"),ed=n("FMdv"),td=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderExtensionMenuSections=function(){var e=t.props,n=e.installations,i=e.isOverlayVisible,a=e.toggleOverlayVisibility;return n.map((function(e,o){return r.createElement("div",{key:e.extension.id},r.createElement(Ht.a,{display:qt.h.Flex,padding:{x:.5},margin:{y:.5}},r.createElement(Ht.a,{display:qt.h.Flex,flexGrow:1},r.createElement(tn.a,{color:qt.f.Overlay,fontSize:qt.k.Size6,transform:tn.d.Uppercase,bold:!0},e.extension.name)),r.createElement(Ht.a,{display:qt.h.Flex,alignItems:qt.b.Center,margin:{left:2},flexShrink:0,attachRight:!0},r.createElement(ji.a,{className:"extensions-settings-menu__icon",src:e.extension.iconUrls.square24||e.extension.iconUrls.square100,alt:e.extension.name}))),r.createElement(Oo.a,{label:Object(l.d)("Learn More","ExtensionSettingsMenuMainComponent"),linkTo:co(e),targetBlank:!0}),e.activationConfig.anchor===Pr.ExtensionAnchor.Overlay&&r.createElement(So.a,{type:So.b.Toggle,label:Object(l.d)("Visible","ExtensionSettingsMenuMainComponent"),checked:i,onChange:a}),t.renderManageAccessOption(e),r.createElement(Oo.a,{actionIcon:zt.a.AngleRight,label:Object(l.d)("Report Extension","ExtensionSettingsMenuMainComponent"),onClick:t.openReportMenu(e)}),o!==n.length-1&&r.createElement(ko.a,null))}))},t.renderManageAccessOption=function(e){var n=t.props,i=n.loginID,a=n.permissionsStates,o=e&&e.extension.requestIdentityLink,s=so(e,a).identityLinkedStatus===or.LINKED;return!ro(e)&&!!i&&(o||s)?r.createElement(Oo.a,{label:Object(l.d)("Manage Access","ExtensionSettingsMenuMainComponent"),onClick:t.openInstallationManageAccessMenu(e)}):null},t.openInstallationManageAccessMenu=function(e){return function(){t.props.setMenuState({type:cr.MANAGE_ACCESS},e)}},t.openReportMenu=function(e){return function(){t.props.setMenuState({type:cr.REPORT},e)}},t.closeMenu=function(){(0,t.props.setMenuState)({type:cr.NONE})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return r.createElement(Ht.a,null,r.createElement(Oo.a,{label:Object(l.d)("Close","ExtensionSettingsMenuMainComponent"),figure:{icon:zt.a.Close},onClick:this.closeMenu}),r.createElement(ko.a,null),this.renderExtensionMenuSections())},t}(r.Component),nd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleToggleAccess=function(){var e=t.props,n=e.toggleAccess,i=e.installation;i&&n(i)},t.handleCancel=function(){var e=t.props,n=e.installation,i=e.setMenuState;n&&i({type:cr.NONE},n)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.installation,n=e.permissionsStates;if(!t)return null;var i=so(t,n),a=i.identityLinkedStatus===or.LINKED||i.identityLinkedStatus===or.LINK_REQUESTED,o=i.identityLinkedStatus===or.LINK_REQUESTED||i.identityLinkedStatus===or.UNLINK_REQUESTED;return r.createElement(Ht.a,{padding:{x:.5},margin:{y:.5}},r.createElement(Ht.a,{margin:{y:1}},r.createElement(tn.a,null,Object(l.d)("You are granting this Developer access to your Twitch user ID.","ExtensionsMenuManageAccess"))),r.createElement(Ht.a,{margin:{bottom:1}},r.createElement(tn.a,null,Object(l.d)("Allow this extension to know your user ID on Twitch.","ExtensionsMenuManageAccess"))),r.createElement(Ht.a,{margin:{y:1}},r.createElement(Oo.a,{label:Object(l.d)("Manage Permissions","ExtensionsMenuManageAccess"),figure:{icon:zt.a.PermissionsRemove},linkTo:"https://www.twitch.tv/settings/connections",targetBlank:!0})),r.createElement(Gt.a,{fullWidth:!0,display:qt.h.Flex,flexDirection:qt.i.Row,flexWrap:qt.j.WrapReverse,justifyContent:qt.m.End,margin:{top:1}},r.createElement(Ht.a,{flexGrow:1,margin:{bottom:1,x:.5}},r.createElement(yn.a,{fullWidth:!0,size:yn.b.Small,type:yn.d.Secondary,onClick:this.handleCancel},Object(l.d)("Cancel","ExtensionsMenuManageAccess"))),r.createElement(Ht.a,{flexGrow:1},r.createElement(yn.a,{fullWidth:!0,size:yn.b.Small,type:yn.d.Primary,onClick:this.handleToggleAccess,disabled:o},a?Object(l.d)("Revoke","ExtensionsMenuManageAccess"):Object(l.d)("Grant","ExtensionsMenuManageAccess")))))},t}(r.Component),id=function(e){function t(t){var n=e.call(this,t)||this;return n.handleReasonSelect=function(e){var t=e.currentTarget.value;n.setState({reportReason:t,reportReasonError:!t})},n.handleDescriptionChange=function(e){var t=e.currentTarget.value.trim();n.setState((function(e){return e.reportDescription===t?null:{reportDescription:t,reportDescriptionError:!t}}))},n.handleSubmit=function(){var e=n.props,t=e.installation,i=e.reportExtension,a=e.channelID;if(t){var r=n.state,o=r.reportReason,s=r.reportDescription;i({content:X.Xd.EXTENSION_REPORT,description:s||"",reason:o||"",contentID:oo(t),targetID:a||"",extra:""})}},n.handleCancel=function(){var e=n.props,t=e.installation,i=e.setMenuState;t&&i({type:cr.NONE},t)},n.state={reportReasonError:!1,reportDescriptionError:!1},n}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props.reportReasons;return r.createElement(Ht.a,{padding:{x:.5},margin:{y:.5}},r.createElement(Ht.a,{margin:{y:1}},r.createElement(tn.a,null,Object(l.d)("Tell us why there has been a violation of the terms of service. Abuse of this feature is also a violation of our terms of services.","ExtensionsMenuReport"))),r.createElement(Ht.a,{margin:{y:1}},r.createElement(bn.a,{required:!0,defaultValue:"",onChange:this.handleReasonSelect,onBlur:this.handleReasonSelect,error:this.state.reportReasonError},r.createElement("option",{key:"report-reason-placeholder",value:"",disabled:!0},Object(l.d)("Select Reason","ExtensionsMenuReport")),e.map((function(e){return r.createElement("option",{key:"report-reason-"+e.id,value:e.id},e.text)})))),r.createElement(Ht.a,{margin:{y:1}},r.createElement(Mo.a,{placeholder:Object(l.d)("Description Required","ExtensionsMenuReport"),onChange:this.handleDescriptionChange,onBlur:this.handleDescriptionChange,error:this.state.reportDescriptionError})),r.createElement(Gt.a,{fullWidth:!0,display:qt.h.Flex,flexDirection:qt.i.Row,flexWrap:qt.j.WrapReverse,justifyContent:qt.m.End,margin:{y:1}},r.createElement(Ht.a,{flexGrow:1,margin:{bottom:1,x:.5}},r.createElement(yn.a,{fullWidth:!0,size:yn.b.Small,type:yn.d.Secondary,onClick:this.handleCancel},Object(l.d)("Cancel","ExtensionsMenuReport"))),r.createElement(Ht.a,{flexGrow:1,margin:{bottom:1,x:.5}},r.createElement(yn.a,{fullWidth:!0,size:yn.b.Small,type:yn.d.Primary,disabled:!this.state.reportReason||!this.state.reportDescription,onClick:this.handleSubmit},Object(l.d)("Submit","ExtensionsMenuReport")))))},t}(r.Component),ad=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.reportExtension=function(e){var n=Object(i.__assign)(Object(i.__assign)({},e),{content:X.Xd.EXTENSION_REPORT});t.props.reportUser(Object(L.a)(n))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.installation,a=t.setMenuState,o=t.channelID;e=this.props.data.loading||null===this.props.data.reportReasons?[{id:"loading",text:Object(l.d)("Loading","ExtensionsMenuReport")}]:this.props.data.reportReasons;var s={reportExtension:this.reportExtension,reportReasons:e,channelID:o,installation:n,setMenuState:a};return r.createElement(id,Object(i.__assign)({},s))},t}(r.Component),rd=Object(s.d)(Object(B.a)(Fo,{name:"reportUser"}),Object(B.a)(Lo,{options:function(){return{variables:{content:X.Xd.EXTENSION_REPORT}}}}))(ad),od=(n("4TNP"),.8),sd=function(e){function t(t){var n=e.call(this,t)||this;return n.renderActiveMenu=function(){var e=n.props,t=e.channelID,i=e.loginID,a=e.allVideoExtensions,o=e.isOverlayVisible,s=e.permissionsStates,l=n.selectedInstallation;switch(n.props.playerMenuState.type){case cr.SETTINGS:return r.createElement(td,{loginID:i,installations:a,isOverlayVisible:o,toggleOverlayVisibility:n.toggleOverlayVisibility,permissionsStates:s,setMenuState:n.setMenuState});case cr.MANAGE_ACCESS:return l?r.createElement(nd,{permissionsStates:s,installation:l,maxMenuHeight:n.state.maxMenuHeight,toggleAccess:n.toggleAccess,setMenuState:n.setMenuState}):null;case cr.REPORT:return l?r.createElement(rd,{channelID:t,installation:l,setMenuState:n.setMenuState}):null;case cr.NONE:default:return null}},n.handleClick=function(){n.isMenuOpen?n.closeSettingsMenu():n.openSettingsMenu()},n.openSettingsMenu=function(){var e=n.props.track;n.props.setPlayerMenuState(cr.SETTINGS),e(T.SpadeEventType.VideoPlayerClickExtensionSettings)},n.closeSettingsMenu=function(){n.props.setPlayerMenuState(cr.NONE)},n.getMaxMenuHeight=function(){var e=Object(Vn.a)(n.props.videoContainer).height;return e?e*od:void 0},n.handleResize=function(){var e=n.getMaxMenuHeight();e&&n.setState({maxMenuHeight:e})},n.toggleOverlayVisibility=function(){n.props.setOverlayVisibility(!n.props.isOverlayVisible)},n.setMenuState=function(e,t){n.props.setPlayerMenuState(e.type,t)},n.toggleAccess=function(e){var t=n.props,i=t.setPermissionsState,a=t.trackExtensionEvent,r=t.permissionsStates,o=so(e,r),s=o.identityLinkedStatus,l=o.linkIdentity,c=o.unlinkIdentity,d=s===or.UNLINKED?or.LINK_REQUESTED:or.UNLINK_REQUESTED;i(e,{identityLinkedStatus:d}),d===or.LINK_REQUESTED&&l&&l(),d===or.UNLINK_REQUESTED&&c&&c(),a(br.MenuOptionClick,d===or.UNLINK_REQUESTED?yr.Revoke:yr.Grant,kr.ExtensionDockMenuOptionClick,e),n.setMenuState({type:cr.NONE},e)},n.state={maxMenuHeight:n.getMaxMenuHeight()},n}return Object(i.__extends)(t,e),Object.defineProperty(t.prototype,"isMenuOpen",{get:function(){return this.props.playerMenuState.type!==cr.NONE},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedInstallation",{get:function(){var e=this;return this.props.allVideoExtensions.find((function(t){return oo(t)===e.props.playerMenuState.selectedInstallationID}))},enumerable:!0,configurable:!0}),t.prototype.render=function(){var e;if(!this.props.enableExtensions||!this.props.allVideoExtensions.length)return null;var t=Object(Zc.c)(),n=a("settings-menu-button-component",((e={"settings-menu-button-component--forced-dark-theme":t})[Object(Bt.b)(Vt.a.Dark)]=t,e));return r.createElement(r.Fragment,null,r.createElement(ca.a,{onClickOut:this.closeSettingsMenu},r.createElement(Ht.a,{className:n},r.createElement(ed.a,{direction:Lr.b.TopRight,show:this.isMenuOpen,offsetX:"50px",size:xr.a.Medium,maxHeight:this.state.maxMenuHeight?this.state.maxMenuHeight+"px":void 0},this.renderActiveMenu())),r.createElement(pl.a,{"data-a-target":"extensions-settings-button",tooltipAlign:_a.b.Right,buttonIcon:zt.a.Extensions,label:Object(l.d)("Extension Settings","ExtensionsSettingsMenuButtonComponent"),onClick:this.handleClick})),this.isMenuOpen&&r.createElement(Mn.a,{onResize:this.handleResize}))},t}(r.Component),ld=Object(s.d)(Cr((function(e){var t=e.loginID,n=e.channelID,i=e.overlayExtension,a=e.allVideoExtensions,r=e.setOverlayVisibility,o=e.permissionsStates,s=e.isOverlayVisible,l=e.setPermissionsState,c=e.trackEvent,d=e.setPlayerMenuState,u=e.getPlayerMenuState;return{loginID:t,channelID:n,overlayExtension:i,allVideoExtensions:a,setOverlayVisibility:r,permissionsStates:o,isOverlayVisible:s,setPermissionsState:l,playerMenuState:u(),setPlayerMenuState:d,trackExtensionEvent:c}})),Object(Ke.e)((function(e){return{videoContainer:e.videoContainer}})),Object(I.c)(),Object(S.c)((function(e){return{enableExtensions:Object(_.a)({playerPublicPropsContext:e}).enableExtensions}})))(sd);var cd=function(e){var t=e.isFullscreen?zt.a.FullscreenExit:zt.a.Fullscreen,n=e.isFullscreen?e.onExitFullscreen:e.onEnterFullscreen,i=e.isFullscreen?Object(l.d)("Exit Fullscreen (f)","FullscreenButtonPresentation"):Object(l.d)("Fullscreen (f)","FullscreenButtonPresentation");return r.createElement(pl.a,{"data-a-target":"player-fullscreen-button",buttonIcon:t,label:i,onClick:n,disabled:!e.canFullscreen,tooltipAlign:_a.b.Right})},dd=function(e){function t(t){var n=e.call(this,t)||this;return n.canFullscreen=function(){var e;if(n.props.fullscreen.supported())return!0;var t=null===(e=n.props.videoContainer)||void 0===e?void 0:e.getElementsByTagName("video"),i=t&&t[0]?t[0]:null;return n.props.fullscreen.videoSupported(i)},n.onEnterFullscreen=function(){n.trackFullscreenClick(),n.props.enterFullscreen()},n.onExitFullscreen=function(){n.trackFullscreenClick(),n.props.exitFullscreen()},n.trackFullscreenClick=function(){n.props.track(T.SpadeEventType.VideoPlayerClickFullscreen)},n.onInitialized=function(){n.state.canFullscreen||n.setState({canFullscreen:n.canFullscreen()})},n.state={canFullscreen:n.canFullscreen()},n}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(C.f.INITIALIZED,this.onInitialized)},t.prototype.render=function(){return this.props.fullscreenDisabled?null:r.createElement(cd,{canFullscreen:this.state.canFullscreen,isFullscreen:this.props.isFullscreen,onEnterFullscreen:this.onEnterFullscreen,onExitFullscreen:this.onExitFullscreen})},t}(r.Component);var ud=Object(s.d)(Object(Ke.e)((function(e){return{enterFullscreen:e.enterFullscreen,exitFullscreen:e.exitFullscreen,isFullscreen:e.isFullscreen,videoContainer:e.videoContainer}})),Object(S.c)((function(e){return{fullscreenDisabled:Object(_.a)({playerPublicPropsContext:e}).disableFullscreen}})),Object(y.a)(),Object(Qe.a)(),Object(I.c)())(dd),pd="lowLatencyMaxSeenCount",md="lowLatencySeenThisWeekTimestamp";function fd(){return l.m.get(pd,0)}n("+g4L");var vd=3,gd=10,hd=3,bd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bufferEvents=[],t.lastBufferDate=null,t.state={shouldShow:!1},t.handleClose=function(){t.setState({shouldShow:!1})},t.handleBuffering=function(){t.recordBufferEvent(),t.shouldShowNotification()&&t.setState({shouldShow:!0},(function(){return l.m.set(md,(new Date).getTime()),void l.m.set(pd,fd()+1)}))},t.recordBufferEvent=function(){var e=new Date;t.bufferEvents.push(e),t.bufferEvents=t.bufferEvents.filter((function(t){return t>Object(mn.subMinutes)(e,gd)})),t.bufferEvents=t.bufferEvents.slice(-vd)},t.shouldShowNotification=function(){return t.props.isLive&&t.props.isLowLatencyCapable&&t.props.isLowLatencyEnabled&&!t.props.disableSettingsMenuButton&&t.bufferEvents.length>=vd&&fd()<=hd&&(!(e=l.m.get(md,null))||Object(mn.subDays)(new Date,7)>=new Date(e));var e},t}return Object(i.__extends)(t,e),t.prototype.componentDidUpdate=function(e){e.isPlaying&&this.props.isBuffering&&this.handleBuffering()},t.prototype.render=function(){return this.state.shouldShow?r.createElement(Gt.a,{padding:1,display:qt.h.Flex,alignItems:qt.b.Start,background:qt.d.Overlay,className:"low-latency-notification"},r.createElement(tn.a,null,Object(l.d)("Is video buffering? Use the Low Latency toggle under the Advanced menu in Settings to disable low latency mode","LowLatencyNotification")),r.createElement(Ht.a,{flexShrink:0},r.createElement(Wt.a,{"aria-label":Object(l.d)("Close low latency reminder","LowLatencyNotification"),overlay:!0,icon:zt.a.Close,onClick:this.handleClose,size:Wt.b.Small}))):null},t}(r.Component);var yd=Object(s.d)(Object(S.c)((function(e){return{isLive:Object(A.s)(e.content),disableSettingsMenuButton:Object(_.a)({playerPublicPropsContext:e}).disableSettingsMenuButton}})),Object(k.c)((function(e){return{isBuffering:Object(fe.f)(e),isLowLatencyCapable:Object(fe.i)(e),isLowLatencyEnabled:e.isLiveLowLatencyEnabled,isPlaying:Object(fe.j)(e)}})))(bd),kd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onEnterMultiview=function(){t.props.onEnterMultiview&&(t.props.track(T.SpadeEventType.VideoPlayerClickMultiview),t.props.onEnterMultiview())},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=Object(A.j)(this.props.content);return!e||this.props.disableMultiviewButton?null:r.createElement(pl.a,{buttonIcon:zt.a.MultiscreenEqualThree,label:e.buttonText,onClick:this.onEnterMultiview,tooltipAlign:_a.b.Right})},t}(r.Component);var Sd,Ed=Object(s.d)(Object(S.c)((function(e){var t=Object(_.b)({playerPublicPropsContext:e}).onEnterMultiview,n=Object(_.a)({playerPublicPropsContext:e}).disableMultiviewButton;return{content:e.content,onEnterMultiview:t,disableMultiviewButton:n}})),Object(I.c)())(kd);!function(e){e[e.AwaitingReplay=0]="AwaitingReplay",e[e.Paused=1]="Paused",e[e.Playing=2]="Playing"}(Sd||(Sd={}));var Cd=function(e){if(e.showPlaceholder)return r.createElement(Zo.a,{width:30,height:30});var t=function(e){switch(e){case Sd.AwaitingReplay:return zt.a.VideoRerun;case Sd.Playing:return zt.a.MiniPlayerPause;case Sd.Paused:default:return zt.a.MiniPlayerPlay}}(e.buttonState),n=function(e){switch(e){case Sd.Playing:return Object(l.d)("Pause (space/k)","PlayPauseButtonPresentation");case Sd.Paused:return Object(l.d)("Play (space/k)","PlayPauseButtonPresentation");case Sd.AwaitingReplay:return Object(l.d)("Replay (space/k)","PlayPauseButtonPresentation");default:return}}(e.buttonState)||"",i=e.buttonState===Sd.Playing,a=i?e.onPause:e.onPlay;return r.createElement(pl.a,{"data-a-target":"player-play-pause-button","data-a-player-state":i?"playing":"paused",buttonIcon:t,label:n,onClick:a,tooltipAlign:_a.b.Left,disabled:e.disabled})};var Od=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getButtonState=function(e){return e.isPlaying?Sd.Playing:t.shouldShowReplayButton(e)?Sd.AwaitingReplay:Sd.Paused},t.shouldShowReplayButton=function(e){return e.isClip&&!e.isPlaying&&e.isEnded&&!e.isVideoAdShowing},t.play=function(){t.trackPlayPause(),t.props.play()},t.pause=function(){t.trackPlayPause(),t.props.pause()},t.trackPlayPause=function(){t.props.track(T.SpadeEventType.VideoPlayerClickPlayPause)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return r.createElement(Cd,{showPlaceholder:this.props.isPlayerCoreLoading,buttonState:this.getButtonState(this.props),onPlay:this.play,onPause:this.pause,disabled:this.props.error})},t}(r.Component),_d=Object(s.d)(Object(f.c)((function(e){return{isVideoAdShowing:Object(Et.d)(e.videoAdMetadata)}})),Object(E.e)((function(e){var t=e.isPlaying,n=e.play,i=e.pause;return{isPlaying:t,play:n,pause:i}})),Object(k.c)((function(e){return{isEnded:Object(fe.g)(e),isPlayerCoreLoading:e.isPlayerCoreLoading,error:!!e.error}})),Object(S.c)((function(e){var t=e.content;return{isClip:Object(A.o)(t)}})),Object(I.c)())(Od);function wd(e){if(e.group===Se.a)return Object(l.d)("Auto","SettingsMenuSubmenuQuality");var t="on"===l.p.experiments.getAndTrackAssignment("twilight_settings_labelling");return e.isDefault&&t?Pd(e.name):e.isDefault?Object(l.d)("{resolution} (Source)",{resolution:Pd(e.name)},"SettingsMenuSubmenuQuality"):e.name}function Pd(e){return e.split("(source)")[0].trim()}var Nd=n("eUaf"),Td=5e3,Dd=function(e){function t(t){var n=e.call(this,t)||this;return n.handleQualityChanged=function(){var e=n.props.mediaPlayerInstance,t="treatment"===l.p.experiments.getAndTrackAssignment("settings_overlay_indicator");if(e&&!t){var i=e.getQuality();clearTimeout(n.timeout),n.setState({shouldRenderQuality:!0,quality:i}),n.timeout=setTimeout((function(){n.setState({shouldRenderQuality:!1})}),Td)}},n.state={shouldRenderQuality:!1,quality:null},n}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(C.f.QUALITY_CHANGED,this.handleQualityChanged)},t.prototype.render=function(){var e=this.state,t=e.shouldRenderQuality,n=e.quality,i=this.props,a=i.speed,o=i.isLiveContent,s=t&&!!n||1!==a&&!o,l=null;return t&&n?l=r.createElement(Nd.a,{label:wd(n)}):1===a||o||(l=r.createElement(Nd.a,{label:a+"x"})),r.createElement(bi.a,{type:bi.d.SlideOverRight,show:s},l)},t.prototype.componentWillUnmount=function(){clearTimeout(this.timeout)},t}(r.Component),Id=Object(s.d)(Object(k.c)((function(e){var t=e.mediaPlayerInstance,n=e.speed;return{mediaPlayerInstance:t,speed:n}})),Object(S.c)((function(e){var t=e.content;return{isLiveContent:Object(A.s)(t)}})),Object(y.a)())(Dd);var Ad,jd="advanced_menu",xd="show",Ld=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showSubMenu=function(){t.props.track(T.SpadeEventType.VideoPlayerClick,{component:jd,component_state:xd}),t.props.setActiveMenu($u.Advanced)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=Object(l.d)("Advanced","SettingsMenuItemAdvanced");return r.createElement(Oo.a,{"data-a-target":"player-settings-menu-item-advanced",label:e,actionIcon:zt.a.AngleRight,onClick:this.showSubMenu})},t}(r.Component),Fd=Object(I.c)()(Ld),Md=n("d0ua"),Rd="latency_mode_toggle",Vd="enable",Bd="disable";!function(e){e.MainMenuButton="main-menu",e.LowLatencyToggle="low-latency-toggle",e.MiniPlayerToggle="mini-player-toggle",e.VideoStatsToggle="video-stats-toggle",e.AdStatsToggle="ad-stats-toggle"}(Ad||(Ad={}));var Ud=function(e){function t(t){var n=e.call(this,t)||this;n.showMainMenu=function(){return n.props.setActiveMenu($u.Main)},n.toggleLowLatencyMode=function(){var e=n.props,t=e.disableUserPreferencePersistence,i=e.isLiveLowLatencyEnabled,a=e.mediaPlayerInstance,r=e.updatePlayerContext,o=!i;n.props.track(T.SpadeEventType.VideoPlayerClick,{component:Rd,component_state:o?Vd:Bd}),t||Ce.b.set(Ce.a.LOW_LATENCY_MODE,o),Object(fe.l)({isLiveLowLatencyEnabled:i,mediaPlayerInstance:a,updateContext:r},o)},n.toggleMiniPlayer=function(){var e=!n.state.isMiniPlayerEnabled;n.props.disableUserPreferencePersistence||Ce.b.set(Ce.a.PERSISTENCE_ENABLED,e),n.props.togglePersistentPlayer(),n.setState({isMiniPlayerEnabled:e})},n.isVideoStatsEnabled=function(){return n.props.statsOverlay===Ke.b.Video},n.toggleVideoStats=function(){var e=n.isVideoStatsEnabled()?Ke.b.None:Ke.b.Video;n.props.setStatsOverlay(e),n.props.hideKeyboardShortcuts()},n.isAdStatsEnabled=function(){return n.props.statsOverlay===Ke.b.Ad},n.toggleAdStats=function(){var e=n.isAdStatsEnabled()?Ke.b.None:Ke.b.Ad;n.props.setStatsOverlay(e),n.props.hideKeyboardShortcuts()};var i=Ce.b.get(Ce.a.PERSISTENCE_ENABLED);return n.state={isMiniPlayerEnabled:void 0===i||!!i},n}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.renderLowLatencyToggle(),t=Object(l.d)("Advanced","SettingsMenuSubmenuAdvanced"),n=Object(l.d)("Mini Player","SettingsMenuSubmenuAdvanced"),i=Object(l.d)("Video Stats","SettingsMenuSubmenuAdvanced"),a=Object(l.d)("Ad Stats","SettingsMenuSubmenuAdvanced");return r.createElement(r.Fragment,null,r.createElement(Oo.a,{label:t,figure:{icon:zt.a.AngleLeft},onClick:this.showMainMenu,"data-test-selector":Ad.MainMenuButton}),r.createElement(ko.a,null),e,this.props.showMiniToggleSettings&&r.createElement(So.a,{label:n,type:So.b.Toggle,onChange:this.toggleMiniPlayer,checked:this.state.isMiniPlayerEnabled,"data-test-selector":Ad.MiniPlayerToggle,"data-a-target":"player-settings-submenu-advanced-toggle-mini"}),r.createElement(So.a,{"data-a-target":"player-settings-submenu-advanced-video-stats",label:i,type:So.b.Toggle,onChange:this.toggleVideoStats,checked:this.isVideoStatsEnabled(),"data-test-selector":Ad.VideoStatsToggle}),r.createElement(So.a,{"data-a-target":"player-settings-submenu-advanced-ad-stats",label:a,type:So.b.Toggle,onChange:this.toggleAdStats,checked:this.isAdStatsEnabled(),"data-test-selector":Ad.AdStatsToggle}))},t.prototype.renderLowLatencyToggle=function(){var e=this.props,t=e.isLowLatencyCapable,n=e.isLiveLowLatencyEnabled;if(!t)return null;var i=Object(l.d)("Low Latency","SettingsMenuSubmenuAdvanced");return r.createElement(So.a,{label:i,type:So.b.Toggle,onChange:this.toggleLowLatencyMode,checked:n,"data-test-selector":Ad.LowLatencyToggle})},t}(r.Component);var qd=Object(s.d)(Object(I.c)(),Object(k.c)((function(e){return{isLowLatencyCapable:Object(fe.i)(e),isLiveLowLatencyEnabled:e.isLiveLowLatencyEnabled,mediaPlayerInstance:e.mediaPlayerInstance,updatePlayerContext:e.updateContext}})),Object(S.c)((function(e){var t=Object(_.a)({playerPublicPropsContext:e}),n=t.disableUserPreferencePersistence,i=t.showMiniToggleSettings;return{disableUserPreferencePersistence:n,showMiniToggleSettings:i}})),Object(Ke.e)((function(e){var t=e.hideKeyboardShortcuts,n=e.setStatsOverlay,i=e.statsOverlay;return{hideKeyboardShortcuts:t,setStatsOverlay:n,statsOverlay:i}})),Object(o.b)(null,(function(e){return Object(s.b)({togglePersistentPlayer:Md.R},e)})))(Ud);var Gd=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){t.props.setClosedCaptionsSettingsShowing(!0),t.props.setActiveMenu($u.None)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return this.props.captionsAvailable?r.createElement(Oo.a,{label:Object(l.d)("Closed Captions Options","SettingsMenuItemCCOptions"),onClick:this.handleClick}):null},t}(r.Component);var Hd=Object(s.d)(Object(Ke.e)((function(e){var t=e.captions,n=e.setClosedCaptionsSettingsShowing;return{captionsAvailable:t.available,setClosedCaptionsSettingsShowing:n}})))(Gd),Wd=n("qgB2"),zd=Object(B.a)(Wd,{options:function(e){var t;return{variables:{slug:null!==(t=e.clipSlug)&&void 0!==t?t:""}}},skip:function(e){return!e.clipSlug}});function Qd(e){return{sessionUser:Object(dr.e)(e),isLoggedIn:Object(dr.f)(e),isStaff:Object(dr.g)(e)}}function Kd(){return function(e){return Object(s.d)(Object(S.c)(Yd),Object(o.b)(Qd),zd)(e)}}function Yd(e){var t=e.content;return{clipSlug:Object(A.c)(t),isEditing:Object(A.q)(t)}}function $d(e){return Zd(e)||e.isStaff||Xd(e)}function Xd(e){return e.sessionUser&&e.sessionUser.id&&e.sessionUser.id===eu(e)}function Jd(e){return e.sessionUser&&e.sessionUser.id&&e.sessionUser.id===tu(e)}function Zd(e){return!!(e.data&&e.data.currentUser&&e.data.currentUser.roles&&e.data.currentUser.roles.isSiteAdmin)}function eu(e){return e.data&&e.data.clip&&e.data.clip.broadcaster&&e.data.clip.broadcaster.id}function tu(e){return e.data&&e.data.clip&&e.data.clip.curator&&e.data.clip.curator.id}var nu,iu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showSubMenu=function(){return t.props.setActiveMenu($u.ClipsModeration)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){if(!this.shouldShow())return null;var e=Object(l.d)("Moderation","SettingsMenuItemClipsModeration");return r.createElement(Oo.a,{label:e,actionIcon:zt.a.AngleRight,onClick:this.showSubMenu})},t.prototype.shouldShow=function(){return!this.props.isEditing&&!!this.props.clipSlug&&($d(e=this.props)||Jd(e));var e},t}(r.Component),au=Kd()(iu),ru=n("ZS2+"),ou=n("XDCx");!function(e){e.MainMenuButton="main-menu",e.DeleteButton="delete-button",e.DeleteAllButton="delete-all-button"}(nu||(nu={}));var su=ru.a.wrap((function(){return n.e(84).then(n.bind(null,"jsEL"))}),"ClipsModalDelete"),lu=ru.a.wrap((function(){return n.e(84).then(n.bind(null,"jsEL"))}),"ClipsModalDeleteAll"),cu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showMainMenu=function(){return t.props.setActiveMenu($u.Main)},t.delete=function(){t.openModerationModal(su)},t.deleteAll=function(){t.openModerationModal(lu)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e,t=Object(l.d)("Moderation","SettingsMenuSubmenuClipsModeration"),n=Object(l.d)("Delete","SettingsMenuSubmenuClipsModeration"),i=Object(l.d)("Delete all clips from video","SettingsMenuSubmenuClipsModeration");return $d(this.props)&&(e=r.createElement(Oo.a,{"data-test-selector":nu.DeleteAllButton,label:i,onClick:this.deleteAll})),r.createElement(r.Fragment,null,r.createElement(Oo.a,{"data-test-selector":nu.MainMenuButton,label:t,figure:{icon:zt.a.AngleLeft},onClick:this.showMainMenu}),r.createElement(ko.a,null),r.createElement(Oo.a,{"data-test-selector":nu.DeleteButton,label:n,onClick:this.delete}),e)},t.prototype.openModerationModal=function(e){this.props.showModal(e,{slug:this.props.clipSlug,onClose:this.props.closeModal})},t}(r.Component);var du=Object(s.d)(Kd(),Object(o.b)(null,(function(e){return Object(s.b)({showModal:ou.e,closeModal:ou.d},e)})))(cu),uu=n("/HY+"),pu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.openModal=function(){var e=t.props.clipSlug,n=eu(t.props),i=tu(t.props)||void 0;e&&n&&t.props.showModal(uu.a,{onClose:t.props.closeModal,reportContext:{contentType:X.Xd.CLIP_REPORT,contentID:e,targetUserID:n,additionalTrackingID:i},title:Object(l.d)("Report this Clip","SettingsMenuItemClipsReport")})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){if(!this.shouldShow())return null;var e=Object(l.d)("Report Clip","SettingsMenuItemClipsReport");return r.createElement(Oo.a,{label:e,onClick:this.openModal})},t.prototype.shouldShow=function(){return!!(!this.props.isEditing&&this.props.clipSlug&&eu(this.props)&&(e=this.props,e.isStaff||Zd(e)||e.isLoggedIn&&!Jd(e)&&!Xd(e)));var e},t}(r.Component);var mu=Object(s.d)(Kd(),Object(o.b)(null,(function(e){return Object(s.b)({showModal:ou.e,closeModal:ou.d},e)})))(pu),fu=function(e){var t=e.closeSettingsMenu;return r.createElement(r.Fragment,null,r.createElement(Oo.a,{label:Object(l.d)("Close","SettingsMenuCloseButton"),figure:{icon:zt.a.Close},onClick:t}),r.createElement(ko.a,null))},vu=n("Jxh/"),gu=2e3,hu=function(e){function t(t){var n=e.call(this,t)||this;return n.shouldShow=function(){var e=n.props.content,t=n.props.getFullyFormedUrl(e);return(Object(A.t)(e)||Object(A.p)(e))&&t!==q.a},n.getCurrentTime=function(){var e=n.props.mediaPlayerInstance;return e?Math.floor(e.getPosition()):0},n.updateCurrentTime=function(){var e=n.getCurrentTime();n.state.currentTime!==e&&n.setState({currentTime:e})},n.copyURLDisabled=function(){return n.setState({copyURLDisabled:!1})},n.handleClick=function(){var e=n.props.mediaPlayerInstance,t=n.props.content;e&&(Object(A.t)(t)||Object(A.p)(t))&&(t=Object(i.__assign)(Object(i.__assign)({},t),{videoOffset:Math.floor(e.getPosition())}));var a=n.props.getFullyFormedUrl(t);Object(vu.a)(a),n.setState({copyURLDisabled:!0}),n.timeout=setTimeout(n.copyURLDisabled,gu)},n.state={copyURLDisabled:!1,currentTime:n.getCurrentTime()},n}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(C.f.TIME_UPDATE,this.updateCurrentTime)},t.prototype.componentWillUnmount=function(){clearTimeout(this.timeout)},t.prototype.render=function(){if(!this.shouldShow())return null;var e=Object(l.d)("Copy Video URL at {timestamp}",{timestamp:Object($a.b)(this.state.currentTime,$a.a.ClockHMS)},"SettingsMenuItemCopyVideoURLComponent"),t=Object(l.d)("Copied!","SettingsMenuItemCopyVideoURLComponent");return r.createElement(Oo.a,{disabled:this.state.copyURLDisabled,label:this.state.copyURLDisabled?t:e,onClick:this.handleClick})},t}(r.Component);var bu=Object(s.d)(Object(S.c)((function(e){return{content:e.content}})),Object(k.c)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),Object(y.a)(),G())(hu),yu=function(){var e=Object(r.useContext)(Ke.c),t=e.setStatsOverlay,n=e.showKeyboardShortcuts,i=Object(r.useCallback)((function(){t(Ke.b.None),n()}),[t,n]);return Object(r.useMemo)((function(){return r.createElement(Oo.a,{label:Object(l.d)("View Keyboard Shortcuts","SettingsMenuItemKeyboardShortcuts"),onClick:i})}),[i])},ku=n("yWUM"),Su={height:480,width:853},Eu=[Tc.a.Imdb],Cu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.shouldShow=function(){var e=t.props,n=e.playerType,i=e.isClipContent;return!(n===Tc.a.AmazonVse||i)},t.handleClick=function(){var e=t.props,n=e.mediaPlayerInstance,i=e.pause,a=e.playerType,r=e.volume,o=e.muted,s=e.content;i(),t.props.setActiveMenu($u.None);var l={player:Eu.includes(a)?a:Tc.a.Popout,volume:r,muted:o,enableExtensions:!0,parent:"twitch.tv"};(Object(A.t)(s)||Object(A.p)(s))&&(l.t=Object(ku.a)(Math.floor(n&&n.getPosition()||0)));var c=Object(q.h)(s,l);window.open(c,"_blank","width="+Su.width+",height="+Su.height+",toolbar=no,menubar=no,scrollbars=no,location=no,status=no")},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return this.shouldShow()?r.createElement(Oo.a,{label:Object(l.d)("Popout Player","SettingsMenuItemPopoutPlayer"),onClick:this.handleClick}):null},t}(r.Component);var Ou=Object(s.d)(Object(S.c)((function(e){return{content:e.content,playerType:Dc(e),isClipContent:Object(A.o)(e.content)}})),Object(k.c)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),Object(E.e)((function(e){return{muted:e.muted,pause:e.pause,volume:e.volume}})))(Cu),_u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.shouldShow=function(){return t.props.availableQualitiesLength>0&&!t.props.forceQuality},t.showSubMenu=function(){return t.props.setActiveMenu($u.Quality)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){if(!this.shouldShow())return null;var e=Object(l.d)("Quality","SettingsMenuItemQuality");return r.createElement(Oo.a,{"data-a-target":"player-settings-menu-item-quality",label:e,actionIcon:zt.a.AngleRight,value:wd(this.props.selectedQuality),onClick:this.showSubMenu})},t}(r.Component),wu=Object(s.d)(Object(k.c)((function(e){return{availableQualitiesLength:e.availableQualities.length,selectedQuality:Pe(e)}})),Object(S.c)((function(e){return{forceQuality:Object(_.a)({playerPublicPropsContext:e}).forceQuality}})))(_u);var Pu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showMainMenu=function(){return t.props.setActiveMenu($u.Main)},t.setQuality=function(e){return function(){var n=t.props,i=n.disableUserPreferencePersistence,a=n.isClipContent,r=n.mediaPlayerInstance,o=n.type;r&&(!function(e,t){var n=t.mediaPlayerInstance,i=t.quality,a=t.track,r=t.updateContext,o=n&&n.getSessionData();a(T.SpadeEventType.VideoPlayerQualityChangeRequest,{prev_quality:i,new_quality:e.group,serving_id:o&&o["SERVING-ID"]||null}),a(T.SpadeEventType.VideoPlayerClickQualityChange),r({quality:e.group,qualityBitrate:e.bitrate})}(e,t.props),a&&De(e)?t.selectClipQuality(e,r):t.selectQuality(e,r),i||_e(e,o)),e.group===Se.b&&l.m.set(ye.c,Date.now()),t.props.setActiveMenu($u.None)}},t.selectQuality=function(e,n){e.group===Se.a?n.setAutoQualityMode(!0):(n.getQuality().group!==e.group&&t.props.setRequestedQuality(!0),n.setQuality(e))},t.selectClipQuality=function(e,t){t.load(e.source),t.play()},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this,t=Object(l.d)("Video Quality","SettingsMenuSubmenuQuality"),n=this.props,i=n.availableQualities,a=n.quality;return r.createElement(r.Fragment,null,r.createElement(Oo.a,{label:t,figure:{icon:zt.a.AngleLeft},onClick:this.showMainMenu}),r.createElement(ko.a,null),i.map((function(t){return r.createElement(So.a,{"data-a-target":"player-settings-submenu-quality-option",key:t.group,type:So.b.Radio,label:wd(t),onChange:e.setQuality(t),checked:t.group===a})})))},t}(r.Component),Nu=Object(s.d)(Object(k.c)((function(e){var t=e.availableQualities,n=e.mediaPlayerInstance,i=e.quality,a=e.updateContext;return{availableQualities:t,mediaPlayerInstance:n,quality:i,updateContext:a}})),Object(S.c)((function(e){var t=e.content,n=e.type;return{disableUserPreferencePersistence:Object(_.a)({playerPublicPropsContext:e}).disableUserPreferencePersistence,isClipContent:Object(A.o)(t),type:n}})),Object(I.c)(),Object(Ke.e)((function(e){return{setRequestedQuality:e.setRequestedQuality}})))(Pu);var Tu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.shouldShow=function(){return!t.props.isClipContent},t.showSubMenu=function(){return t.props.setActiveMenu($u.Report)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){if(!this.shouldShow())return null;var e=Object(l.d)("Report Playback Issue","SettingsMenuItemReportPlaybackIssue");return r.createElement(Oo.a,{"data-a-target":"player-settings-menu-item-report",label:e,actionIcon:zt.a.AngleRight,onClick:this.showSubMenu})},t}(r.Component),Du=Object(S.c)((function(e){var t=e.content;return{isClipContent:Object(A.o)(t)}}))(Tu);var Iu,Au,ju,xu={bandwidth:0,broadcast_id:0,cluster:"",current_bitrate:0,current_fps_exact:0,current_fps:0,decoded_frames:0,dropped_frames:0,hls_latency_broadcaster:0,hls_target_duration:0,manifest_cluster:"",manifest_node_type:"",manifest_node:"",node:"",paused:!1,playing:!1,segment_protocol:"",serving_id:0,stream_time_offset:0,stream_time:0,totalMemoryNumber:0,user_ip:"",vid_display_height:0,vid_display_width:0,vid_height:0,vid_width:0,video_buffer_size:0,vod_cdn_origin:"",vod_cdn_region:"",volume:0},Lu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={issue_type:"",recentlySubmitted:!1},t.handleChange=function(e){t.setState({issue_type:e.currentTarget.value})},t.handleSubmit=function(){0===t.state.issue_type.indexOf("ad-")?t.reportAdIssue():t.reportVideoIssue(),t.setState({recentlySubmitted:!0}),t.timeout=setTimeout((function(){return t.props.setActiveMenu($u.None)}),2e3)},t.showMainMenu=function(){return t.props.setActiveMenu($u.Main)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=Object(l.d)("Report Playback Issue","SettingsMenuSubmenuReportPlaybackIssue");return r.createElement(r.Fragment,null,r.createElement(Oo.a,{label:e,figure:{icon:zt.a.AngleLeft},onClick:this.showMainMenu}),r.createElement(ko.a,null),!this.state.recentlySubmitted&&this.renderForm(),this.state.recentlySubmitted&&Object(l.d)("Thanks for your report","SettingsMenuSubmenuReportPlaybackIssue"))},t.prototype.componentWillUnmount=function(){clearTimeout(this.timeout)},t.prototype.renderForm=function(){return r.createElement(r.Fragment,null,r.createElement(Ht.a,{margin:1},Object(l.d)("Noticed a video playback issue? Let us know!","SettingsMenuSubmenuReportPlaybackIssue")),r.createElement(Ht.a,{margin:1},r.createElement(bn.a,{onChange:this.handleChange,defaultValue:""},r.createElement("option",{value:"",disabled:!0},Object(l.d)("Select","SettingsMenuSubmenuReportPlaybackIssue")),r.createElement("option",{value:"stutter-both"},Object(l.d)("Audio and video stutter","SettingsMenuSubmenuReportPlaybackIssue")),r.createElement("option",{value:"stutter-video"},Object(l.d)("Video stutters, but audio is fine","SettingsMenuSubmenuReportPlaybackIssue")),r.createElement("option",{value:"black-screen"},Object(l.d)("Video is completely black or doesn't load","SettingsMenuSubmenuReportPlaybackIssue")),r.createElement("option",{value:"av-desync"},Object(l.d)("Audio and video aren't synced","SettingsMenuSubmenuReportPlaybackIssue")),r.createElement("option",{value:"fullscreen-broken"},Object(l.d)("Fullscreen playback doesn't work","SettingsMenuSubmenuReportPlaybackIssue")),r.createElement("option",{value:"ad-broken"},Object(l.d)("Advertisement playback doesn't work.","SettingsMenuSubmenuReportPlaybackIssue")),r.createElement("option",{value:"ad-repeat"},Object(l.d)("Advertisement has played too many times.","SettingsMenuSubmenuReportPlaybackIssue")),r.createElement("option",{value:"ad-offensive-inappropriate"},Object(l.d)("Advertisement is offensive or inappropriate.","SettingsMenuSubmenuReportPlaybackIssue")),r.createElement("option",{value:"ad-too-loud"},Object(l.d)("Advertisement is too loud.","SettingsMenuSubmenuReportPlaybackIssue")),r.createElement("option",{value:"ad-not-relevant"},Object(l.d)("Advertisement is not relevant to my interests.","SettingsMenuSubmenuReportPlaybackIssue")))),r.createElement(Ht.a,{display:qt.h.Flex,justifyContent:qt.m.End,margin:1},r.createElement(yn.a,{type:yn.d.Primary,onClick:this.handleSubmit,disabled:""===this.state.issue_type},Object(l.d)("Submit","SettingsMenuSubmenuReportPlaybackIssue"))))},t.prototype.reportVideoIssue=function(){this.props.mediaPlayerInstance&&this.props.track(T.SpadeEventType.VidIssueReport,Object(i.__assign)({issue:this.state.issue_type},function(e){var t=e.getSessionData(),n={broadcast_id:t["BROADCAST-ID"],cluster:t.CLUSTER,manifest_cluster:t["MANIFEST-CLUSTER"],manifest_node_type:t["MANIFEST-NODE_TYPE"],manifest_node:t["MANIFEST-NODE"],node:t.NODE,segment_protocol:"https:"===window.location.protocol?"https":"http",serving_id:t["SERVING-ID"],stream_time_offset:parseFloat(t["STREAM-TIME"]||"0"),user_ip:t.USER_IP,vod_cdn_origin:t.ORIGIN,vod_cdn_region:t.REGION},a={};if(e){var r=e.getState(),o=e.getVideoBitRate()/1e3,s=e.getVideoFrameRate();a={bandwidth:o,current_bitrate:o,current_fps_exact:s,current_fps:Math.round(s),decoded_frames:e.getDecodedFrames(),dropped_frames:e.getDroppedFrames(),hls_latency_broadcaster:Math.round(1e3*e.getLiveLatency()),hls_target_duration:5,paused:r===C.g.IDLE,playing:r===C.g.PLAYING,stream_time:e.getPosition(),totalMemoryNumber:64,vid_display_height:e.getDisplayHeight(),vid_display_width:e.getDisplayWidth(),vid_height:e.getVideoHeight(),vid_width:e.getVideoWidth(),video_buffer_size:e.getBufferDuration(),volume:e.getVolume()}}return Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},xu),n),a)}(this.props.mediaPlayerInstance)))},t.prototype.reportAdIssue=function(){var e=this,t=Object(d.a)(16);this.props.adPodStats.forEach((function(n){var a=Object(i.__assign)({adPodId:t},function(e){var t=e.adPosition,n=e.adWrapperIds,i=e.contentType,a=e.creativeId,r=e.duration,o=e.impressionTime,s=e.mediaUrl,l=e.system,c=e.title,d=e.totalAds,u=e.vastMediaBitrate,p=e.vastMediaHeight,m=e.vastMediaWidth;return{adPosition:t,adWrapperId:n?n[0]:void 0,contentType:i,creativeId:a,duration:r,impressionTime:o,mediaUrl:s,system:l,title:c,totalAds:d,vastMediaBitrate:u,vastMediaHeight:p,vastMediaWidth:m}}(n));e.props.track(T.SpadeEventType.AdIssueReport,Object(i.__assign)({issue:e.state.issue_type},a))}))},t}(r.Component),Fu=Object(s.d)(Object(k.c)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),Object(I.c)(),Object(f.c)((function(e){return{adPodStats:e.adPodStats}})))(Lu),Mu=n("wLV2");!function(e){e.Click="click",e.Display="display",e.Follow="follow",e.Unfollow="unfollow",e.AllowNotifications="allow_notifications",e.DisableNotifications="disable_notifications"}(Iu||(Iu={})),function(e){e.LinkfireModalOpen="linkfire_modal_open",e.LinkfirePanel="linkfire_panel",e.LinkfirePremiumPanel="premium_linkfire_panel",e.PlayerSettings="player_settings",e.PremiumCreatorPanel="premium_creator_panel",e.TrackPanel="track_panel"}(Au||(Au={})),function(e){e.Collapse="collapse",e.Expand="expand",e.LearnMore="learn_more",e.PremiumChannelLink="premium_channel_link",e.Settings="settings",e.LinkfireRowItem="linkfire_row",e.LinkfireRowCTABtn="linkfire_row_btn"}(ju||(ju={}));var Ru=function(){var e=Object(r.useContext)(Ke.c),t=e.soundtrackShow,n=e.soundtrackHide,i=e.soundtrackShowing,a=Object(r.useContext)(S.b),s=a.behaviors,c=a.content,d=null==s?void 0:s.enableSoundtrackByTwitch,u=Object(A.s)(c),p=Object(o.e)(dr.f),m=d&&u&&p,f=Object(l.d)("Show Soundtrack Info","SoundtrackSettingsMenuItem"),v=Object(r.useCallback)((function(){var e=Iu.AllowNotifications;i?(n(),e=Iu.DisableNotifications):t(),Object(Mu.j)({component:ju.Settings,interaction:e,subsection:Au.PlayerSettings})}),[i,n,t]);return m?r.createElement(So.a,{label:f,type:So.b.Toggle,onChange:v,checked:i}):null},Vu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showSubMenu=function(){return t.props.setActiveMenu($u.Speed)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){if(!this.props.shouldShow)return null;var e=Object(l.d)("Speed","SettingsMenuItemSpeed");return r.createElement(Oo.a,{"data-a-target":"player-settings-menu-item-speed",label:e,actionIcon:zt.a.AngleRight,value:this.props.speed+"x",onClick:this.showSubMenu})},t}(r.Component),Bu=Object(s.d)(Object(S.c)((function(e){var t=Object(_.c)({playerPublicPropsContext:e});return{shouldShow:Object(A.a)(t)}})),Object(k.c)((function(e){return{speed:e.speed}})))(Vu);var Uu=[.25,.5,.75,1,1.25,1.5,2],qu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.logger=l.p.logger.withCategory("SettingsMenuSubmenuSpeedComponent"),t.showMainMenu=function(){return t.props.setActiveMenu($u.Main)},t.setSpeed=function(e){var n=t.props,i=n.disableUserPreferencePersistence,a=n.mediaPlayerInstance,r=n.track,o=n.setActiveMenu;a?(a.setPlaybackRate(e),i||Ce.b.set(Ce.a.PLAYBACK_RATE,e),r(T.SpadeEventType.PlayerClickPlayback,{speed:e}),o($u.None)):t.logger.warn("no media player loaded")},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this,t=Object(l.d)("Speed","SettingsMenuSubmenuSpeed"),n=this.props.speed,i=Object(l.d)("1x (Normal)","SettingsMenuSubmenuSpeed");return r.createElement(r.Fragment,null,r.createElement(Oo.a,{label:t,figure:{icon:zt.a.AngleLeft},onClick:this.showMainMenu}),r.createElement(ko.a,null),Uu.map((function(t){var a=n===t,o=1===t?i:t+"x";return r.createElement(So.a,{key:t,"data-a-target":"player-settings-submenu-speed-option",type:So.b.Radio,name:"playback-speed",label:o,checked:a,onChange:function(){return e.setSpeed(t)}})})))},t}(r.Component),Gu=Object(s.d)(Object(S.c)((function(e){return{disableUserPreferencePersistence:Object(_.a)({playerPublicPropsContext:e}).disableUserPreferencePersistence}})),Object(k.c)((function(e){var t=e.mediaPlayerInstance,n=e.speed;return{mediaPlayerInstance:t,speed:n}})),Object(I.c)())(qu);var Hu=n("zB42"),Wu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.shouldShow=function(){return t.props.isStaff||l.p.config.buildType===Hu.a.Dev},t.showSubMenu=function(){return t.props.setActiveMenu($u.Staff)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){if(!this.shouldShow())return null;var e=Object(l.d)("Staff","SettingsMenuItemStaff");return r.createElement(Oo.a,{label:e,actionIcon:zt.a.AngleRight,onClick:this.showSubMenu})},t}(r.Component);var zu=Object(o.b)((function(e){return{isStaff:Object(dr.g)(e)}}))(Wu),Qu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.showMainMenu=function(){return t.props.setActiveMenu($u.Main)},t.runPreroll=function(){return t.requestAd(le.b.Pre)},t.runMidroll=function(){return t.requestAd(le.b.Mid)},t.runPostroll=function(){return t.requestAd(le.b.Post)},t.requestAd=function(e){t.props.requestAd({roll:e,duration:30,forced:!0})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=Object(l.d)("Staff","SettingsMenuSubmenuStaff"),t=Object(l.d)("Run Local Preroll Ad","SettingsMenuSubmenuStaff"),n=Object(l.d)("Run Local Midroll Ad","SettingsMenuSubmenuStaff"),i=Object(l.d)("Run Local Postroll Ad","SettingsMenuSubmenuStaff");return r.createElement(r.Fragment,null,r.createElement(Oo.a,{label:e,figure:{icon:zt.a.AngleLeft},onClick:this.showMainMenu}),r.createElement(ko.a,null),r.createElement(Oo.a,{label:t,onClick:this.runPreroll}),r.createElement(Oo.a,{label:n,onClick:this.runMidroll}),r.createElement(Oo.a,{label:i,onClick:this.runPostroll}))},t}(r.Component),Ku=Object(s.d)(Object(f.c)((function(e){return{requestAd:e.requestAd}})))(Qu);n("BQmI");var Yu,$u,Xu=.8,Ju=3e3;!function(e){e.AnimateWrapper="settings-menu-button__animate-wrapper",e.ThemeWrapper="settings-menu-button__theme-wrapper"}(Yu||(Yu={})),function(e){e.None="settings-menu__none",e.Main="settings-menu__main",e.Quality="settings-menu__quality",e.Speed="settings-menu__speed",e.Advanced="settings-menu__advanced",e.ClipsModeration="settings-menu__clips-moderation",e.Report="settings-menu__report",e.Staff="settings-menu__staff"}($u||($u={}));var Zu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={activeMenu:$u.None,showSoundtrackUnhideSuggestionTooltip:!1},t.soundtrackTooltipTimeoutID=0,t.shouldShow=function(){return!t.props.disableSettingsMenuButton},t.handleSettingsButtonClick=function(){t.toggleSettingsMenu(),t.props.track(T.SpadeEventType.VideoPlayerClickOptions)},t.closeSettingsMenu=function(){return t.setState({activeMenu:$u.None})},t.setActiveMenu=function(e){return t.setState({activeMenu:e})},t.toggleSettingsMenu=function(){t.setState((function(e){var n=e.activeMenu===$u.None?$u.Main:$u.None;return n===$u.None?{activeMenu:n}:{activeMenu:n,maxMenuHeight:t.getMaxMenuHeight()}}))},t.getMaxMenuHeight=function(){var e=Object(Vn.a)(t.props.videoContainer).height;return e?e*Xu:void 0},t.handleResize=function(){var e=t.getMaxMenuHeight();e&&t.setState({maxMenuHeight:e})},t.animateButton=function(){return t.props.qualityIsChanging&&t.props.isPlaying&&!t.props.forceQuality&&!Object(A.o)(t.props.content)},t.renderSettingsMenuMain=function(){return r.createElement(r.Fragment,null,r.createElement(fu,{closeSettingsMenu:t.closeSettingsMenu}),r.createElement(wu,{setActiveMenu:t.setActiveMenu}),r.createElement(Bu,{setActiveMenu:t.setActiveMenu}),r.createElement(mu,null),r.createElement(au,{setActiveMenu:t.setActiveMenu}),r.createElement(Hd,{setActiveMenu:t.setActiveMenu}),r.createElement(Fd,{setActiveMenu:t.setActiveMenu}),r.createElement(Du,{setActiveMenu:t.setActiveMenu}),r.createElement(zu,{setActiveMenu:t.setActiveMenu}),r.createElement(Ou,{setActiveMenu:t.setActiveMenu}),r.createElement(bu,null),r.createElement(yu,null),r.createElement(Lt.a,{name:"content_promo"},r.createElement(Ru,null)))},t.renderActiveSettingsMenu=function(){switch(t.state.activeMenu){case $u.Main:return t.renderSettingsMenuMain();case $u.Advanced:return r.createElement(qd,{setActiveMenu:t.setActiveMenu});case $u.ClipsModeration:return r.createElement(du,{setActiveMenu:t.setActiveMenu});case $u.Quality:return r.createElement(Nu,{setActiveMenu:t.setActiveMenu});case $u.Report:return r.createElement(Fu,{setActiveMenu:t.setActiveMenu});case $u.Speed:return r.createElement(Gu,{setActiveMenu:t.setActiveMenu});case $u.Staff:return r.createElement(Ku,{setActiveMenu:t.setActiveMenu});case $u.None:default:return null}},t.displaySoundtrackUnhideSuggestionTooltip=function(){t.setState((function(e){return e.showSoundtrackUnhideSuggestionTooltip?null:{showSoundtrackUnhideSuggestionTooltip:!0}})),t.clearSoundtrackTooltipTimeout(),t.soundtrackTooltipTimeoutID=setTimeout((function(){t.setState((function(e){return e.showSoundtrackUnhideSuggestionTooltip?{showSoundtrackUnhideSuggestionTooltip:!1}:null}))}),Ju)},t.clearSoundtrackTooltipTimeout=function(){clearTimeout(t.soundtrackTooltipTimeoutID)},t}return Object(i.__extends)(t,e),t.prototype.componentDidUpdate=function(e,t){t.activeMenu!==this.state.activeMenu&&this.props.setIsMenuShowing(this.state.activeMenu!==$u.None),e.soundtrackShowing&&!this.props.soundtrackShowing&&this.displaySoundtrackUnhideSuggestionTooltip()},t.prototype.componentWillUnmount=function(){this.clearSoundtrackTooltipTimeout()},t.prototype.render=function(){var e;if(!this.shouldShow())return null;var t=Object(Zc.c)(),n=a("settings-menu-button-component",((e={"settings-menu-button-component--forced-dark-theme":t})[Object(Bt.b)(Vt.a.Dark)]=t,e)),i=this.renderActiveSettingsMenu();return r.createElement(r.Fragment,null,r.createElement(ca.a,{onClickOut:this.closeSettingsMenu},r.createElement(Ht.a,{className:n,"data-test-selector":Yu.ThemeWrapper},r.createElement(ed.a,{direction:Lr.b.TopRight,show:this.state.activeMenu!==$u.None,offsetX:"50px",size:xr.a.Medium,maxHeight:this.state.maxMenuHeight?this.state.maxMenuHeight+"px":void 0},i&&r.createElement("div",{"data-a-target":"player-settings-menu"},i))),r.createElement(Ht.a,{className:a(this.animateButton()&&"settings-menu-button-component__animate"),"data-test-selector":Yu.AnimateWrapper},r.createElement(pl.a,{"data-a-target":"player-settings-button",tooltipAlign:_a.b.Right,tooltipForceShow:!this.props.soundtrackShowing&&this.state.showSoundtrackUnhideSuggestionTooltip,label:this.state.showSoundtrackUnhideSuggestionTooltip?Object(l.d)("Unhide the Soundtrack info in Settings","SettingsMenuButtonComponent"):Object(l.d)("Settings","SettingsMenuButtonComponent"),buttonIcon:zt.a.Gear,onClick:this.handleSettingsButtonClick}))),this.state.activeMenu!==$u.None&&r.createElement(Mn.a,{onResize:this.handleResize}))},t}(r.Component),ep=Object(s.d)(Object(S.c)((function(e){return{forceQuality:Object(_.a)({playerPublicPropsContext:e}).forceQuality,content:e.content,disableSettingsMenuButton:Object(_.a)({playerPublicPropsContext:e}).disableSettingsMenuButton}})),Object(E.e)((function(e){return{isPlaying:e.isPlaying}})),Object(Ke.e)((function(e){var t=e.videoContainer,n=e.requestedQuality,i=e.setIsMenuShowing,a=e.soundtrackShowing;return{videoContainer:t,qualityIsChanging:n,setIsMenuShowing:i,soundtrackShowing:a}})),Object(I.c)())(Zu);var tp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.toggleTheatreMode=function(){var e=t.props.track;t.props.theatreModeEnabled?t.props.disableTheatreMode():t.props.enableTheatreMode(),e(T.SpadeEventType.VideoPlayerClickTheatreMode)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.isFullscreen,n=e.shouldDisableTheatreMode,i=e.theatreModeEnabled;if(n||t)return null;var a=Object(l.d)("Exit Theatre Mode (alt+t)","TheatreModeButtonComponent"),o=Object(l.d)("Theatre Mode (alt+t)","TheatreModeButtonComponent");return r.createElement(pl.a,{"data-a-target":"player-theatre-mode-button",tooltipAlign:_a.b.Right,label:i?a:o,buttonIcon:i?zt.a.Theater:zt.a.TheaterExit,onClick:this.toggleTheatreMode})},t}(r.Component);var np=Object(s.d)(Object(o.b)((function(e){return{theatreModeEnabled:e.ui.theatreModeEnabled}}),(function(e){return Object(i.__assign)({enableTheatreMode:function(){e(Object(Md.J)())}},Object(s.b)({disableTheatreMode:Md.E},e))})),Object(S.c)((function(e){return{shouldDisableTheatreMode:Object(_.a)({playerPublicPropsContext:e}).disableTheatreMode}})),Object(Ke.e)((function(e){return{isFullscreen:e.isFullscreen}})),Object(I.c)())(tp),ip=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onBufferUpdate=function(){var e=t.props.mediaPlayerInstance;if(e){var n=e.getBufferDuration();t.props.onBufferUpdate(n)}},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(C.f.BUFFER_UPDATE,this.onBufferUpdate)},t.prototype.render=function(){return null},t}(r.Component),ap=Object(s.d)(Object(k.c)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),Object(y.a)())(ip);var rp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onDurationChange=function(){var e=t.props.mediaPlayerInstance;e&&t.props.onDurationChange(e.getDuration())},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(C.f.DURATION_CHANGED,this.onDurationChange)},t.prototype.render=function(){return null},t}(r.Component),op=Object(s.d)(Object(k.c)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),Object(y.a)())(rp);var sp=n("gJDC"),lp=function(e){function t(t){var n=e.call(this,t)||this;return n.isDragging=!1,n.handleThumbDragStart=function(){n.isDragging=!0,n.setState({bufferDuration:0})},n.handleThumbLocationChange=function(e){var t=n.props.mediaPlayerInstance;n.isDragging=!1,t&&(t.seekTo(e),n.setState({thumbLocation:e}))},n.handleTimeChanged=function(e){var t=n.props.mediaPlayerInstance;if(!t||n.isDragging)n.setState({thumbLocation:e});else{var i=t.getBufferDuration();n.setState({bufferDuration:i,thumbLocation:e})}},n.handleBufferUpdate=function(e){n.isDragging||n.setState({bufferDuration:e})},n.handleDurationChange=function(e){n.setState({vodLength:e})},n.state={bufferDuration:0,thumbLocation:0,vodLength:t.mediaPlayerInstance&&t.mediaPlayerInstance.getDuration()||0},n}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.data,n=e.editingSegments,i=e.isAdShowing,a=this.state,o=a.thumbLocation,s=a.bufferDuration,l=a.vodLength;return r.createElement(r.Fragment,null,r.createElement(qe.a,{onTimeChanged:this.handleTimeChanged}),r.createElement(ap,{onBufferUpdate:this.handleBufferUpdate}),r.createElement(op,{onDurationChange:this.handleDurationChange}),t&&!t.loading&&!t.error&&t.video&&!i&&r.createElement(bc,{thumbLocation:o,bufferDuration:s,vodLength:l,mutedSegments:cp(t),onThumbDragStart:this.handleThumbDragStart,onThumbLocationChanged:this.handleThumbLocationChange,editingSegments:n}))},t}(r.Component);function cp(e){return e.video&&e.video.muteInfo&&e.video.muteInfo.mutedSegmentConnection&&e.video.muteInfo.mutedSegmentConnection.nodes||[]}var dp=Object(s.d)(Object(k.c)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),Object(E.e)((function(e){var t=e.pause,n=e.isPlaying;return{pause:t,isPlaying:n}})),Object(S.c)((function(e){var t=e.content;return{vodID:Object(A.n)(t)||null,editingSegments:Object(A.e)(t)}})),Object(f.c)((function(e){return{isAdShowing:Object(Et.d)(e.videoAdMetadata)}})),te(),Object(B.a)(sp,{options:function(e){var t=e.vodID,n=e.collectionVodID;return{variables:{vodID:null!=t?t:n}}},skip:function(e){var t=e.vodID,n=e.collectionVodID;return!(t||n)}}))(lp);var up,pp=n("kPtI"),mp=n("vsSX");!function(e){e.Button="watch-on-twitch-button-component__button"}(up||(up={}));var fp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){var e=Object(A.l)(t.props.content,void 0,t.props.mediaPlayerInstance);window.open(e),t.props.pause()},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return this.props.showExternalBranding?r.createElement(_a.a,{label:this.getTooltipLabel(this.props.content),align:_a.b.Right,direction:_a.c.Top},r.createElement(mp.a,{"aria-label":this.getTooltipLabel(this.props.content),onClick:this.handleClick,type:mp.d.Text,"data-a-target":"player-twitch-logo-button","data-test-selector":up.Button,overlay:!0},r.createElement(Ht.a,{display:qt.h.Flex,margin:{x:.5}},r.createElement(yi.a,{asset:zt.a.LogoTwitchWordmark,width:60,height:18})))):null},t.prototype.getTooltipLabel=function(e){return e.type===U.a.Clip?Object(l.d)("View clip page","WatchOnTwitchButton"):Object(l.d)("Watch on Twitch","WatchOnTwitchButton")},t}(r.Component);var vp,gp=Object(s.d)(Object(S.c)((function(e){return{content:Object(_.c)({playerPublicPropsContext:e}),showExternalBranding:Object(_.a)({playerPublicPropsContext:e}).showExternalBranding}})),Object(k.c)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),Object(E.e)((function(e){return{pause:e.pause}})))(fp),hp=(n("AoeK"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props.shouldShow,t={assignments:{fallback:function(){return null},active:function(){return r.createElement(ld,null)}},name:"extension_overlay_improvement"};return r.createElement(bi.a,{type:bi.d.Fade,show:e,alwaysRenderChild:!0},r.createElement(Ht.a,{"data-a-target":"player-controls",className:"player-controls","data-a-visible":e,position:qt.o.Absolute,display:qt.h.Flex,flexDirection:qt.i.Column,alignItems:qt.b.Stretch,overflow:e?qt.n.Visible:qt.n.Hidden,attachBottom:!0,fullWidth:!0},r.createElement(Ht.a,{padding:{x:2}},r.createElement(Ka.a,{name:"PlayerControlsOverlay-SeekBar"},r.createElement(Nc,null),r.createElement(dp,null))),r.createElement(Ht.a,{display:qt.h.Flex,margin:{left:1,bottom:1,right:1}},r.createElement(Ka.a,{name:"PlayerControlsOverlay-Controls"},r.createElement(Ht.a,{flexGrow:1,display:qt.h.Flex,alignItems:qt.b.Center,justifyContent:qt.m.Start,className:"player-controls__left-control-group"},r.createElement(Cl,null),r.createElement(_d,null),r.createElement(pp.b,null)),r.createElement(Ht.a,{flexGrow:1,display:qt.h.Flex,alignItems:qt.b.Center,justifyContent:qt.m.End,className:"player-controls__right-control-group"},r.createElement(Id,null),r.createElement(ep,null),r.createElement(Ir.a,Object(i.__assign)({},t)),r.createElement(Jc,null),r.createElement(Ic,null),r.createElement(Ll,null),r.createElement($c,null),r.createElement(Ht.a,{position:qt.o.Absolute,attachBottom:!0,attachRight:!0,margin:{bottom:5,right:5}},r.createElement(yd,null)),r.createElement(Ed,null),r.createElement(np,null),r.createElement(ud,null),r.createElement(gp,null))))))},t}(r.Component)),bp=Object(s.d)(Object(c.a)({name:"PlayerControlsOverlay"}))(hp),yp=n("br9A"),kp=n("D/KL"),Sp=n("w1PT"),Ep=n("KriR");n("w7hM");!function(e){e.Details="preview_content-details",e.ContentTimer="preview-content-content-timer",e.PrimeUpsellButton="preview-content-prime-upsell-button",e.PrimeSubscribeErrorPanel="preview-content-prime-error-panel"}(vp||(vp={}));var Cp=ru.a.wrap((function(){return Promise.all([n.e(0),n.e(111)]).then(n.bind(null,"hfwl"))}),"SubModal"),Op=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={imageLoaded:!1},t.handleImageLoad=function(){return t.setState((function(e){return e.imageLoaded?null:{imageLoaded:!0}}))},t.adFreeViewingText=function(){return Object(l.d)("Get ad-free viewing on this channel (with limited exceptions), ability to watch and chat during sub-only streams, Subscriber emotes and a Subscriber badge.","PreviewContentOverlay")},t.showSubscriptionModal=function(){if(t.props.channelLogin){t.props.track(T.SpadeEventType.PreviewBannerAction,t.props.spadeEventBaseData(qp.Subscribe));var e=t.props.exemptionProductName;e&&t.props.minTier>1?t.props.showSubscriptionCheckout({productName:e,trackingContext:{source:Ep.a.SubscriberStreamUpsellClick}}):t.props.showSubscriptionModal({channelLogin:t.props.channelLogin,subLocation:yp.b.PremiumContentOverlay})}},t.handlePrimeSubscribe=function(){t.props.handlePrimeSubscribe()},t.resetPrimeSubscribe=function(){t.props.resetPrimeSubscribe()},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.renderLoggedOutContent();this.props.isLoggedIn&&(e=this.props.secondsRemaining<=0?this.renderExpiredContent():this.renderPreviewContent());var t=this.props.previewUrl;return r.createElement(bi.a,{show:this.props.expanded,type:bi.d.Fade,duration:bi.c.Long,"data-test-selector":vp.Details,className:"preview-overlay__transition-container"},r.createElement(Ht.a,{padding:{bottom:2,x:2},display:qt.h.Flex,alignItems:qt.b.Start,className:"preview-overlay__info"},r.createElement(mi.a,{margin:{right:2},borderRadius:qt.e.Medium},r.createElement("div",{className:"preview-overlay__preview-image"},r.createElement(Dl.b,{ratio:16/9},r.createElement(bi.a,{show:this.state.imageLoaded,type:bi.d.Fade,duration:bi.c.Long,alwaysRenderChild:!0},t&&r.createElement(ji.a,{src:t,alt:this.props.channelLogin||"",onLoad:this.handleImageLoad}))))),r.createElement("div",{className:"preview-overlay__content"},e)))},t.prototype.renderExpiredContent=function(){return r.createElement(r.Fragment,null,r.createElement(Ht.a,{margin:{bottom:1}},r.createElement(tn.a,{type:tn.e.H4},Object(l.d)("Your free preview has expired","PreviewContentOverlay"))),r.createElement(tn.a,{type:tn.e.H5,bold:!0},this.props.description),r.createElement(tn.a,{type:tn.e.P,fontSize:qt.k.Size6},this.adFreeViewingText()),this.renderButtonBar())},t.prototype.renderPreviewContent=function(){return r.createElement(r.Fragment,null,r.createElement(tn.a,{type:tn.e.P,fontSize:qt.k.Size4,"data-test-selector":vp.ContentTimer},Object(l.d)("Your free preview ends in {timeRemaining}",{timeRemaining:r.createElement(tn.a,{type:tn.e.Strong},this.renderTimer())},"PreviewContentOverlay")),this.renderButtonBar(),r.createElement(tn.a,{type:tn.e.H5,bold:!0},this.props.description),r.createElement(tn.a,{type:tn.e.P,fontSize:qt.k.Size6},this.adFreeViewingText()))},t.prototype.renderLoggedOutContent=function(){return r.createElement(r.Fragment,null,r.createElement(tn.a,{type:tn.e.H4},this.props.title),r.createElement(Ht.a,{margin:{top:1,bottom:.5}},r.createElement(tn.a,{type:tn.e.H6,bold:!0},Object(l.d)("Sign up now to join in:","PreviewContentOverlay"))),r.createElement(Ut.a,{display:qt.h.Flex,alignItems:qt.b.Center},r.createElement(tn.a,{type:tn.e.Span,fontSize:qt.k.Size6},r.createElement(Ht.a,{margin:{right:1}},r.createElement(yi.a,{asset:zt.a.Check,width:20,height:20})),Object(l.d)("Watch free previews of Subscriber Streams","PreviewContentOverlay"))),r.createElement(Ut.a,{display:qt.h.Flex,alignItems:qt.b.Center},r.createElement(tn.a,{type:tn.e.Span,fontSize:qt.k.Size6},r.createElement(Ht.a,{margin:{right:1}},r.createElement(yi.a,{asset:zt.a.Check,width:20,height:20})),Object(l.d)("Follow {channelLogin} and never miss a stream",{channelLogin:this.props.channelLogin},"PreviewContentOverlay"))),this.renderButtonBar())},t.prototype.renderButtonBar=function(){var e=this;return this.props.shouldShowPrimeUpsell?r.createElement(Ht.a,{margin:{y:2,x:0},display:qt.h.Flex,className:"preview-overlay__allow-pointers"},this.renderPrimeUpsellButton(),r.createElement(yn.a,{onClick:this.showSubscriptionModal,type:yn.d.Text,overlay:!0},Object(l.d)("More options","PreviewContentOverlay"))):r.createElement(Ht.a,{margin:{y:2,x:0},className:"preview-overlay__allow-pointers"},this.props.isLoggedIn?r.createElement(yn.a,{icon:zt.a.StarHollow,onClick:this.showSubscriptionModal},this.props.cta):r.createElement(yn.a,{onClick:function(){e.props.track(T.SpadeEventType.PreviewBannerAction,e.props.spadeEventBaseData(qp.Login)),e.props.showLoginModal()}},Object(l.d)("Sign up to watch a free preview","PreviewContentOverlay")))},t.prototype.renderTimer=function(){return Object($a.b)(this.props.secondsRemaining,$a.a.ClockAuto)},t.prototype.renderPrimeUpsellButton=function(){return this.props.primeSubscribeFailed?r.createElement(Gt.a,{"data-test-selector":vp.PrimeSubscribeErrorPanel,background:qt.d.Overlay,border:!0,borderRadius:qt.e.Medium,padding:{x:.5},display:qt.h.Flex},r.createElement(yi.a,{asset:zt.a.DeadGlitch,height:18,width:18}),r.createElement(Ut.a,{display:qt.h.InlineFlex,alignItems:qt.b.Center,margin:{left:1}},r.createElement(tn.a,{type:tn.e.Span},Object(l.d)("Something went wrong.","PreviewContentOverlay"))),r.createElement(yn.a,{type:yn.d.Text,onClick:this.resetPrimeSubscribe,overlay:!0},Object(l.d)("Try again","PreviewContentOverlay"))):r.createElement(yn.a,{onClick:this.handlePrimeSubscribe,"data-test-selector":vp.PrimeUpsellButton,disabledInteraction:this.props.primeSubscribePending,icon:zt.a.CrownFilled,state:this.props.primeSubscribePending?yn.c.Loading:yn.c.Default},Object(l.d)("Subscribe free with Prime","PreviewContentOverlay"))},t}(r.Component);var _p=Object(s.d)(Object(I.c)(),Object(S.c)((function(e){var t=e.content;return{channelLogin:Object(A.i)(t)||Object(A.b)(t)||""}})),Object(o.b)((function(e){return{isLoggedIn:Object(dr.f)(e)}}),(function(e){return Object(s.b)({showSubscriptionModal:function(e){var t=Object(i.__rest)(e,[]);return Object(ou.e)(Cp,t)},showSubscriptionCheckout:Sp.b,showLoginModal:function(){return Object(Cs.e)(Es.a.ChannelUpsellLogin)}},e)})))(Op);var wp,Pp=n("oB8h"),Np=n("mA37");!function(e){e[e.Live=0]="Live",e[e.Rerun=1]="Rerun",e[e.Offline=2]="Offline",e[e.Premiere=3]="Premiere"}(wp||(wp={}));var Tp=function(e){switch(e){case wp.Live:return r.createElement(Di.a,{label:Object(l.d)("LIVE","StatusOverlay")});case wp.Rerun:return r.createElement(Ii.a,null,Object(l.d)("RERUN","StatusOverlay"));case wp.Offline:return r.createElement(Ii.a,null,Object(l.d)("OFFLINE","StatusOverlay"));case wp.Premiere:return r.createElement(Ii.a,null,Object(l.d)("PREMIERE","StatusOverlay"));default:return null}},Dp=function(e){return!e.data},Ip=function(e){return e.data&&!!e.data.error},Ap=function(e){return!e.data||e.data.loading},jp=function(e){return e.isOffline},xp=function(e){return e.data&&e.data.user&&e.data.user.stream&&e.data.user.stream.type};var Lp=function(e){return e.type===U.a.Live?e.channelLogin:null},Fp=Object(s.d)(Object(S.c)((function(e){return{content:e.content}})),Object(k.c)((function(e){return{isOffline:e.isOffline,isPremiumContentRestricted:Object(fe.d)(e,cn.a.PremiumContent)}})),Object(B.a)(Np,{skip:function(e){return!Lp(e.content)},options:function(e){var t;return{variables:{channel:null!==(t=Lp(e.content))&&void 0!==t?t:""}}}}))((function(e){if(Dp(e)||Ip(e)||Ap(e))return null;var t=jp(e)?wp.Offline:wp.Live;return t===wp.Live&&(xp(e)===Pp.a.Rerun?t=wp.Rerun:xp(e)===Pp.a.Premiere&&(t=wp.Premiere)),Tp(t)}));var Mp;n("qurx");!function(e){e.BroadcasterStreamingStatus="preview-content-broadcaster-streaming-status",e.FocusHandler="preview-content-top-bar-focus-handler",e.TopRightTimerTextTransition="preview-content-top-right-bar-timer-transition",e.TopRightTimerText="preview-content-top-right-bar-timer-copy",e.TopRightTimerTime="preview-content-top-right-bar-timer-time",e.ToggleStatus="preview-content-top-bar-icon",e.PrimeUpsellButton="preview-content-top-bar-prime-upsell-button"}(Mp||(Mp={}));var Rp=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handlePrimeSubscribe=function(e){e.stopPropagation(),t.props.handlePrimeSubscribe()},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.isLoggedIn,n=e.expanded,a=e.secondsRemaining,o=e.toggleCollapse,s=a<=0,l=t&&!s,c=t,d=t&&!s&&!n,u={display:qt.h.Flex,alignItems:qt.b.Center,fullHeight:!0},p=r.createElement(Ut.a,Object(i.__assign)({},u),r.createElement(bi.a,{show:l,type:bi.d.TranslateTop,duration:bi.c.Medium,"data-test-selector":Mp.ToggleStatus},r.createElement(yi.a,{asset:n?zt.a.AngleDown:zt.a.AngleRight}))),m=r.createElement(tn.a,{fontSize:qt.k.Size4,ellipsis:!0,"data-test-selector":Mp.BroadcasterStreamingStatus},this.props.title),f=this.props.shouldShowPrimeUpsell?this.renderPrimeUpsellButton():this.renderPreviewTimeRemainingText(),v=r.createElement(Ut.a,Object(i.__assign)({},u,{margin:{x:1}}),r.createElement(bi.a,{show:d,type:bi.d.Fade,duration:bi.c.Medium,"data-test-selector":Mp.TopRightTimerTime},r.createElement(tn.a,{type:tn.e.Strong,fontSize:qt.k.Size4},"",Object($a.b)(a,$a.a.ClockAuto)))),g=r.createElement(Ht.a,null,r.createElement(Ht.a,Object(i.__assign)({},u,{justifyContent:qt.m.Between,padding:2,fullWidth:!0}),p,r.createElement(Ht.a,Object(i.__assign)({},u,{flexGrow:1,flexShrink:1,overflow:qt.n.Hidden,margin:{x:1}}),c&&m),r.createElement(Ht.a,Object(i.__assign)({},u),r.createElement(Ut.a,Object(i.__assign)({},u,{justifyContent:qt.m.End}),r.createElement(bi.a,{show:d,type:bi.d.Fade,duration:bi.c.Short,"data-test-selector":Mp.TopRightTimerTextTransition},f))),v,r.createElement(Fp,null)));return s||(g=r.createElement(Ht.a,{className:"preview-top-bar__allow-pointers","data-test-selector":Mp.FocusHandler},r.createElement(Ja.a,{type:Ja.b.Alpha,onClick:o},g))),g},t.prototype.renderPreviewTimeRemainingText=function(){return r.createElement(tn.a,{fontSize:qt.k.Size5,ellipsis:!0,"data-test-selector":Mp.TopRightTimerText},Object(l.d)("Your free preview ends in","PreviewContentOverlay"))},t.prototype.renderPrimeUpsellButton=function(){return this.props.primeSubscribeFailed?null:r.createElement(yn.a,{onClick:this.handlePrimeSubscribe,"data-test-selector":Mp.PrimeUpsellButton,disabledInteraction:this.props.primeSubscribePending,icon:zt.a.CrownFilled,state:this.props.primeSubscribePending?yn.c.Loading:yn.c.Default},Object(l.d)("Subscribe free","PreviewContentOverlay"))},t}(r.Component);var Vp,Bp=Object(s.d)(Object(o.b)((function(e){return{isLoggedIn:Object(dr.f)(e)}})))(Rp),Up=n("8mkg");n("46wp");!function(e){e.Root="preview_content-root",e.FocusHandler="preview_content-focus_handler"}(Vp||(Vp={}));var qp,Gp=2e3,Hp=20,Wp={LoggedOut:"logged_out",Preview:"preview",ExpiredPreview:"expired_preview"},zp="collapsed_prime",Qp={Collapsed:"collapsed",Expanded:"expanded",Full:"full"},Kp={Collapsed:zp,Expanded:"expanded_prime",Full:"full_prime"},Yp={Collapsed:zp,Expanded:"expanded_prime_error",Full:"full_prime_error"};!function(e){e.Subscribe="subscribe",e.SubscribePrime="subscribe_prime",e.SubscribePrimeTryAgain="subscribe_prime_try_again",e.Login="signup",e.Expand="expand",e.Collapse="collapse"}(qp||(qp={}));var $p=function(e){function t(t){var n=e.call(this,t)||this;n.DEFAULT_PREVIEW_URL="https://static-cdn.jtvnw.net/ttv-static/404_preview-285x160.jpg",n.renderFocusHandler=function(){return n.props.onFocusPlayer&&r.createElement(Ut.a,{position:qt.o.Absolute,attachTop:!0,attachLeft:!0,attachRight:!0,attachBottom:!0},r.createElement("div",{onClick:n.props.onFocusPlayer,"data-test-selector":Vp.FocusHandler}))},n.tick=function(){var e=n.calculateSecondsRemaining();e<=0?n.endCountdown():(n.setState({secondsRemaining:e}),n.tickRef=setTimeout(n.tick,1e3))},n.endCountdown=function(){n.setState({secondsRemaining:0,expanded:!0}),n.shutdownVideo()},n.shutdownVideo=function(){if(n.shutdownStep===Hp&&(n.props.pause(),n.props.updateContext({forbidden:!0}),n.props.setShowControls(!1),n.shutdownStartVolume=n.props.volume||1),n.shutdownStep<=0||isNaN(n.shutdownStep))return n.props.setRestrictPlayback(!0),void n.props.setVolume(n.shutdownStartVolume);var e=n.shutdownStartVolume*n.shutdownStep/Hp;n.props.setVolume(e),--n.shutdownStep,setTimeout(n.shutdownVideo,n.shutdownInterval)},n.toggleCollapse=function(){n.setState((function(e){return{expanded:!e.expanded}}),(function(){var e=n.state.expanded?qp.Expand:qp.Collapse;n.trackSpadeAction(e)}))},n.handlePrimeSubscribe=function(){var e=n.user();e&&e.id&&n.props.currentUser&&n.props.currentUser.id&&(n.setState({primeSubPending:!0}),n.trackSpadeAction(qp.SubscribePrime),n.props.spendPrimeCredit(Object(L.a)({broadcasterID:e.id,userID:n.props.currentUser.id})).then((function(e){e.data&&e.data.spendSubscriptionCredit&&e.data.spendSubscriptionCredit.error&&n.failPrimeSubscribe()})).catch((function(){return n.failPrimeSubscribe()})))},n.resetPrimeSubscribe=function(){n.setState({primeSubPending:!1,primeSubFailed:!1}),n.trackSpadeAction(qp.SubscribePrimeTryAgain)},n.failPrimeSubscribe=function(){n.setState({primeSubPending:!1,primeSubFailed:!0,expanded:!0})},n.spadeEventBaseData=function(e){var t=Wp.LoggedOut;n.props.isLoggedIn&&(t=n.state.secondsRemaining>0?Wp.Preview:Wp.ExpiredPreview);var i=Qp;n.shouldShowPrimeUpsell()&&(i=n.state.primeSubFailed?Yp:Kp);var a=n.state.expanded?i.Expanded:i.Collapsed;return n.state.secondsRemaining<=0&&(a=i.Full),{channel:n.props.channelLogin||null,banner_state:a,viewer_status:t,action:e}},n.trackSpadeAction=function(e){n.props.track(e?T.SpadeEventType.PreviewBannerAction:T.SpadeEventType.PreviewBannerImpression,n.spadeEventBaseData(e))},n.user=function(){return n.props.data&&n.props.data.user};var i=n.calculateSecondsRemaining();return i>0&&n.props.setRestrictPlayback(!1),n.state={secondsRemaining:i,neverPreview:i<=0,expanded:!1,primeSubPending:!1,primeSubFailed:!1},n.shutdownStep=Hp,n.shutdownInterval=Math.floor(Gp/Hp),n}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.state.secondsRemaining>0&&this.trackSpadeAction(),this.tick()},t.prototype.componentWillUnmount=function(){clearInterval(this.tickRef)},t.prototype.render=function(){var e=this.state,t=e.expanded,n=e.secondsRemaining,a=this.props,o=a.active,s=a.mini,c=n<=0;if(s&&!c)return null;if(s)return r.createElement(an.a,{type:an.b.Fullscreen,transparency:an.c.Transparency0},r.createElement(tn.a,{fontSize:qt.k.Size4,bold:!0,lineHeight:tn.b.Heading,color:qt.f.Overlay},Object(l.d)("Your free preview has expired","ContentOverlayGate")));var d=this.title(),u=this.description(),p=this.cta(),m=this.restrictionTier();if(!d||!u||!p)return null;var f={secondsRemaining:n,expanded:t,title:d,shouldShowPrimeUpsell:this.shouldShowPrimeUpsell(),primeSubscribePending:this.state.primeSubPending,primeSubscribeFailed:this.state.primeSubFailed,handlePrimeSubscribe:this.handlePrimeSubscribe,resetPrimeSubscribe:this.resetPrimeSubscribe};return r.createElement(bi.a,{show:t||!!o,transitionInitialMount:!0,type:bi.d.Fade,duration:bi.c.Long,"data-test-selector":Vp.Root},r.createElement(Gt.a,{position:qt.o.Absolute,attachTop:!0,attachBottom:c,attachRight:!0,attachLeft:!0,overflow:qt.n.Hidden,display:qt.h.Flex,flexDirection:qt.i.Column,color:qt.f.Overlay,className:"preview-overlay"},this.renderFocusHandler(),r.createElement(Bp,Object(i.__assign)({toggleCollapse:this.toggleCollapse},f)),r.createElement(Ht.a,{position:qt.o.Relative,display:qt.h.Flex,flexDirection:qt.i.Column,justifyContent:qt.m.Center,alignItems:c?qt.b.Center:qt.b.Start,flexGrow:1,overflow:c?qt.n.Visible:qt.n.Hidden},r.createElement(_p,Object(i.__assign)({previewUrl:this.getPreviewUrl(),spadeEventBaseData:this.spadeEventBaseData,description:u,cta:p,minTier:m,exemptionProductName:this.restrictionExemptionProductName()},f)))))},t.prototype.calculateSecondsRemaining=function(){if(this.props.accessExpiration&&this.props.isLoggedIn){var e=Date.now(),t=Math.trunc((1e3*this.props.accessExpiration-e)/1e3);if(!isNaN(t)&&t>0)return t}return 0},t.prototype.getPreviewUrl=function(){var e=this.user();return e&&e.stream&&e.stream.previewImageURL||""},t.prototype.hasTierRestriction=function(){return this.isRestrictedForTier2()||this.isRestrictedForTier3()},t.prototype.isRestrictedForTier2=function(){return this.props.restrictionOptions.includes(X.be.ALLOW_TIER_2_AND_3_ONLY)},t.prototype.isRestrictedForTier3=function(){return this.props.restrictionOptions.includes(X.be.ALLOW_TIER_3_ONLY)},t.prototype.restrictionTier=function(){return this.isRestrictedForTier3()?3:this.isRestrictedForTier2()?2:1},t.prototype.restrictionExemptionProductName=function(){var e=this.user();if(e&&e.subscriptionProducts){var t=e.subscriptionProducts,n=this.restrictionTier()+"000",i=t.find((function(e){return e&&e.tier===n}));if(i)return i.name}return""},t.prototype.title=function(){var e=r.createElement(tn.a,{type:tn.e.Strong},this.props.channelLoginDisplay);return this.hasTierRestriction()?Object(l.d)("{channelLogin} is streaming for Tier {tier} subscribers.",{channelLogin:e,tier:this.restrictionTier()},"PreviewContentOverlay"):Object(l.d)("{channelLogin} is streaming for subscribers",{channelLogin:e},"PreviewContentOverlay")},t.prototype.description=function(){var e=this.props.channelLoginDisplay;return e?this.hasTierRestriction()?Object(l.d)("Subscribe Tier {tier} to watch and support {channelLogin}",{tier:this.restrictionTier(),channelLogin:e},"PreviewContentOverlay"):Object(l.d)("Subscribe to watch and support {channelLogin}",{channelLogin:e},"PreviewContentOverlay"):null},t.prototype.cta=function(){var e=this.props.channelLoginDisplay;return e?this.hasTierRestriction()&&this.isSubscribed()?Object(l.d)("Upgrade your Subscription","PreviewContentOverlay"):Object(l.d)("Subscribe to {channelLogin}",{channelLogin:e},"PreviewContentOverlay"):null},t.prototype.isSubscribed=function(){var e=this.user();return!!(e&&e.self&&e.self.subscriptionBenefit&&e.self.subscriptionBenefit.id)},t.prototype.isPrimeSubscribable=function(){var e=this.user();return!!(e&&e.self&&e.self.canPrimeSubscribe)},t.prototype.shouldShowPrimeUpsell=function(){var e=this.user();return!!(e&&e.id&&this.props.currentUser&&this.props.currentUser.id)&&this.isPrimeSubscribable()&&this.restrictionTier()<2},t}(r.Component);var Xp=Object(s.d)(Object(I.c)(),Object(k.c)((function(e){var t=e.accessExpiration,n=e.volume,i=e.updateContext;return{accessExpiration:t,volume:n,updateContext:i}})),Object(S.c)((function(e){var t=Object(A.b)(e.content),n=!!Object(_.a)({playerPublicPropsContext:e}).mini,i=Object(A.j)(e.content);return{channelLogin:t,channelLoginDisplay:i&&i.parentChannelLogin||t,mini:n,onFocusPlayer:Object(_.b)({playerPublicPropsContext:e}).onFocusPlayer}})),Object(E.e)((function(e){var t=e.pause,n=e.setVolume;return{pause:t,setVolume:n}})),Object(Ke.e)((function(e){return{setShowControls:e.setShowControls}})),Object(_r.b)((function(e){return{active:e.active}})),Object(o.b)((function(e){return{isLoggedIn:Object(dr.f)(e),currentUser:Object(dr.e)(e)}})),Object(B.a)(Up,{options:function(e){return{variables:{channel:e.channelLogin}}},skip:function(e){return!e.channelLogin}}),Object(B.a)(kp,{name:"spendPrimeCredit"}))($p);var Jp=n("zpnp"),Zp=ru.a.wrap((function(){return Promise.all([n.e(0),n.e(111)]).then(n.bind(null,"hfwl"))}),"SubModal"),em=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={restrictPlayback:!0},t.renderContentRestrictedOverlay=function(){return r.createElement(fn.a,{iconProps:{type:vn.a.Icon,icon:zt.a.Lock},text:Object(l.d)("Content Restricted","PremiumContentOverlay")})},t.setRestrictPlayback=function(e){t.setState({restrictPlayback:e})},t.showSubscriptionModal=function(){var e=t.props.parentChannelLogin||t.props.liveChannelLogin||"";t.props.showSubscriptionModal({channelLogin:e,subLocation:yp.b.PremiumContentOverlay})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props.liveChannelLogin;return e?r.createElement(on,{key:e,skip:!this.state.restrictPlayback,restriction:cn.a.PremiumContent},this.renderContent()):null},t.prototype.renderContent=function(){var e=this;switch(this.restrictionType(this.props)){case X.ce.SUB_ONLY_LIVE:return r.createElement(Xp,{key:this.props.channelLogin,restrictionOptions:this.restrictionOptions(this.props),setRestrictPlayback:this.setRestrictPlayback});case X.ce.ORGANIZATION_ACCESS_ONLY:return this.renderContentRestrictedOverlay();case X.ce.ALL_ACCESS_PASS:case X.ce.UNKNOWN:return r.createElement(fn.a,{iconProps:{type:vn.a.Icon,icon:zt.a.Ticket},text:Object(l.d)("Watch with All-Access Pass","PremiumContentOverlay")},(function(t){return r.createElement(yn.a,{onClick:e.showSubscriptionModal,size:t?yn.b.Small:yn.b.Default},Object(l.d)("Get the All-Access Pass","PremiumContentOverlay"))}));default:return this.props.data&&this.props.data.loading?null:this.renderContentRestrictedOverlay()}},t.prototype.restrictionType=function(e){return!!e.data&&!!e.data.user&&!!e.data.user.stream&&!!e.data.user.stream.restriction&&e.data.user.stream.restriction.type},t.prototype.restrictionOptions=function(e){return!!e.data&&!!e.data.user&&!!e.data.user.stream&&!!e.data.user.stream.restriction&&e.data.user.stream.restriction.options||[]},t}(r.Component);var tm=Object(B.a)(Jp,{options:function(e){return{variables:{channel:e.liveChannelLogin}}},skip:function(e){return!e.liveChannelLogin}}),nm=Object(s.d)(ln("PremiumContentOverlay",cn.a.PremiumContent),Object(o.b)(null,(function(e){return Object(s.b)({showSubscriptionModal:function(e){var t=Object(i.__rest)(e,[]);return Object(ou.e)(Zp,t)}},e)})),Object(S.c)((function(e){var t=e.content;return{channelLogin:Object(A.b)(t),liveChannelLogin:Object(A.g)(t),parentChannelLogin:Object(A.i)(t)}})),tm)(em);var im=n("CGXs"),am=n("WQCf"),rm=n("sDgG"),om=n("soLF"),sm=n("4udP"),lm=function(e){e.current&&(clearTimeout(e.current),e.current=void 0)},cm=function(e){var t,n,a,o=r.useState(null),s=o[0],l=o[1],c=Object(x.b)(rm,{variables:{channelID:e||""}}),d=c[0],u=c[1].data,p=null===(n=null===(t=null==u?void 0:u.user)||void 0===t?void 0:t.radio)||void 0===n?void 0:n.currentlyPlaying;r.useEffect((function(){e&&d({variables:{channelID:e}})}),[d,e]),r.useEffect((function(){var e=um(p);l(e)}),[p]);var m=Object(im.a)(e?Object(Me.Q)(e):"",!e)[0];r.useEffect((function(){if(m){var e;switch(m.type){case am.g.RadioTrackStatusPlaying:e=dm(m);break;case am.g.RadioTrackStatusStopped:default:e=null}l(e)}else l(null)}),[m]);var f=null==s?void 0:s.artists.find((function(e){return!!e.creatorChannelID})),v=function(e,t){void 0===t&&(t=!1);var n=Object(x.d)(om,{variables:{channelID:e||""},skip:t||!e}),i=n.data,a=n.error,r=n.loading;return{user:null==i?void 0:i.user,error:a,loading:r}}((null==f?void 0:f.creatorChannelID)||"",!!(null===(a=null==f?void 0:f.channel)||void 0===a?void 0:a.owner)).user;return r.useEffect((function(){var e,t,n,a,r,o;s&&v&&f&&(null===(e=f.channel)||void 0===e||!e.owner)&&(f.channel=Object(i.__assign)(Object(i.__assign)({},f.channel||{}),{id:f.creatorChannelID||"",owner:Object(i.__assign)(Object(i.__assign)({},(null===(t=f.channel)||void 0===t?void 0:t.owner)||{}),{id:v.id,login:v.login,displayName:v.displayName,profileImageURL:v.profileImageURL,settings:Object(i.__assign)(Object(i.__assign)({},(null===(a=null===(n=f.channel)||void 0===n?void 0:n.owner)||void 0===a?void 0:a.settings)||{}),{visibility:null===(r=v.settings)||void 0===r?void 0:r.visibility}),isLive:(null===(o=v.stream)||void 0===o?void 0:o.type)===Pp.a.Live})}),l(Object(i.__assign)({},s)))}),[v,f,s]),{currentTrack:function(e){var t=r.useRef(null),n=r.useRef(),i=r.useState(!1),a=i[0],o=i[1],s=e?e.asin:null;return Object(sm.a)((function(){return function(){lm(n)}})),r.useEffect((function(){t.current!==s&&(t.current=s,lm(n),s&&(n.current=setTimeout((function(){lm(n),o(!0)}),42e4)),o(!1))}),[s]),{expired:a}}(s).expired?null:s}},dm=function(e){return e.track?{asin:e.track.asin,title:e.track.title,album:{asin:e.track.album.asin,imageURL:e.track.album.imageURL,name:e.track.album.name},artists:e.track.artists.map((function(e){return{asin:e.asin,name:e.name,creatorChannelID:e.creatorChannelID}}))}:null},um=function(e){var t=null==e?void 0:e.track;return t?{asin:t.id,title:t.title,album:{asin:t.album.id,imageURL:t.album.imageURL,name:t.album.name},artists:t.artists.map((function(e){var t,n,i,a,r,o,s,l,c,d={asin:e.id,name:e.name,creatorChannelID:e.creatorChannelID};return e.channel&&(d.channel={id:e.channel.id,name:e.channel.name,owner:{id:(null===(t=e.channel.owner)||void 0===t?void 0:t.id)||null,login:(null===(n=e.channel.owner)||void 0===n?void 0:n.login)||null,displayName:(null===(i=e.channel.owner)||void 0===i?void 0:i.displayName)||null,profileImageURL:(null===(a=e.channel.owner)||void 0===a?void 0:a.profileImageURL)||null,settings:(null===(r=e.channel.owner)||void 0===r?void 0:r.settings)?{visibility:null===(s=null===(o=e.channel.owner)||void 0===o?void 0:o.settings)||void 0===s?void 0:s.visibility}:null,isLive:(null===(c=null===(l=e.channel.owner)||void 0===l?void 0:l.stream)||void 0===c?void 0:c.type)===Pp.a.Live}}),d}))}:null},pm=n("LgjW");function mm(){return function(e){var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(n,t),n.prototype.render=function(){return r.createElement(e,Object(i.__assign)({},this.props))},n.displayName=Object(m.a)(n.name,e),n}(r.Component),n=Object(B.a)(pm,{options:function(e){return{variables:{channel:e.liveChannelLogin}}},skip:function(e){return!e.liveChannelLogin}});return Object(s.d)(Object(S.c)(vm),n)(t)}}function fm(e){return!!(e&&e.user&&e.user.stream&&e.user.stream.isEncrypted)}function vm(e){var t=e.content;return{liveChannelLogin:Object(A.g)(t)}}var gm,hm=n("OurO"),bm=n("9cHc"),ym=n.n(bm),km=n("6dZO"),Sm=n("cwzQ"),Em=function(e){var t=e.onInteraction,n=e.linkURL,i=e.title,a=r.useCallback((function(e){t&&t(i,e),window.open(n)}),[n,i,t]),o=r.useCallback((function(e){a(ju.LinkfireRowItem),e.stopPropagation()}),[a]),s=r.useCallback((function(e){a(ju.LinkfireRowCTABtn),e.stopPropagation()}),[a]);return r.createElement("li",null,r.createElement(Ut.a,{fullWidth:!0},r.createElement(Ai.a,{onClick:o},r.createElement(Gt.a,{className:"radio-content-promo__linkfire-item-wrapper",display:qt.h.Flex,alignItems:qt.b.Center,margin:{x:1},padding:1},r.createElement(Ht.a,{className:"radio-content-promo__music-service-icon",margin:{right:1},flexShrink:0,flexGrow:0},r.createElement(ji.a,{src:e.iconURL,alt:Object(l.d)("{musicServiceTitle} Icon",{musicServiceTitle:e.title},"RadioContentPromoLinkfireListItem")})),r.createElement(Ht.a,{flexGrow:1,ellipsis:!0},r.createElement(tn.a,{fontSize:qt.k.Size5,bold:!0,ellipsis:!0},e.title)),r.createElement(Ht.a,null,r.createElement(yn.a,{"aria-label":e.title,onClick:s,type:yn.d.Secondary},r.createElement(tn.a,{fontSize:qt.k.Size7,bold:!0,color:qt.f.Base},e.buttonText)))))))},Cm=function(e){var t,n,i=function(e){var t,n=!e,i=Object(x.d)(km,{variables:{channelID:e||""},fetchPolicy:"cache-and-network",skip:n}),a=i.data,r=i.error,o=i.loading;return{data:null===(t=null==a?void 0:a.channel)||void 0===t?void 0:t.currentRadioTrack,error:r,loading:o,skipped:n}}(e.channelID),a=i.data,o=i.loading,s=i.error,l=r.useCallback((function(e,t){if(null==a?void 0:a.track){var n,i=!!(n=a.track)&&!!n.artists.find((function(e){return!!e.creatorChannelID}));Object(Mu.j)({trackId:a.track.id,category:e,subsection:i?Au.LinkfirePremiumPanel:Au.LinkfirePanel,interaction:Iu.Click,component:t})}}),[a]);return o?r.createElement(Ht.a,{fullWidth:!0,fullHeight:!0,justifyContent:qt.m.Center,alignItems:qt.b.Center,display:qt.h.Flex},r.createElement(Sm.a,{fillContent:!0})):s||!(null===(t=null==a?void 0:a.contentPromotions)||void 0===t?void 0:t.length)?r.createElement(Ht.a,{fullWidth:!0,fullHeight:!0,padding:{top:5}},r.createElement(Om,null)):r.createElement(Rt.b,null,r.createElement("ul",null,null===(n=null==a?void 0:a.contentPromotions)||void 0===n?void 0:n.map((function(e){var t;return r.createElement(Em,{key:(null===(t=null==a?void 0:a.track)||void 0===t?void 0:t.id)+"-"+e.rank,linkURL:e.url,iconURL:e.icon.darkURL,title:e.title,buttonText:e.buttonText,onInteraction:l})}))))},Om=function(){return r.createElement(Ht.a,{display:qt.h.Flex,flexDirection:qt.i.Column,justifyContent:qt.m.Center,alignItems:qt.b.Center},r.createElement(ji.a,{className:"radio-content-promo__linkfire-error-image",src:ym.a,alt:Object(l.d)("Error Image","RadioContentPromoLinkfireList")}),r.createElement(tn.a,{fontSize:qt.k.Size7,color:qt.f.Base},Object(l.d)("Oops! No matches found.","RadioContentPromoLinkfireList")))},_m=(n("VcDr"),function(e){var t=r.useRef(e.track),n=r.useRef(e.channelID),i=t.current;return r.createElement(an.a,{transparency:an.c.Transparency3,type:an.b.Fullscreen},r.createElement(Ht.a,{className:"radio-content-promo__app-links-container",display:qt.h.Flex,flexDirection:qt.i.Column},r.createElement(Gt.a,{color:qt.f.Base,background:qt.d.Alt,position:qt.o.Relative,display:qt.h.Flex,alignItems:qt.b.Center,justifyContent:qt.m.Center,padding:1,borderRadius:{topLeft:qt.e.Large,topRight:qt.e.Large}},r.createElement(tn.a,{fontWeight:qt.l.SemiBold,fontSize:qt.k.Size6},Object(l.d)("Add This Track","RadioContentPromoLinksModal")),r.createElement(Ht.a,{position:qt.o.Absolute,attachRight:!0,display:qt.h.Flex,alignItems:qt.b.Center,margin:{right:.5}},r.createElement(Wt.a,{"aria-label":Object(l.d)("Close","RadioContentPromoLinksModal"),icon:zt.a.Close,onClick:function(){return e.onClose()},size:Wt.b.Small}))),r.createElement(Gt.a,{flexGrow:1,display:qt.h.Flex,flexDirection:qt.i.Column,background:qt.d.Alt},r.createElement(Gt.a,{background:qt.d.Alt2,display:qt.h.Flex,color:qt.f.Base},r.createElement(Ht.a,{className:"radio-content-promo__cover-art--square",flexShrink:0,flexGrow:0},r.createElement(ji.a,{src:i.album.imageURL,alt:Object(l.d)("Track Cover Art","RadioContentPromoLinksModal")})),r.createElement(Ht.a,{padding:1,display:qt.h.Flex,flexDirection:qt.i.Column,justifyContent:qt.m.Around,ellipsis:!0},r.createElement(tn.a,{fontSize:qt.k.Size5,bold:!0,ellipsis:!0},i.title),r.createElement(tn.a,{ellipsis:!0},i.artists.map((function(e){return e.name})).join(", ")),r.createElement(tn.a,{ellipsis:!0},i.album.name))),r.createElement(Gt.a,{flexGrow:1,className:"radio-content-promo__linkfire-list-container",background:qt.d.Base},r.createElement(Cm,{channelID:n.current})))))}),wm=n("Tmn7"),Pm=n.n(wm),Nm=n("iF2L"),Tm=n("E1Lb"),Dm=(n("HTvb"),function(e){var t,n=e.track.artists.find((function(e){return!!e.creatorChannelID})),i=null===(t=null==n?void 0:n.channel)||void 0===t?void 0:t.owner;return r.createElement(Gt.a,null,r.createElement(Ai.a,{onClick:e.onClick},r.createElement(Gt.a,{className:a({"radio-content-promo__info-card":!0,"radio-content-promo__info-card--with-creator":!!n}),display:qt.h.Flex,justifyContent:qt.m.Between,color:qt.f.Base},r.createElement(Gt.a,{className:"radio-content-promo__info-card-collapsed-logo",padding:.5,margin:{right:.5},flexShrink:0,flexGrow:0},n?r.createElement(Nm.a,{alt:(null==i?void 0:i.displayName)||Object(l.d)("User Avatar","RadioContentPromoCollapsedCard"),size:40,src:(null==i?void 0:i.profileImageURL)||null,userLogin:(null==i?void 0:i.login)||null}):r.createElement(ji.a,{src:Pm.a,alt:Object(l.d)("Soundtrack Logo","RadioContentPromoCollapsedCard")})),r.createElement(Ht.a,{flexGrow:1,padding:.5,display:qt.h.Flex,justifyContent:qt.m.Around,flexDirection:qt.i.Column,ellipsis:!0},r.createElement(tn.a,{fontSize:qt.k.Size5,bold:!0,ellipsis:!0},e.track.title),r.createElement(tn.a,null,e.track.artists.map((function(e){return e.name})).join(", "))),r.createElement(Ht.a,{fullHeight:!0,padding:{x:.5},flexShrink:0,flexGrow:0,display:qt.h.Flex,alignItems:qt.b.Center,justifyContent:qt.m.Center,flexDirection:qt.i.Column},r.createElement(Tm.a,{asset:zt.a.AngleRight})))))}),Im=n("dIU+"),Am=n("3Zgu");!function(e){e.CreatorDisplayName="creator-display-name"}(gm||(gm={}));var jm,xm=function(e){var t,n=null===(t=e.artist.channel)||void 0===t?void 0:t.owner,i=r.useCallback((function(){return Object(Mu.j)({channelID:(null==n?void 0:n.id)||"",component:ju.PremiumChannelLink,interaction:Iu.Click,subsection:Au.PremiumCreatorPanel})}),[n]);return r.createElement(Gt.a,{flexGrow:1,display:qt.h.Flex,className:"radio-content-promo__creator-titlebar",padding:{y:1,left:1}},r.createElement(Gt.a,{flexShrink:0,flexGrow:0,display:qt.h.Flex,alignItems:qt.b.Center},r.createElement(Nm.a,{alt:(null==n?void 0:n.displayName)||Object(l.d)("User Avatar","RadioContentPromoCreatorTitlebar"),size:30,presenceStatus:(null==n?void 0:n.isLive)?Am.b.Busy:void 0,presenceIndicator:!!(null==n?void 0:n.isLive),src:(null==n?void 0:n.profileImageURL)||null,userLogin:(null==n?void 0:n.login)||null})),r.createElement(Ht.a,{display:qt.h.Flex,flexDirection:qt.i.Column,padding:{left:.5},flexGrow:1,ellipsis:!0},r.createElement(tn.a,{color:qt.f.Alt,fontSize:qt.k.Size7,ellipsis:!0},Object(l.d)("The Artist","RadioContentPromoCreatorTitlebar")),(null==n?void 0:n.displayName)?r.createElement(tn.a,{bold:!0,fontSize:qt.k.Size5,ellipsis:!0,"data-test-selector":gm.CreatorDisplayName},r.createElement(Xa.a,{linkTo:"/"+(null==n?void 0:n.login),onClick:i,targetBlank:!0},null==n?void 0:n.displayName)):null),r.createElement(Gt.a,{display:qt.h.Flex,alignItems:qt.b.Center,className:"radio-content-promo__follow-btn-wrapper"},r.createElement(Im.FollowButton,{channelLogin:(null==n?void 0:n.login)||null,channelName:(null==n?void 0:n.displayName)||void 0,followUIType:Im.FollowButtonUIType.IconAndText,unfollowUIType:Im.FollowButtonUIType.IconOnly,followButtonType:yn.d.Secondary,tooltipDirection:_a.c.Top,hideDropdownWhenFollowing:!0,hollowIcons:!0,animatedButton:!0,showTooltips:!0,alignRight:!0,showLoadingPlaceholder:!0,fullWidthButton:!0,onFollow:function(){return e.onFollow()},onUnfollow:function(){return e.onUnfollow()}})))},Lm=function(){Object(Mu.j)({component:ju.LearnMore,interaction:Iu.Click,subsection:Au.TrackPanel}),window.open("https://www.twitch.tv/soundtrack")},Fm=function(){return r.createElement(r.Fragment,null,r.createElement(Gt.a,{className:"radio-content-promo__info-card-expanded-logo"},r.createElement(ji.a,{src:Pm.a,alt:Object(l.d)("Soundtrack Logo","RadioContentPromoSimpleTitlebar")})),r.createElement(Ht.a,{display:qt.h.Flex,alignItems:qt.b.Center,flexGrow:1,ellipsis:!0},r.createElement(Ut.a,{fullWidth:!0,fullHeight:!0},r.createElement(Ai.a,{onClick:Lm},r.createElement(tn.a,{bold:!0,fontSize:qt.k.Size5,color:qt.f.Base,ellipsis:!0},Object(l.d)("Soundtrack By Twitch","RadioContentPromoSimpleTitlebar"))))))},Mm=(n("upTu"),function(e){var t=e.track.artists.find((function(e){return!!e.creatorChannelID})),n=Object(l.d)("Minimize Track Details","RadioContentPromoExpandedCardTitlebar"),i=r.useCallback((function(){return Object(Mu.j)({channelID:t?t.creatorChannelID:"",interaction:Iu.Follow,subsection:Au.PremiumCreatorPanel,trackId:e.track.asin})}),[t,e.track]),a=r.useCallback((function(){return Object(Mu.j)({channelID:t?t.creatorChannelID:"",interaction:Iu.Unfollow,subsection:Au.PremiumCreatorPanel,trackId:e.track.asin})}),[t,e.track]);return r.createElement(Gt.a,{className:"radio-content-promo__info-card-titlebar",display:qt.h.Flex,borderRadius:{topLeft:qt.e.Large,topRight:qt.e.Large}},t?r.createElement(xm,{artist:t,onFollow:i,onUnfollow:a}):r.createElement(Fm,null),r.createElement(Ht.a,{display:qt.h.Flex,alignItems:qt.b.Center,padding:{left:.5,right:1,y:1}},r.createElement(_a.a,{label:n},r.createElement(Wt.a,{"aria-label":n,icon:zt.a.Minimize,onClick:function(){return e.collapseCard()},size:Wt.b.Default}))))});n("cVek");!function(e){e.StreamTrackBtn="stream-track",e.HideSoundtrackBtn="hide-soundtrack"}(jm||(jm={}));var Rm,Vm,Bm,Um=function(e){var t=r.useContext(Ke.c).soundtrackHide,n=Object(l.d)("Add This Track","RadioContentPromoExpandedCard"),i=Object(l.d)("Hide Soundtrack Info","RadioContentPromoExpandedCard"),a=r.useCallback((function(){t(),Object(Mu.j)({component:ju.Settings,interaction:Iu.DisableNotifications,subsection:Au.TrackPanel})}),[t]);return r.createElement(Gt.a,{className:"radio-content-promo__info-card--expanded",background:qt.d.Alt,display:qt.h.Flex,flexDirection:qt.i.Column,borderRadius:{topLeft:qt.e.Large,topRight:qt.e.Large}},r.createElement(Mm,{collapseCard:e.collapseCard,track:e.track}),r.createElement(Gt.a,{background:qt.d.Overlay,flexGrow:1,display:qt.h.Flex,justifyContent:qt.m.Between},r.createElement(Ht.a,{className:"radio-content-promo__track-image--square",flexShrink:0,flexGrow:0,margin:{right:1}},r.createElement(ji.a,{src:e.track.album.imageURL,alt:Object(l.d)("Track's Cover Art","RadioContentPromoExpandedCard")})),r.createElement(Ht.a,{flexGrow:1,padding:{right:.5},display:qt.h.Flex,justifyContent:qt.m.Center,flexDirection:qt.i.Column,ellipsis:!0},r.createElement(tn.a,{fontSize:qt.k.Size5,bold:!0,ellipsis:!0},e.track.title),r.createElement(tn.a,{ellipsis:!0},e.track.artists.map((function(e){return e.name})).join(", ")),r.createElement(tn.a,{ellipsis:!0},e.track.album.name)),r.createElement(Ht.a,{fullHeight:!0,padding:{right:1,top:1,bottom:1},flexShrink:0,flexGrow:0,display:qt.h.Flex,flexDirection:qt.i.Column,alignItems:qt.b.Center,justifyContent:qt.m.Center},r.createElement(_a.a,{label:e.disableAppLinksPopupBtn?Object(l.d)("Enlarge the video size to add this track","RadioContentPromoExpandedCard"):n},r.createElement(Wt.a,{"aria-label":n,icon:zt.a.Plus,onClick:function(){return e.showAppLinksPopup()},size:Wt.b.Default,"data-test-selector":jm.StreamTrackBtn,disabled:e.disableAppLinksPopupBtn})),r.createElement(_a.a,{label:i},r.createElement(Wt.a,{"aria-label":i,icon:zt.a.VisibilityHidden,onClick:a,size:Wt.b.Default,"data-test-selector":jm.HideSoundtrackBtn})))))},qm=function(e){var t=r.useState(!1),n=t[0],i=t[1],a=r.useCallback((function(){Object(Mu.j)({trackId:e.track.asin,subsection:Au.TrackPanel,interaction:Iu.Click,component:ju.Expand}),i(!0)}),[e.track]),o=r.useCallback((function(){Object(Mu.j)({trackId:e.track.asin,subsection:Au.TrackPanel,interaction:Iu.Click,component:ju.Collapse}),i(!1)}),[e.track]);return n?r.createElement(Um,{track:e.track,showAppLinksPopup:e.showAppLinksPopup,disableAppLinksPopupBtn:e.disableAppLinksPopupBtn,collapseCard:o}):r.createElement(Dm,{track:e.track,onClick:a})};!function(e){e.Tiny="tiny",e.Small="small",e.Regular="regular"}(Rm||(Rm={})),function(e){e[e.Tiny=32]="Tiny",e[e.Small=60]="Small"}(Vm||(Vm={})),function(e){e[e.Tiny=20]="Tiny",e[e.Small=35]="Small"}(Bm||(Bm={}));var Gm=Object(s.d)(mm(),Object(Ke.e)((function(e){return{videoContainer:e.videoContainer}})),Object(f.c)((function(e){return{videoAdMetadata:e.videoAdMetadata}})),Object(_r.b)((function(e){return{active:e.active}})))((function(e){var t,n,i,a,o=e.videoContainer,s=e.videoAdMetadata,l=e.active,c=r.useState({widthSize:Rm.Tiny,heightSize:Rm.Tiny}),d=c[0],u=c[1],p=r.useState(!1),m=p[0],f=p[1],v=d.heightSize!==Rm.Regular,g=d.widthSize===Rm.Tiny||d.heightSize===Rm.Tiny,h=d.widthSize===Rm.Small,b=cm((null===(n=null===(t=e.data)||void 0===t?void 0:t.user)||void 0===n?void 0:n.id)||null).currentTrack,y=function(e){var t=r.useRef(null),n=r.useRef(),i=r.useState(!1),a=i[0],o=i[1],s=e?e.asin:null;return r.useEffect((function(){return t.current!==s&&(t.current=s,lm(n),s&&(n.current=setTimeout((function(){lm(n),o(!1)}),7e3)),o(!!s)),function(){lm(n)}}),[s]),{autoShow:a}}(b).autoShow,k=Object(Et.d)(s),S=!o||k||!b||g,E=!!l||y,C=r.useCallback((function(){u(Hm(o))}),[o]);return r.useEffect((function(){(S||v)&&f(!1)}),[S,v]),r.useEffect((function(){y&&b&&Object(Mu.j)({trackId:b.asin,interaction:Iu.Display,subsection:Au.TrackPanel})}),[y,b]),S?g?r.createElement(Mn.a,{onResize:C}):null:r.createElement(r.Fragment,null,r.createElement(Mn.a,{onResize:C}),r.createElement(hm.a,{theme:"dark"},r.createElement(Ht.a,{display:qt.h.Flex,justifyContent:qt.m.Center},r.createElement(Ht.a,{margin:{bottom:h?5:1,left:h?1:void 0},position:qt.o.Absolute,attachBottom:!0,attachLeft:!!h},r.createElement(bi.a,{type:bi.d.Fade,show:E,alwaysRenderChild:!0},r.createElement(qm,{track:b,showAppLinksPopup:function(){v||(f(!0),Object(Mu.j)({trackId:null==b?void 0:b.asin,interaction:Iu.Click,subsection:Au.LinkfireModalOpen}))},disableAppLinksPopupBtn:v}))),m&&r.createElement(_m,{channelID:(null===(a=null===(i=e.data)||void 0===i?void 0:i.user)||void 0===a?void 0:a.id)||null,track:b,onClose:function(){return f(!1)}}))))})),Hm=function(e){var t=parseFloat(getComputedStyle(document.documentElement).fontSize),n=Object(Vn.a)(e),i=n.width,a=void 0===i?0:i,r=n.height,o=a/t,s=(void 0===r?0:r)/t;return{widthSize:o<Vm.Tiny?Rm.Tiny:o<Vm.Small?Rm.Small:Rm.Regular,heightSize:s<Bm.Tiny?Rm.Tiny:s<Bm.Small?Rm.Small:Rm.Regular}},Wm=n("JfgP"),zm=ru.a.wrap((function(){return Promise.all([n.e(0),n.e(111)]).then(n.bind(null,"hfwl"))}),"SubModal"),Qm=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.refreshPage=function(){window.location.reload()},t.showSubscriptionModal=function(){var e=t.videoOwner(t.props);e&&e.login&&t.props.showSubscriptionModal({channelLogin:e.login,subLocation:yp.b.SubscriberVODOverlay})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return!this.props.data||this.props.data.loading?r.createElement(js.a,null):r.createElement(on,{restriction:cn.a.SubscriberVOD},this.renderContent())},t.prototype.renderContent=function(){var e=this,t=this.videoOwner(this.props);return t&&t.displayName&&t.profileImageURL&&t.login?r.createElement(fn.a,{iconProps:{type:vn.a.Avatar,src:t.profileImageURL,alt:t.displayName,login:t.login},text:Object(l.d)("This video is only available to subscribers. Sub now to watch and support {displayName}.",{displayName:t.displayName},"SubscriberVODOverlay")},(function(t){return r.createElement(yn.a,{onClick:e.showSubscriptionModal,size:t?yn.b.Small:yn.b.Default},Object(l.d)("Subscribe","SubscriberVODOverlay"))})):r.createElement(fn.a,{iconProps:{type:vn.a.Empty},text:Object(l.d)("This exclusive subscriber content didn't load properly. Please refresh and try again.","SubscriberVODOverlay")},(function(t){return r.createElement(yn.a,{onClick:e.refreshPage,size:t?yn.b.Small:yn.b.Default},Object(l.d)("Refresh","SubscriberVODOverlay"))}))},t.prototype.videoOwner=function(e){return!!e.data&&!!e.data.video&&e.data.video.owner},t}(r.Component);var Km=Object(B.a)(Wm,{options:function(e){var t;return{variables:{videoID:null!==(t=e.vodID)&&void 0!==t?t:""}}},skip:function(e){return!e.vodID}}),Ym=Object(s.d)(ln("SubscriberVODOverlay",cn.a.SubscriberVOD),Object(o.b)(null,(function(e){return Object(s.b)({showSubscriptionModal:function(e){var t=Object(i.__rest)(e,[]);return Object(ou.e)(zm,t)}},e)})),Object(S.c)((function(e){var t=e.content;return{vodID:Object(A.n)(t)}})),Km)(Qm);var $m=n("jCA+"),Xm=(n("zKqN"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMouseOver=function(){t.timeout=setTimeout(t.props.showCollectionSidebar,250)},t.onMouseOut=function(){clearTimeout(t.timeout)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e,t=this.props,n=t.data,i=t.isCollectionContent,a=t.isCollectionSidebarShowing,o=t.vodID,s=n&&n.collection;if(!i||!s||a)return null;var c=s&&s.title,d=s.items.totalCount,u=s.items&&s.items.edges&&s.items.edges.map((function(e){return e&&e.node})).filter((function(e){return null!==e})),p=null!=o?o:null===(e=u[0])||void 0===e?void 0:e.id,m=1+u.findIndex((function(e){return!!e&&e.id===p}));return r.createElement(Ai.a,{className:"collection-top-bar",onMouseEnter:this.onMouseOver,onMouseLeave:this.onMouseOut},r.createElement(tn.a,{className:"collection-top-bar-text",fontSize:qt.k.Size4,type:tn.e.Span},r.createElement(tn.a,{className:"collection-top-bar-icon",type:tn.e.Span},r.createElement(Tm.a,{asset:zt.a.Collections})),"",c),r.createElement(tn.a,{className:"collection-top-bar-text",fontSize:qt.k.Size5,type:tn.e.Span},"",Object(l.d)("{totalVideos, plural, one {{currentPosition}/# video} other {{currentPosition}/# videos}}",{currentPosition:m,totalVideos:d},"CollectionTopBar")))},t}(r.Component)),Jm=Object(s.d)(Object(S.c)((function(e){var t=e.content;return{collectionID:Object(A.d)(t),isCollectionContent:Object(A.p)(t),vodID:Object(A.n)(t)}})),Object(Ke.e)((function(e){var t=e.isCollectionSidebarShowing,n=e.showCollectionSidebar;return{isCollectionSidebarShowing:t,showCollectionSidebar:n}})),Object(B.a)($m,{skip:function(e){return!e.isCollectionContent||!e.collectionID},options:function(e){return{variables:{collectionID:e.isCollectionContent&&e.collectionID?e.collectionID:""}}}}))(Xm);var Zm,ef=function(){var e=Object(r.useContext)(S.b),t=Object(A.b)(e.content),n=Object(_.a)({playerPublicPropsContext:e}).enableRemoveStream,i=Object(_.b)({playerPublicPropsContext:e}).removeStream,a=Object(r.useCallback)((function(){t&&i&&i(t)}),[t,i]);return Object(r.useMemo)((function(){return i&&n?r.createElement(Wt.a,{"aria-label":Object(l.d)("Close this stream","StreamCloseButton"),overlay:!0,icon:zt.a.Close,onClick:a}):null}),[n,a,i])},tf=n("b5W/"),nf=n("w09P"),af=n("VQoz"),rf=function(e){var t=Object(Bt.b)(Vt.a.Dark);return r.createElement(Ht.a,{display:qt.h.Flex,className:t},e.tags.map((function(t){return r.createElement(Ht.a,{key:t.id,padding:{right:.5}},r.createElement(af.a,{linkTo:(n=t.id,"https://www.twitch.tv/directory/all/tags/"+n),label:t.localizedName,targetBlank:e.openLinksExternally,onClick:e.onClick}));var n})))},of=n("CZEi"),sf=n("qo7U");n("1+fb");!function(e){e.Description="stream-info-card-component__description",e.StreamAvatar="stream-info-card-component__stream-avatar",e.StreamAvatarLink="stream-info-card-component__stream-avatar-link",e.Subtitle="stream-info-card-component__subtitle",e.Title="stream-info-card-component__title",e.TitleLink="stream-info-card-component__title-link"}(Zm||(Zm={}));var lf=Object(s.d)(Object(E.e)((function(e){return{pause:e.pause}})))((function(e){var t=null,n=function(){var t;e.openLinksExternally&&e.pause(),null===(t=e.onLinkClick)||void 0===t||t.call(e)};e.title&&(e.titleTo&&(t=r.createElement(Xa.a,{linkTo:e.titleTo,type:Xa.b.Overlay,"data-test-selector":Zm.TitleLink,targetBlank:e.openLinksExternally,onClick:n},e.title)),t=r.createElement(tn.a,{bold:!0,fontSize:qt.k.Size4,"data-a-target":"player-info-title","data-test-selector":Zm.Title,color:qt.f.Overlay},t||e.title));var i=null;return e.imageURL&&(i=r.createElement(Nm.a,{src:e.imageURL,size:64,alt:Object(l.d)("Stream Avatar","StreamInfoOverlay"),"data-a-target":"player-info-avatar","data-test-selector":Zm.StreamAvatar,userLogin:e.login||""})),e.imageTo&&(i=r.createElement(Xa.a,{targetBlank:e.openLinksExternally,type:Xa.b.Overlay,linkTo:e.imageTo||void 0,onClick:n,"data-test-selector":Zm.StreamAvatarLink},i)),r.createElement(of.a,{row:!0},r.createElement(Ht.a,{display:qt.h.Flex,alignItems:qt.b.Start,className:"stream-info-card"},r.createElement(Ht.a,{className:"stream-info-card__image"},i),e.title||e.subtitle||e.description||e.tags?r.createElement(sf.a,null,r.createElement(Ht.a,{className:"stream-info-card__body",padding:{left:i?1:0},display:qt.h.Flex,flexDirection:qt.i.Column,alignItems:qt.b.Start},t,e.subtitle&&r.createElement(tn.a,{fontSize:qt.k.Size5,color:qt.f.Overlay,"data-test-selector":Zm.Subtitle},e.subtitle),e.description&&r.createElement(tn.a,{fontSize:qt.k.Size5,color:qt.f.Overlay,"data-test-selector":Zm.Description},e.description),e.tags&&r.createElement(rf,{tags:e.tags,openLinksExternally:e.openLinksExternally,onClick:e.onLinkClick}))):null))}));var cf=n("V6Bk"),df=n("z6oq"),uf=n("rJDX"),pf=n("+fKd");function mf(e){var t=e.gameDisplayName,n=e.gameName,i=e.viewerCount,a=e.openLinksExternally,o=e.onLinkClick,s=n?t||n:void 0,c=function(e){return r.createElement(Xa.a,{"data-a-target":"player-info-game-name",type:Xa.b.Overlay,linkTo:(t=n,i=!a,(i?"":"https://www.twitch.tv")+"/directory/game/"+t),targetBlank:a,onClick:o},e);var t,i};return s&&null!==i?Object(l.d)("{viewerCount, plural,       one {Playing <x:link>{game}</x:link> for # viewer}       other {Playing <x:link>{game}</x:link> for # viewers}}",{game:s,viewerCount:i,"x:link":c},"StreamInfoOverlay"):s?Object(l.d)("Playing <x:link>{game}</x:link>",{game:s,"x:link":c},"StreamInfoOverlay"):null!==i?Object(l.d)("{viewerCount, plural,       one {Streaming for # viewer}       other {Streaming for # viewers}}",{viewerCount:i},"StreamInfoOverlay"):null}function ff(e){var t=e.displayName,n=e.gameDisplayName,i=e.gameName,a=e.login,o=e.openLinksExternally;return a&&t?i?Object(l.d)("<x:login-link>{displayName}</x:login-link> playing <x:game-link>{game}</x:game-link>",{game:n||i,displayName:t,"x:login-link":function(e){return r.createElement(Xa.a,{type:Xa.b.Overlay,linkTo:gf(a),targetBlank:o},e)},"x:game-link":function(e){return r.createElement(Xa.a,{type:Xa.b.Overlay,linkTo:(t=i,"player_game","clips_embed",n=$.stringify({tt_content:"player_game",tt_medium:"clips_embed"}),"https://www.twitch.tv/directory/game/"+t+"/clips?"+n),targetBlank:o},e);var t,n}},"StreamInfoOverlay"):r.createElement(Xa.a,{type:Xa.b.Overlay,linkTo:gf(a),targetBlank:o},t):null}function vf(e){return null===e?null:Object(l.d)("{viewCount} views",{viewCount:Object(l.f)(e)},"StreamInfoOverlay")}function gf(e){return"https://www.twitch.tv/"+e+"/clips?"+$.stringify({tt_content:"player_channel_name",tt_medium:"clips_embed"})}var hf=n("qYg/"),bf=(n("TiCe"),ru.a.wrap((function(){return n.e(112).then(n.bind(null,"QjI3"))}),"SubscribeButton")),yf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.openTwitchPage=function(){window.open(Object(A.l)(t.props.content,{tt_content:T.PageviewContent.EmbedSocialPanel,tt_medium:T.PageviewMedium.Embed},t.props.mediaPlayerInstance),"_blank")},t}return Object(i.__extends)(t,e),t.prototype.render=function(){if(void 0===this.props.type)return null;var e=this.props.login||null;return r.createElement(Gt.a,{className:"stream-info-social-panel","data-a-target":"player-stream-info-social-panel",display:qt.h.InlineBlock,padding:.5,margin:this.props.margin,background:qt.d.Overlay},r.createElement(Ht.a,{display:qt.h.Flex},this.props.profileImageUrl&&r.createElement(Nm.a,{src:this.props.profileImageUrl,alt:this.props.displayName||"",userLogin:this.props.login||"",size:30}),r.createElement(Ht.a,{margin:{left:.5}},e&&this.renderFirstButton(e)),r.createElement(Ht.a,{margin:{left:.5}},r.createElement(bf,{channelLogin:e,subLocation:this.props.subLocation,subscribedButtonType:yn.d.Primary,unsubscribedButtonType:yn.d.Primary,hideDropdownArrow:!0,forceIcon:!0,useSubsLandingPage:this.props.isEmbedded}))))},t.prototype.renderFirstButton=function(e){var t=Object(l.d)("Watch on Twitch","VideoPlayerStreamInfoSocalPanel");return this.props.type===Ye.e.FollowAndSub||this.props.type===Ye.e.FollowAndSubVerbose?r.createElement(hf.a,{hideDropdownWhenFollowing:!0,channelLogin:e,followUIType:hf.b.IconAndText,unfollowUIType:hf.b.IconOnly,showLoadingPlaceholder:!0,fullWidthButton:!0,showTooltips:!0}):this.props.type===Ye.e.WatchAndSub?r.createElement(yn.a,{onClick:this.openTwitchPage,targetBlank:!0,type:yn.d.Primary},t):void 0},t}(r.Component);var kf,Sf=Object(s.d)(Object(k.c)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),Object(S.c)((function(e){return{content:e.content}})))(yf);!function(e){e.StreamInfoSocialPanelUpper="stream-info-social-panel__upper",e.StreamInfoSocialPanelLower="stream-info-social-panel__lower"}(kf||(kf={}));var Ef=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.updateUIContext()},t.prototype.componentDidUpdate=function(){this.updateUIContext()},t.prototype.componentWillUnmount=function(){this.updateUIContext(!1)},t.prototype.render=function(){var e,t;if(!Of(this.props)||!_f(this.props))return null;var n=this.props,a=n.content,o=n.theatreModeEnabled,s=n.disableStreamInfoChannelLinks,c=n.disableStreamInfoDescription,d=n.disableStreamInfoImage,u=n.disableStreamInfoSubtitle,p=n.disableStreamInfoTags,m=n.disableStreamInfoTitle,f=n.openLinksExternally,v=n.socialPanelType,g=n.channelData,h=n.clipData,b=n.vodData,y=n.isFullscreen,k=n.exitFullscreen,S=n.onChannelWatch,E=!f&&y?k:void 0,C=Object(A.j)(a),O=null,_={};g?(_=function(e,t){var n,a,r;void 0===t&&(t={});var o=t.multiviewProps,s=t.openLinksExternally,c=t.onLinkClick,d=e.user&&e.user.broadcastSettings&&e.user.broadcastSettings.game&&e.user.broadcastSettings.game.displayName,u=e.user&&e.user.broadcastSettings&&e.user.broadcastSettings.game&&e.user.broadcastSettings.game.name,p=e.user&&e.user.stream&&e.user.stream.viewersCount,m=e.user&&e.user.broadcastSettings&&e.user.broadcastSettings.title,f=o&&o.titleOverride||e.user&&e.user.displayName,v=null!==(a=null===(n=e.user)||void 0===n?void 0:n.profileURL)&&void 0!==a?a:void 0;null===(r=e.user)||void 0===r||!r.login||v&&s||(v={pathname:"/"+e.user.login,state:Object(i.__assign)(Object(i.__assign)({},l.p.history.location.state),{channelView:t.onChannelWatch&&(t.theatreModeEnabled||t.isFullscreen)?pf.a.Home:pf.a.None})});var g=o&&o.logoOverride||e.user&&e.user.profileImageURL,h=e.user&&e.user.stream&&e.user.stream.tags;return{description:mf({gameDisplayName:d,gameName:u,viewerCount:p,openLinksExternally:s,onLinkClick:c}),subtitle:m,title:f,titleTo:v,imageURL:g,imageTo:v,tags:h}}(g,{multiviewProps:C,openLinksExternally:f,theatreModeEnabled:o,onChannelWatch:S,isFullscreen:y,onLinkClick:E}),O=(null==g?void 0:g.user)||null):h?(_=function(e,t){void 0===t&&(t={});var n,i,a=t.openLinksExternally,r=e.clip&&e.clip.broadcaster&&e.clip.broadcaster.displayName,o=e.clip&&e.clip.broadcaster&&e.clip.broadcaster.login,s=e.clip&&e.clip.game&&e.clip.game.displayName,l=e.clip&&e.clip.game&&e.clip.game.name,c=e.clip&&e.clip.slug,d=e.clip&&e.clip.title,u=e.clip&&e.clip.viewCount,p=e.clip&&e.clip.broadcaster&&e.clip.broadcaster.profileURL,m=e.clip&&e.clip.broadcaster&&e.clip.broadcaster.profileImageURL;return{subtitle:ff({displayName:r,gameDisplayName:s,gameName:l,login:o,openLinksExternally:a}),title:d,titleTo:c&&(n=c,"player_title","clips_embed",i=$.stringify({tt_content:"player_title",tt_medium:"clips_embed"}),"https://clips.twitch.tv/"+n+"?"+i),description:vf(u),imageURL:m,imageTo:p}}(h,{openLinksExternally:f}),O=(null===(e=null==h?void 0:h.clip)||void 0===e?void 0:e.broadcaster)||null):b&&(_=function(e,t){void 0===t&&(t={});var n,i=e&&e.video&&e.video.owner&&e.video.owner.displayName,a=e&&e.video&&e.video.owner&&e.video.owner.profileImageURL,r=e&&e.video&&e.video.contentTags,o=e&&e.video&&e.video.title,s=e&&e.video&&e.video.id,l=s&&(n=s,(!t.openLinksExternally?"":"https://www.twitch.tv")+"/videos/"+n);return{subtitle:o,title:i,titleTo:l,imageURL:a,imageTo:l,tags:r}}(b,{openLinksExternally:f}),O=(null===(t=null==b?void 0:b.video)||void 0===t?void 0:t.owner)||null);var w=null==O?void 0:O.displayName,P=null==O?void 0:O.profileImageURL,N=null==O?void 0:O.login,T=!!Object(A.k)(a),D={type:v,displayName:C&&C.titleOverride||w,profileImageUrl:C&&C.logoOverride||P,login:N,subLocation:T?yp.b.SquadPage:yp.b.ChannelPage,isEmbedded:this.props.isEmbedded};return r.createElement(r.Fragment,null,this.props.socialPanelPosition===Ye.d.AboveStreamInfo&&r.createElement(Sf,Object(i.__assign)({},D,{"data-test-selector":kf.StreamInfoSocialPanelUpper})),r.createElement(lf,{description:c?void 0:_.description,subtitle:u?void 0:_.subtitle,title:m?void 0:_.title,titleTo:m||s?void 0:_.titleTo,imageURL:d?void 0:_.imageURL,imageTo:d||s?void 0:_.imageTo,tags:p?void 0:_.tags,openLinksExternally:f,onLinkClick:E}),this.props.socialPanelPosition===Ye.d.BelowStreamInfo&&r.createElement(Sf,Object(i.__assign)({},D,{margin:{top:1},"data-test-selector":kf.StreamInfoSocialPanelLower})))},t.prototype.updateUIContext=function(e){if(void 0===e){var t=Of(this.props)&&_f(this.props);this.props.streamInfoShowing!==t&&this.props.setStreamInfoShowing(t)}else this.props.setStreamInfoShowing(e)},t}(r.Component),Cf=Object(s.d)(Object(o.b)((function(e){return{theatreModeEnabled:e.ui.theatreModeEnabled,onChannelWatch:e.ui.onChannelWatch}})),Object(Ke.e)((function(e){var t=e.isFullscreen,n=e.exitFullscreen,i=e.isCollectionSidebarShowing,a=e.streamInfoShowing,r=e.setStreamInfoShowing;return{exitFullscreen:n,isFullscreen:t,streamInfoShowing:a,setStreamInfoShowing:r,isCollectionSidebarShowing:i}})),Object(S.c)((function(e){var t=Object(_.a)({playerPublicPropsContext:e}),n=t.showChannelInfoOnHover,i=t.disableStreamInfoChannelLinks,a=t.disableStreamInfoDescription,r=t.disableStreamInfoImage,o=t.disableStreamInfoSubtitle,s=t.disableStreamInfoTags,l=t.disableStreamInfoTitle,c=t.openStreamInfoLinksExternally,d=t.socialPanelType,u=t.socialPanelPosition,p=t.embed;return{content:e.content,showChannelInfoOnHover:n,disableStreamInfoDescription:a,disableStreamInfoImage:r,disableStreamInfoSubtitle:o,disableStreamInfoTags:s,disableStreamInfoTitle:l,disableStreamInfoChannelLinks:i,isEmbedded:p,openLinksExternally:c,socialPanelType:d,socialPanelPosition:u}})),Object(B.a)(cf,{name:"channelData",skip:function(e){return!Object(A.s)(e.content)||!Object(A.b)(e.content)||!Of(e)},options:function(e){return{variables:{channel:Object(A.b)(e.content)}}}}),Object(B.a)(df,{name:"clipData",skip:function(e){return!Object(A.c)(e.content)||!Of(e)},options:function(e){var t;return{variables:{slug:null!==(t=Object(A.c)(e.content))&&void 0!==t?t:""}}}}),Object(B.a)(uf,{name:"vodData",skip:function(e){return!Object(A.n)(e.content)||!Of(e)},options:function(e){return{variables:{videoID:Object(A.n)(e.content)}}}}),Object(ss.a)((function(e){return{query:cf,skip:!e.channelData||e.channelData.loading||!e.channelData.user||!e.channelData.user.id,variables:{channel:Object(A.b)(e.content)},topic:e.channelData&&e.channelData.user&&e.channelData.user.id?Object(Me.hb)(e.channelData.user.id):"",type:Fe.PubsubMessageType.ViewCount,mutator:function(e,t){return t.user&&t.user.stream?nf(t,(function(e){return e.user.stream.viewersCount}),(function(){return e.viewers})):t}}})),Object(ss.a)((function(e){return{query:cf,skip:!e.channelData||e.channelData.loading||!e.channelData.user||!e.channelData.user.id,variables:{channel:Object(A.b)(e.content)},topic:e.channelData&&e.channelData.user&&e.channelData.user.id?Object(Me.k)(e.channelData.user.id):"",type:Fe.PubsubMessageType.BroadcastSettingsUpdate,mutator:function(e,t){var n,a=Object(tf.a)(e),r=a.gameID,o=a.gameName,s=a.missingGameInfo,l=a.updatingToNullGame;return(null===(n=t.user)||void 0===n?void 0:n.broadcastSettings)&&e&&!s?nf(t,(function(e){return e.user.broadcastSettings}),(function(t){var n;return Object(i.__assign)(Object(i.__assign)({},t),{title:null!==(n=e.status)&&void 0!==n?n:"",game:l||null===r||null===o?null:{__typename:"Game",id:r,name:o,displayName:o}})})):t}}})))(Ef);function Of(e){return!e.isCollectionSidebarShowing&&(e.showChannelInfoOnHover||e.isFullscreen||e.theatreModeEnabled)}function _f(e){return!(!(t=e.channelData)||t.error||t.loading)||function(e){var t=e.clipData;return!(!t||t.error||t.loading)}(e)||function(e){var t=e.vodData;return!(!t||t.error||t.loading)}(e);var t}var wf=n("/Bd0"),Pf=n("pr4f"),Nf=n("my87"),Tf=ru.a.wrap((function(){return n.e(112).then(n.bind(null,"QjI3"))}),"SubscribeButton"),Df=ru.a.wrap((function(){return Promise.all([n.e(0),n.e(61)]).then(n.bind(null,"2LAW"))}),"CelebrationPurchase"),If=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.shouldShow=function(){return t.props.firstPageLoaded&&t.props.isLoggedIn&&t.props.theatreModeEnabled&&!t.props.isFullscreen&&!!t.props.channelLogin&&t.props.isLiveContent&&!t.props.hasEnded},t}return Object(i.__extends)(t,e),t.prototype.render=function(){if(!this.shouldShow())return null;var e=this.props.channelLogin||null;return r.createElement(Ht.a,{className:"theatre-social-panel",display:qt.h.Flex,flexWrap:qt.j.NoWrap,justifyContent:qt.m.Between,padding:{x:1}},r.createElement(Ht.a,{margin:{right:1}},r.createElement(hf.a,{channelLogin:e,followUIType:hf.b.IconAndText,unfollowUIType:hf.b.IconOnly,hideDropdownWhenFollowing:!0,showTooltips:!0,followContentType:Af(this.props.contentType,this.props.isHostingWatchParty)})),Object(Pf.m)()&&r.createElement(Ut.a,{margin:{right:1}},r.createElement(Df,{channelLogin:e||""})),r.createElement(Ht.a,null,r.createElement(Tf,{channelLogin:e,subLocation:yp.b.TheatreMode,subscribedButtonType:yn.d.Primary,unsubscribedButtonType:yn.d.Primary,forceIcon:!0,isLive:this.props.isLiveContent})))},t}(r.Component);function Af(e,t){if(t)return wf.a.WatchParty;switch(e){case U.a.VOD:return wf.a.VOD;case U.a.Clip:return wf.a.Clip;default:return wf.a.Live}}var jf=Object(s.d)(Object(o.b)((function(e){return{firstPageLoaded:e.session.firstPageLoaded,isLoggedIn:Object(dr.f)(e),theatreModeEnabled:e.ui.theatreModeEnabled}})),Object(k.c)((function(e){return{hasEnded:Object(fe.g)(e)}})),Object(S.c)((function(e){var t=e.content;return{channelLogin:Object(A.b)(t),isLiveContent:Object(A.s)(t),contentType:t.type}})),Object(Ke.e)((function(e){return{isFullscreen:e.isFullscreen}})))((function(e){var t=Object(Nf.a)(e.channelLogin||"").isHostingWatchParty;return r.createElement(If,Object(i.__assign)({},e,{isHostingWatchParty:t}))})),xf=(n("tsXm"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return!(this.props.disableStatusOverlay||this.props.recommendationsShowing||this.props.isAdShowing)&&r.createElement(bi.a,{type:bi.d.Fade,show:this.props.shouldShow,alwaysRenderChild:!0},r.createElement(Ht.a,{attachTop:!0,attachLeft:!0,attachRight:!0,flexGrow:1,className:"top-bar",display:qt.h.Flex,position:qt.o.Absolute,justifyContent:qt.m.Between},r.createElement(Ht.a,null,r.createElement(Ht.a,{className:"top-bar--pointer-enabled"},r.createElement(Jm,null)),r.createElement(Cf,null)),r.createElement(Ht.a,{display:qt.h.Flex,alignItems:qt.b.Start},r.createElement(Ht.a,{display:qt.h.Flex,alignItems:qt.b.Center,className:"top-bar--pointer-enabled"},r.createElement(jf,null),r.createElement(Ht.a,{padding:{left:1}},!this.props.disableStatusIndicator&&r.createElement(Fp,null)),r.createElement(Ht.a,{padding:{left:1}},r.createElement(ef,null)),(this.props.theatreModeEnabled||!this.props.rightColumnExpanded)&&r.createElement(Ht.a,{padding:{right:2}})))))},t}(r.Component));var Lf=Object(s.d)(Object(c.a)({name:"TopBarOverlay"}),Object(o.b)((function(e){return{theatreModeEnabled:e.ui.theatreModeEnabled,rightColumnExpanded:e.ui.rightColumnExpanded}})),Object(Ke.e)((function(e){return{recommendationsShowing:e.recommendationsShowing}})),Object(S.c)((function(e){return{disableStatusOverlay:Object(_.a)({playerPublicPropsContext:e}).disableStatusOverlay,disableStatusIndicator:Object(_.a)({playerPublicPropsContext:e}).disableStatusIndicator}})),Object(f.c)((function(e){return{isAdShowing:Object(Et.d)(e.videoAdMetadata)}})))(xf),Ff=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props.liveChannelLogin;return e&&this.shouldShow(this.props)?r.createElement(on,{restriction:cn.a.TwitchGate},r.createElement(fn.a,{iconProps:{type:vn.a.Icon,icon:zt.a.LogoTwitch},text:Object(l.d)("You can only watch this stream on the Twitch website.","TwitchGateOverlay")},(function(t){return r.createElement(yn.a,{linkTo:"https://www.twitch.tv/"+e,targetBlank:!0,size:t?yn.b.Small:yn.b.Default},Object(l.d)("Watch on Twitch","TwitchGateOverlay"))}))):null},t.prototype.shouldShow=function(e){return fm(e.data)},t}(r.Component),Mf=Object(s.d)(ln("TwitchGateOverlay",cn.a.TwitchGate),Object(S.c)((function(e){var t=e.content;return{liveChannelLogin:Object(A.g)(t)}})),mm())(Ff);var Rf=n("tqko"),Vf=(n("5V0U"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getBannerUrl=function(){if(t.props.data&&t.props.data.user)return t.props.data.user.stream&&t.props.data.user.stream.id&&t.props.data.user.stream.previewImageURL?t.props.data.user.stream.previewImageURL:void 0},t.shouldShowVideoPreviewOverlay=function(){return!t.props.isVideoAdShowing&&(!t.props.autoplay&&!t.props.isOffline&&!t.props.isPlaying||t.props.forbidden&&t.restrictionType(t.props)===X.ce.SUB_ONLY_LIVE)},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.getBannerUrl();return e&&this.shouldShowVideoPreviewOverlay()?r.createElement(Gt.a,{"data-a-target":"player-overlay-preview-background",display:qt.h.Flex,alignItems:qt.b.Center,justifyContent:qt.m.Center,fullHeight:!0,className:"video-preview-overlay"},r.createElement(Ut.a,{fullHeight:!0,className:"video-preview-overlay__background-image"},r.createElement(ji.a,{src:e,alt:this.props.liveContentChannelLogin||""}))):null},t.prototype.restrictionType=function(e){return!!e.data&&!!e.data.user&&!!e.data.user.stream&&!!e.data.user.stream.restriction&&e.data.user.stream.restriction.type},t}(r.Component)),Bf=Object(s.d)(Object(c.a)({name:"VideoPreviewOverlay"}),Object(k.c)((function(e){var t=e.isOffline,n=e.forbidden;return{autoplay:e.autoplay,isPlaying:Object(fe.j)(e),isOffline:t,forbidden:n}})),Object(S.c)((function(e){var t=Object(_.c)({playerPublicPropsContext:e});return{isLive:Object(A.s)(t),liveContentChannelLogin:t.type===U.a.Live?t.channelLogin:null}})),Object(f.c)((function(e){return{isVideoAdShowing:Object(Et.d)(e.videoAdMetadata)}})),Object(B.a)(Rf,{skip:function(e){return!e.isLive},options:function(e){var t;return{variables:{login:null!==(t=e.liveContentChannelLogin)&&void 0!==t?t:""}}}}))(Vf);var Uf;n("w0Gb");!function(e){e.Codecs="video-stats-overlay__codecs",e.FPS="video-stats-overlay__fps",e.LatencyToBroadcaster="video-stats-overlay__latency-to-broadcaster",e.LatencyMode="video-stats-overlay__latency-mode"}(Uf||(Uf={}));var qf=function(e){function t(t){var n=e.call(this,t)||this;return n.updateVideoStats=function(){var e=n.props.mediaPlayerInstance;if(e){var t=e.getQuality();n.setState({broadcasterLatency:1e3*e.getLiveLatency(),bufferDuration:e.getBufferDuration(),codecs:t&&t.codecs||"",displayHeight:e.getDisplayHeight(),displayWidth:e.getDisplayWidth(),droppedFrames:e.getDroppedFrames(),version:e.getVersion(),videoBitRate:e.getVideoBitRate(),videoFrameRate:e.getVideoFrameRate(),videoHeight:e.getVideoHeight(),videoWidth:e.getVideoWidth(),protocol:e.getProtocol?e.getProtocol():""})}},n.getTimeString=function(e){return Object(l.d)("{time} sec.",{time:e},"VideoStatsOverlay")},n.state={broadcasterLatency:0,bufferDuration:0,codecs:"",displayHeight:0,displayWidth:0,droppedFrames:0,version:"",videoBitRate:0,videoFrameRate:0,videoHeight:0,videoWidth:0,protocol:""},n}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.updateVideoStatsIntervalID=setInterval(this.updateVideoStats,1e3)},t.prototype.componentWillUnmount=function(){clearInterval(this.updateVideoStatsIntervalID)},t.prototype.render=function(){var e=this;return r.createElement("div",{className:Object(Bt.b)(Vt.a.Dark)},r.createElement(Ut.a,{position:qt.o.Absolute,attachTop:!0,margin:1},r.createElement(Rt.b,{suppressScrollX:!0},r.createElement(Gt.a,{"data-a-target":"player-overlay-video-stats",background:qt.d.Base,color:qt.f.Base},r.createElement(Ht.a,{display:qt.h.Flex,justifyContent:qt.m.End},r.createElement(Wt.a,{"aria-label":Object(l.d)("Close video stats","VideoStatsOverlay"),onClick:function(){return e.props.setStatsOverlay(Ke.b.None)},icon:zt.a.Close})),r.createElement(Qt.a,null,r.createElement(Kt.a,null,r.createElement(Yt.a,null,r.createElement($t.b,{label:Object(l.d)("Name","VideoStatsOverlay"),padding:.5}),r.createElement($t.b,{label:Object(l.d)("Value","VideoStatsOverlay"),padding:.5}))),r.createElement(Xt.a,null,this.renderVideoResolution(),this.renderDisplayResolution(),this.renderFps(),this.renderSkippedFrames(),this.renderBufferSize(),this.renderLatencyToBroadcaster(),this.renderLatencyMode(),this.renderPlaybackRate(),this.renderBackendVersion(),this.renderServingID(),this.renderCodecs(),this.renderPlaySessionID(),this.renderProtocol()))))))},t.prototype.renderVideoResolution=function(){return r.createElement(Hf,{name:Object(l.d)("Video Resolution","VideoStatsOverlay"),value:this.state.videoWidth+"x"+this.state.videoHeight})},t.prototype.renderDisplayResolution=function(){return r.createElement(Hf,{name:Object(l.d)("Display Resolution","VideoStatsOverlay"),value:this.state.displayWidth+"x"+this.state.displayHeight})},t.prototype.renderFps=function(){var e=Math.round(this.state.videoFrameRate);return e?r.createElement(Hf,{name:Object(l.d)("FPS","VideoStatsOverlay"),value:e,"data-test-selector":Uf.FPS}):null},t.prototype.renderSkippedFrames=function(){return r.createElement(Hf,{name:Object(l.d)("Skipped Frames","VideoStatsOverlay"),value:this.state.droppedFrames})},t.prototype.renderBufferSize=function(){var e=this.getTimeString(this.state.bufferDuration.toFixed(2));return r.createElement(Hf,{name:Object(l.d)("Buffer Size","VideoStatsOverlay"),value:e})},t.prototype.renderLatencyToBroadcaster=function(){if(!this.props.isLive)return null;var e=this.getTimeString((this.state.broadcasterLatency/1e3).toFixed(2));return r.createElement(Hf,{name:Object(l.d)("Latency To Broadcaster","VideoStatsOverlay"),value:e,"data-test-selector":Uf.LatencyToBroadcaster})},t.prototype.renderLatencyMode=function(){return this.props.isLive?(e=this.props.isLowLatencyCapable&&this.props.isLowLatencyEnabled?Object(l.d)("Low Latency","VideoStatsOverlay"):Object(l.d)("Normal Latency","VideoStatsOverlay"),r.createElement(Hf,{name:Object(l.d)("Latency Mode","VideoStatsOverlay"),value:e,"data-test-selector":Uf.LatencyMode})):null;var e},t.prototype.renderPlaybackRate=function(){var e=Math.round(this.state.videoBitRate/1e3)+" Kbps";return r.createElement(Hf,{name:Object(l.d)("Playback Rate","VideoStatsOverlay"),value:e})},t.prototype.renderBackendVersion=function(){return r.createElement(Hf,{name:Object(l.d)("Backend Version","VideoStatsOverlay"),value:this.state.version})},t.prototype.renderServingID=function(){return r.createElement(Hf,{name:Object(l.d)("Serving ID","VideoStatsOverlay"),value:this.props.servingID||""})},t.prototype.renderCodecs=function(){return this.state.codecs?r.createElement(Hf,{name:Object(l.d)("Codecs","VideoStatsOverlay"),value:this.state.codecs,"data-test-selector":Uf.Codecs}):null},t.prototype.renderPlaySessionID=function(){return r.createElement(Hf,{name:Object(l.d)("Play Session ID","VideoStatsOverlay"),value:this.props.playSessionID})},t.prototype.renderProtocol=function(){return 0===this.state.protocol.length?null:r.createElement(Hf,{name:Object(l.d)("Protocol","VideoStatsOverlay"),value:this.state.protocol})},t}(r.Component),Gf=Object(s.d)(Object(c.a)({name:"VideoStatsOverlay",content:r.createElement((function(){return r.createElement(Ht.a,{position:qt.o.Absolute,attachTop:!0,margin:1,className:"video-stats-overlay__error-container"},r.createElement(tn.a,{color:qt.f.Overlay},Object(l.d)("The video stats overlay has crashed. Please disable it in the player settings menu.","VideoStatsOverlay")))}),null)}),Object(k.c)((function(e){return{isLowLatencyCapable:Object(fe.i)(e),isLowLatencyEnabled:e.isLiveLowLatencyEnabled,mediaPlayerInstance:e.mediaPlayerInstance,playSessionID:e.playSessionId,servingID:Object(fe.b)(e)}})),Object(S.c)((function(e){var t=e.content;return{isLive:Object(A.s)(t)}})),Object(Ke.e)((function(e){return{setStatsOverlay:e.setStatsOverlay}})))(qf);var Hf=function(e){var t=e.name,n=e.value;return r.createElement(Yt.a,{key:t,"data-a-target":"player-overlay-video-stats-row"},r.createElement(Jt.a,{padding:.5},r.createElement(tn.a,null,t)),r.createElement(Jt.a,{padding:.5},r.createElement(tn.a,{"aria-label":t,"aria-roledescription":"video player stat","aria-live":"polite",role:"status"},n)))},Wf=n("xHva"),zf=300;function Qf(e){return e.self&&e.self.viewingHistory&&e.self.viewingHistory.position||void 0}function Kf(e){if(!e.self||!e.self.viewingHistory||null===e.self.viewingHistory.position)return!1;var t=e.self.viewingHistory.position;if(0===t)return!0;var n=e.lengthSeconds||0,i=Math.max(zf,.1*n);return n>zf&&t>i}function Yf(e,t){var n=Kf(e);return n!==Kf(t)?n?1:-1:e.createdAt&&t.createdAt?new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime():t.createdAt?1:e.createdAt?-1:0}var $f;n("VcSi");!function(e){e.CountdownTitle="autoplay-vod__countdown-title"}($f||($f={}));var Xf=2e4,Jf=1e3,Zf=780,ev=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={timeRemaining:Xf},t.autoplayInterval=-1,t.renderVideoTitle=function(e){return r.createElement(Ht.a,{fullWidth:!0,margin:{bottom:e?.5:0}},r.createElement(tn.a,{fontSize:e?qt.k.Size6:qt.k.Size5,ellipsis:!0},t.props.video.title))},t.renderTimeRemaining=function(){var e=Math.round(t.state.timeRemaining/1e3);return r.createElement(Ht.a,{margin:{bottom:.5},display:qt.h.Flex,alignItems:qt.b.Center,justifyContent:qt.m.Between},r.createElement(tn.a,{bold:!0,type:t.props.width>Zf?tn.e.H4:tn.e.H5,color:qt.f.Overlay,"data-test-selector":$f.CountdownTitle},Object(ht.d)("Up Next in {timeRemaining} seconds...",{timeRemaining:e},"VODPostplayRecommendations")))},t.startCountdown=function(){clearInterval(t.autoplayInterval),t.autoplayInterval=setInterval((function(){t.state.timeRemaining>0?t.setState((function(e){return{timeRemaining:e.timeRemaining-Jf}})):(t.stopCountdown(),t.props.track(T.SpadeEventType.PlayerRecAutoplay,{recommended_vod_id:t.props.video.id,recommended_vod_type:"channel"}),t.props.onSelect())}),Jf)},t.stopCountdown=function(){clearInterval(t.autoplayInterval)},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.track(T.SpadeEventType.PlayerRecShowFeatured,{recommended_vod_id:this.props.video.id,recommended_vod_type:"channel"}),this.startCountdown()},t.prototype.componentWillUnmount=function(){this.stopCountdown()},t.prototype.render=function(){var e=this.props,t=e.onSelect,n=e.video;return r.createElement(an.a,{type:an.b.Fullscreen,transparency:an.c.Transparency1},r.createElement(Ut.a,{fullWidth:!0},r.createElement(bi.a,{alwaysRenderChild:!0,transitionInitialMount:!0,show:!0,type:bi.d.TranslateTop,duration:bi.c.Long},r.createElement("div",{style:{marginTop:this.props.width<1e3?"-10%":0}},r.createElement(Ht.a,{display:qt.h.Flex,flexDirection:qt.i.Column,alignItems:qt.b.Center,justifyContent:qt.m.Center},r.createElement(Ht.a,{className:a("autoplay-vod__content-container",{"autoplay-vod__content-container--mini":this.props.width<=580}),display:qt.h.Flex,flexDirection:this.props.width>580?qt.i.Column:qt.i.Row},this.props.width>580&&this.renderTimeRemaining(),r.createElement(Ht.a,{className:"autoplay-vod__video-card-container"},r.createElement(Li,{video:n,content:{type:U.a.VOD,vodID:n.id,videoOffset:Qf(n)},onSelect:t,info:this.props.width>580?this.renderVideoTitle():null,marginBottom:0})),r.createElement(Ht.a,{className:a({"autoplay-vod__mini-text-container":this.props.width<=580})},this.props.width<=580&&this.renderTimeRemaining(),this.props.width<=580&&this.renderVideoTitle(!0),r.createElement(Ht.a,{display:qt.h.Flex,justifyContent:qt.m.End},r.createElement(yn.a,{onClick:this.props.onClose},Object(ht.d)("More Suggestions","VODPostplayRecommendations"))))))))))},t}(r.Component),tv=Object(s.d)(Object(I.c)())(ev),nv=n("AARb"),iv=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={autoplayVOD:!0,height:0,otherVODs:!0,wasEverMini:t.props.mini,width:0},t.resizeDebounceTimer=new Wf.a(250),t.showAutoplayVOD=function(){return t.hasVODs()&&t.state.autoplayVOD},t.showOtherVODs=function(){return t.hasVODs()&&!t.showAutoplayVOD()&&t.state.otherVODs},t.hasVODs=function(){return t.getVideos().length>1},t.onResize=function(e,n){t.resizeDebounceTimer.invoke((function(){t.setState({width:e,height:n})}))},t.getVideos=function(){return t.props.data&&t.props.data.video&&t.props.data.video.owner&&t.props.data.video.owner.videos&&t.props.data.video.owner.videos.edges&&Object(Ds.b)(t.props.data.video.owner.videos.edges.map((function(e){return e&&e.node}))).filter((function(e){return e.id!==t.props.vodID})).sort(Yf)||[]},t.getChannelDisplayName=function(){return t.props.data&&t.props.data.video&&t.props.data.video.owner&&t.props.data.video.owner.displayName||""},t.handleCloseAutoplayVOD=function(){t.setState({autoplayVOD:!1})},t.handleCloseOtherVODs=function(){t.setState({otherVODs:!1})},t.handleOnOtherVODsSelect=function(e){t.props.track(T.SpadeEventType.PlayerRecSelect,{recommended_vod_id:e.id,recommended_vod_type:"channel",recommended_vod_view:"other"})},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.state.wasEverMini?this.props.setRecommendationsShowing(!1):this.props.track(T.SpadeEventType.PlayerRecShow,{type:"postVOD"})},t.prototype.componentDidUpdate=function(){var e=this.props,t=e.recommendationsShowing,n=e.setRecommendationsShowing;if(this.props.mini&&!this.state.wasEverMini)this.setState({wasEverMini:!0}),t&&n(!1);else if(!this.state.wasEverMini){var i=this.showAutoplayVOD()||this.showOtherVODs();t!==i&&n(i)}},t.prototype.componentWillUnmount=function(){this.props.setRecommendationsShowing(!1),this.resizeDebounceTimer.clear()},t.prototype.render=function(){var e=this;if(this.state.wasEverMini)return null;var t=this.getVideos();return r.createElement(r.Fragment,null,(this.state.autoplayVOD||this.state.otherVODs)&&r.createElement(Mn.a,{onResize:this.onResize}),this.showAutoplayVOD()&&r.createElement(tv,{video:t[0],onClose:this.handleCloseAutoplayVOD,onSelect:function(){var n=t[0].id;e.props.track(T.SpadeEventType.PlayerRecSelect,{recommended_vod_id:n,recommended_vod_type:"channel",recommended_vod_view:"featured"});var i=e.props.getContentUrl({type:U.a.VOD,vodID:n,videoOffset:Qf(t[0])});i&&Object(q.k)(i,e.props.history)},width:this.state.width}),this.showOtherVODs()&&r.createElement(el,{videos:t,onClose:this.handleCloseOtherVODs,onSelect:this.handleOnOtherVODsSelect,title:Object(ht.d)("More from {channelLogin}",{channelLogin:this.getChannelDisplayName()},"VODPostplayRecommendations"),height:this.state.height,width:this.state.width}))},t}(r.Component);var av=Object(s.d)(Object(c.a)({name:"VODPostplayRecommendationsOverlay"}),Object(S.c)((function(e){return{mini:!!Object(_.a)({playerPublicPropsContext:e}).mini,vodID:Object(A.n)(e.content)||null}})),Object(I.c)(),Object(Ke.e)((function(e){return{recommendationsShowing:e.recommendationsShowing,setRecommendationsShowing:e.setRecommendationsShowing}})),Object(B.a)(nv,{options:function(e){var t;return{variables:{videoID:null!==(t=e.vodID)&&void 0!==t?t:""}}},skip:function(e){return!e.vodID}}),V.l,G())(iv),rv=n("DdiD"),ov=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getImageUrl=function(){if(t.props.data&&t.props.data.video)return t.props.data.video.previewThumbnailURL?t.props.data.video.previewThumbnailURL:void 0},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.getImageUrl();return e?r.createElement(ji.a,{src:e,alt:this.props.data&&this.props.data.video&&this.props.data.video.title||""}):null},t}(r.Component),sv=Object(s.d)(Object(c.a)({name:"VODPreviewOverlay"}),Object(S.c)((function(e){var t=e.content;return{vodID:Object(A.n)(t)||null}})),Object(B.a)(rv,{skip:function(e){return null===e.vodID},options:function(e){return{variables:{vodID:e.vodID}}}}))(ov);n("EvGT");var lv=function(){return r.createElement(Gt.a,{position:qt.o.Absolute,attachRight:!0,padding:1,background:qt.d.Overlay,display:qt.h.Flex,alignItems:qt.b.Center,className:"picture-by-picture-overlay",borderRadius:qt.e.Medium},r.createElement(yi.a,{asset:zt.a.NotificationInfo,height:25,width:25}),r.createElement(Ht.a,{margin:{left:.5}},Object(l.d)("To view the stream while an ad is playing, watch it in Theatre Mode","PictureByPictureOverlay")))},cv=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onClick=function(){t.props.stitchedAdUrl&&0!==t.props.stitchedAdClickTrackUrls.length&&(t.props.stitchedAdClickTrackUrls.forEach((function(e){try{fetch(e,{method:"GET",mode:"no-cors"})}catch(e){l.k.warn("Failed to issue GET request",e)}})),window.open(t.props.stitchedAdUrl,"_blank","noopener"))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return this.props.stitchedAdUrl?r.createElement(Ut.a,{attachTop:!0,attachLeft:!0,attachBottom:!0,attachRight:!0,position:qt.o.Absolute},r.createElement("div",{"data-test-selector":"sad-overlay",onClick:this.onClick})):null},t}(r.Component);var dv=Object(f.c)((function(e){var t=e.videoAdMetadata;return{stitchedAdClickTrackUrls:t&&t.stitched&&t.stitchedAdClickTrackUrls||[],stitchedAdUrl:t&&t.stitched&&t.adUrl||null}}))(cv);dv.displayName="StitchedAdClickHandler";var uv,pv=n("r8f4"),mv=n("F6zs"),fv=n("4zL6");!function(e){e.Wrapper="video-ad-banner-mads-wrapper",e.MainLabel="video-ad-banner-mads-main-label",e.SecondaryLabel="video-ad-banner-secondary-main-label"}(uv||(uv={}));function vv(e,t){return r.createElement(Ht.a,{key:t.key(),display:qt.h.Flex,flexDirection:qt.i.Column,justifyContent:qt.m.Center},r.createElement(tn.a,{bold:!0,color:qt.f.Overlay,type:tn.e.Span},e,""))}function gv(e,t){var n=e.channel,i=e.profileImageURL;return r.createElement(Ht.a,{key:t.key(),display:qt.h.Flex,flexDirection:qt.i.Row},r.createElement(Ht.a,{display:qt.h.Flex,flexDirection:qt.i.Column,justifyContent:qt.m.Center},r.createElement(Nm.a,{alt:n,size:20,src:i,userLogin:n})),r.createElement(Ht.a,{display:qt.h.Flex,flexDirection:qt.i.Column,justifyContent:qt.m.Center,padding:{x:.5}},r.createElement(tn.a,{bold:!0,color:qt.f.Overlay,type:tn.e.Span},n)))}var hv=Object(s.d)(Object(k.c)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),Object(f.c)((function(e){return{stitchedAdMetadata:Object(Et.c)(e.videoAdMetadata)&&e.videoAdMetadata||void 0}})))((function(e){var t=Object(r.useState)(0),n=t[0],i=t[1],a=Object(r.useRef)(new mv.a("multiplayer-ad-label")),o=e.mediaPlayerInstance,s=e.stitchedAdMetadata,c=e.adBannerOptions;a.current.reset();var d=r.useMemo((function(){return o&&s?{duration:+s.duration,startPosition:o.getPosition()||0}:null}),[s,o]);return Object(D.a)(C.f.TIME_UPDATE,Object(r.useCallback)((function(){o&&d&&i(Math.max(0,Math.round(d.duration-(o.getPosition()-d.startPosition))))}),[o,d])),c.isMultiplayer||c.multiplayerPollActive?r.createElement(Ht.a,{"data-test-selector":uv.Wrapper},function(e,t,n){var i=gv(t,n),a=r.createElement(tn.a,{color:qt.f.Overlay,type:tn.e.Span},Object(l.d)("Participate in a poll in {duration} to unlock Bits for the creator!",{duration:r.createElement(tn.a,{bold:!0,type:tn.e.Span},r.createElement(fv.a,{timeToCountDownFromSeconds:e,durationStyle:$a.a.ClockMS}))},"MadsLabelComponent")),o=Object(l.d)("{channel} <x:span>is running a Multiplayer Ad</x:span>",{"x:span":function(e){return vv(e,n)},channel:i},"MadsLabelComponent_");return r.createElement(Ht.a,{key:n.key(),"data-test-selector":uv.MainLabel,display:qt.h.Flex,flexDirection:qt.i.Row},t.isMultiplayer?a:o)}(n,c,a.current),function(e,t){var n=gv(e,t),i=Object(l.d)("<x:span>Thank you for supporting</x:span> {channel}",{"x:span":function(e){return vv(e,t)},channel:n},"MadsLabelComponent"),a=Object(l.d)("Standard ad playing due to language or country restrictions.","MadsLabelComponent");return r.createElement(Ht.a,{key:t.key(),display:qt.h.Flex,flexDirection:qt.i.Row,"data-test-selector":uv.SecondaryLabel},e.isMultiplayer?i:a)}(c,a.current)):null}));hv.displayName="MultiplayerAdsBannerLabel";var bv=n("QVaV"),yv=n("lp77"),kv="player_ad_banner_unsupported_channels";function Sv(e){switch(e.roll){case le.b.Pre:return function(e){var t=e.supportsChannel,n=e.channel,i=e.isLive;if(t)return i?_v(n):Object(l.d)("Start watching {channel} right after this ad break; stick around to support the channel!",{channel:n},"VideoAdBanner");return Cv()}(e);case le.b.Mid:return function(e){var t=e.supportsChannel,n=e.channel,i=e.isLive,a=e.isVLM;if(i)return a?_v(n):t?Object(l.d)("{channel} is taking an ad break; stick around to support the stream!",{channel:n},"VideoAdBanner"):Object(l.d)("{channel} will be back shortly. This Ad supports Twitch.",{channel:n},"VideoAdBanner");return t?Object(l.d)("Continue watching {channel} right after this ad break; stick around to support the channel!",{channel:n},"VideoAdBanner"):Object(l.d)("This video will be back shortly. This Ad supports Twitch.","VideoAdBanner")}(e);case le.b.Post:return function(e){var t=e.supportsChannel,n=e.channel;if(e.isLive)return t?Object(l.d)("Thank you for watching {channel}; finish watching the ad to support the stream!",{channel:n},"VideoAdBanner"):Object(l.d)("Thanks for watching the stream! This Ad supports Twitch.","VideoAdBanner");return t?Object(l.d)("Thank you for watching {channel}; finish watching the ad to support the channel!",{channel:n},"VideoAdBanner"):Cv()}(e);default:return e.supportsChannel?Ov(e.channel):Cv()}}var Ev,Cv=function(){return Object(l.d)("This Ad supports Twitch","VideoAdBanner")},Ov=function(e){return Object(l.d)("This Ad supports {channel}",{channel:e},"VideoAdBanner")};function _v(e){return Object(l.d)("Catch {channel} right after this ad break; stick around to support the stream!",{channel:e},"VideoAdBanner")}!function(e){e.DefaultText="ad-banner-default-text",e.MultiplayerText="ad-banner-multiplayer-text"}(Ev||(Ev={}));var wv=Object(s.d)(Object(S.c)((function(e){return{content:e.content,behavior:Object(_.a)({playerPublicPropsContext:e}).adPollBehavior||{enabled:!1},isMini:!!Object(_.a)({playerPublicPropsContext:e}).mini}})),Object(f.c)((function(e){return{metadata:e.videoAdMetadata,isVideoAdShowing:Object(Et.d)(e.videoAdMetadata),runningAdPoll:e.runningAdPoll}})),Object(B.a)(pv,{options:function(e){return{variables:{input:{login:Object(A.s)(e.content)&&e.content.channelLogin||"",ownsCollectionID:Object(A.p)(e.content)&&e.content.collectionID||"",ownsVideoID:Object(A.t)(e.content)&&e.content.vodID||""}}}}}))((function(e){var t=function(e){var t=function(e){var t=e.data.userByAttribute;if(!t||!t.roles||!t.login)return;return{login:t.login,displayName:t.displayName,isPartner:t.roles.isPartner,isAffiliate:t.roles.isAffiliate,profileImageURL:t.profileImageURL}}(e);if(!e.isVideoAdShowing||!e.metadata||!t||l.b.get(kv,[]).includes(t.login))return null;var n=e.metadata,i=e.runningAdPoll,a=e.behavior.enabled&&Object(yv.c)(n,i),r=e.behavior.enabled&&Object(yv.b)()&&!!i;return{supportsChannel:!!t.isPartner||!!t.isAffiliate,channel:Object(bv.a)(t.login,t.displayName,!0),roll:e.metadata.roll,isLive:Object(A.s)(e.content),isMultiplayer:a,multiplayerPollActive:r,profileImageURL:t.profileImageURL||"",isVLM:!!e.metadata.isVLM}}(e);if(!t||e.isMini)return null;var n=r.createElement(tn.a,{"data-test-selector":Ev.DefaultText,color:qt.f.Overlay,type:tn.e.Span},Sv(t)),i=r.createElement(hv,{"data-test-selector":Ev.MultiplayerText,adBannerOptions:t});return r.createElement(Gt.a,{position:qt.o.Absolute,attachTop:!0,attachLeft:!0,padding:1,background:qt.d.Overlay,display:qt.h.InlineBlock},!t.isMultiplayer&&!t.multiplayerPollActive&&n,i)}));wv.displayName="VideoAdBanner";var Pv,Nv=n("J6px"),Tv=(n("A6FP"),n("gP25"));!function(e){e.SubToSkipAdsV1="sub-to-skip-ads__1",e.SubToSkipAdsV2="sub-to-skip-ads__2"}(Pv||(Pv={}));var Dv=Object(s.d)(Object(S.c)((function(e){var t=e.content;return{channelLogin:Object(A.b)(t)}})),Object(B.a)(Tv,{options:function(e){return{variables:{login:e.channelLogin||""}}},skip:function(e){return!e.channelLogin}}),Object(_r.b)((function(e){return{playerControlsActive:!!e.active}})),Object(k.c)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),Object(Ke.e)((function(e){return{isFullscreen:e.isFullscreen}})),Object(f.c)((function(e){return{stitchedAdMetadata:Object(Et.c)(e.videoAdMetadata)&&e.videoAdMetadata||void 0,isVideoAdShowing:Object(Et.d)(e.videoAdMetadata)}})),Object(o.b)((function(e){return{theatreModeEnabled:e.ui.theatreModeEnabled}})))((function(e){var t,n,i,a,o=e.isVideoAdShowing,s=e.theatreModeEnabled,c=e.data,d=e.isFullscreen,u=e.playerControlsActive,p=r.useRef(!0),m=r.useState(!1),f=m[0],v=m[1];if(r.useEffect((function(){if(p.current&&o){p.current=!1;var e=setTimeout((function(){e=null,v(!0)}),3e3);return function(){e&&clearTimeout(e)}}}),[o]),!c)return null;var g=(null===(i=null===(n=null===(t=c.user)||void 0===t?void 0:t.subscriptionProducts)||void 0===n?void 0:n[0])||void 0===i?void 0:i.hasAdFree)||!1,h=(null===(a=c.user)||void 0===a?void 0:a.displayName)||"",b=Object(Nv.b)(o,g,s,d,10),y=!b&&Object(Nv.c)(o,g,s,d,10);if(b)return r.createElement(Ht.a,{attachBottom:!0,attachRight:!0,background:qt.d.Overlay,"data-test-selector":Pv.SubToSkipAdsV1,display:qt.h.InlineBlock,margin:{bottom:4},padding:1,position:qt.o.Absolute},r.createElement(tn.a,{color:qt.f.Overlay,type:tn.e.Span},Object(l.d)("Subscribers get ad-free viewing on this channel ","SubToSkipAds")));if(y){var k=f&&!u?"show":"hide";return r.createElement(Ht.a,{background:qt.d.Overlay,className:"sub-to-skip-ads-v2 sub-to-skip-ads-v2__"+k,"data-test-selector":Pv.SubToSkipAdsV2,display:qt.h.InlineBlock,margin:{bottom:4},padding:1,position:qt.o.Absolute},r.createElement(tn.a,{color:qt.f.Overlay,type:tn.e.Span},Object(l.d)("{channelName}s subscribers get ad-free viewing on this channel",{channelName:h},"SubToSkipAds")))}return null}));Dv.displayName="SubToSkipAds";var Iv=Object(s.d)(Object(k.c)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),Object(f.c)((function(e){return{stitchedAdMetadata:Object(Et.c)(e.videoAdMetadata)&&e.videoAdMetadata||void 0,isVideoAdShowing:Object(Et.d)(e.videoAdMetadata),adPosition:e.videoAdMetadata&&e.videoAdMetadata.adPosition,numberOfAds:e.videoAdMetadata&&e.videoAdMetadata.numberOfAds}})))((function(e){var t=e.numberOfAds,n=e.adPosition,i=e.isVideoAdShowing,a=e.mediaPlayerInstance,o=e.stitchedAdMetadata,s=Object(r.useState)(0),c=s[0],d=s[1],u=Object(r.useCallback)((function(e){d(Math.round(e.duration-e.progress))}),[]);yt(b.Progress,u);var p=r.useMemo((function(){return a&&o?{duration:+o.duration,startPosition:a.getPosition()||0}:null}),[o,a]);if(Object(D.a)(C.f.TIME_UPDATE,Object(r.useCallback)((function(){a&&p&&d(Math.round(p.duration-(a.getPosition()-p.startPosition)))}),[a,p])),!i||c<0)return null;var m,f=Math.floor(c/60),v=function(e){return e<10?"0"+e:String(e)}(Math.round(c%60));return m=t>1?Object(l.d)("Ad {adPosition} of {numberOfAds} : ({minutes}:{seconds})",{adPosition:n,numberOfAds:t,minutes:f,seconds:v},"VideoAdCountdown"):Object(l.d)("{minutes}:{seconds}",{minutes:f,seconds:v},"VideoAdCountdown"),r.createElement(Gt.a,{position:qt.o.Absolute,attachTop:!0,attachRight:!0,padding:1,background:qt.d.Overlay,display:qt.h.InlineBlock},r.createElement(tn.a,{color:qt.f.Overlay,type:tn.e.Span},m))}));Iv.displayName="VideoAdCountdown";var Av=n("4l7P");var jv=Object(s.d)(Object(c.a)({name:"VideoAdOverlay"}),Object(Av.c)((function(e){return{isShowingPictureByPicture:e.isShowing}})),Object(S.c)((function(e){return{behaviors:e.behaviors}})),Object(f.c)((function(e){return{updateAdElement:e.updateAdElement,runningAdPoll:e.runningAdPoll,stitchedAdMetadata:Object(Et.c)(e.videoAdMetadata)&&e.videoAdMetadata||void 0}})),Object(Ke.e)((function(e){return{isFullscreen:e.isFullscreen}})))((function(e){var t=e.updateAdElement,n=e.isFullscreen,i=e.isShowingPictureByPicture,a=e.runningAdPoll,o=e.stitchedAdMetadata,s=e.behaviors,l=!0===(null==o?void 0:o.hideAdOverlay),c=!l,d=!((null==s?void 0:s.adPollBehavior)&&s.adPollBehavior.enabled&&Object(yv.c)(o,a))&&!l,u=n&&i&&!l;return r.createElement(Ht.a,{position:qt.o.Absolute,attachTop:!0,attachLeft:!0,attachBottom:!0,attachRight:!0},r.createElement(Ht.a,{position:qt.o.Absolute,attachTop:!0,attachLeft:!0,attachBottom:!0,attachRight:!0,refDelegate:t}),c&&r.createElement(wv,null),r.createElement(dv,null),d&&r.createElement(Iv,null),r.createElement(Dv,null),u&&r.createElement(lv,null))}));jv.displayName="VideoAdOverlay";var xv=ru.a.wrap((function(){return Promise.all([n.e(0),n.e(119)]).then(n.bind(null,"YXdd"))}),"VideoAdPollContainer",{failSilently:!0,placeholder:null}),Lv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return this.props.firstPageLoaded?r.createElement(xv,null):null},t}(r.Component);var Fv,Mv=Object(s.d)(Object(c.a)({name:"VideoAdPollOverlay"}),Object(o.b)((function(e){return{firstPageLoaded:e.session.firstPageLoaded}})))(Lv),Rv=function(e){return e.uiContext.statsOverlay===Ke.b.Ad},Vv=function(e){return!e.playerContext.isPlayerCoreLoading},Bv=function(e){return!(Object(_.a)(e).disableDoubleClickFullscreen&&void 0===Object(_.b)(e).onPlayerClick||Object(Et.d)(e.adContext.videoAdMetadata))},Uv=function(e){var t=e.chromecastContext,n=e.playerContext,i=e.videoPlaybackContext;return!!(n.isPlayerCoreLoading||Object(fe.f)(n)||Object(fe.k)(n)||!n.hasPlayed&&n.sourceStatus!==Re.a.None)&&i.isPlaying&&!Object(Et.d)(e.adContext.videoAdMetadata)&&!oi(t)},qv=function(e){var t=e.playerContext,n=e.videoPlaybackContext;return!Uv(e)&&n.isPlaying&&!Object(fe.h)(t)},Gv=function(e){var t=e.playerPublicPropsContext,n=e.playerContext,i=Object(_.c)({playerPublicPropsContext:t});return!(Object(Et.d)(e.adContext.videoAdMetadata)||!Object(A.o)(i)||!i.clipSlug||!Object(fe.g)(n)||Object(_.a)(e).disableRecommendations)},Hv=function(e){return e.uiContext.isClipSharing},Wv=function(e){return e.uiContext.showClosedCaptionsSettings},zv=function(e){var t=e.playerContext,n=e.playerPublicPropsContext;return t.sourceStatus===Re.a.None&&n.content.type===U.a.Collection},Qv=function(e){return e.uiContext.isCollectionSidebarShowing},Kv=function(e){return!!e.playerContext.error},Yv=function(e){var t,n=e.playerPublicPropsContext,i=n.behaviors,a=n.content,r=e.playerContext.isOffline,o=e.adContext,s=o.runningAdPoll,l=o.adPollVisible,c=(null===(t=Object(_.a)(e).adPollBehavior)||void 0===t?void 0:t.enabled)&&Object(yv.d)(l,s),d=i&&i.enableExtensions,u=Object(A.s)(Object(_.c)({playerPublicPropsContext:e.playerPublicPropsContext})),p=Object(A.g)(a);return!(!(d&&u&&p)||r||c)},$v=function(e){var t=e.playerPublicPropsContext,n=e.playerContext,i=e.adContext,a=Object(_.a)(e).showOfflineChannelNotificationPrompt,r=Object(A.s)(t.content)&&n.isOffline;return!(!a||!r||Object(Et.d)(i.videoAdMetadata))},Xv=function(e){return e.uiContext.isKeyboardShortcutsVisible},Jv=function(e){return!!Object(_.a)(e).mini},Zv=function(e){var t=e.videoPlaybackContext;return Object(A.t)(Object(_.c)(e))&&t.isPlaying},eg=function(e){if(Object(Et.d)(e.adContext.videoAdMetadata))return!1;var t=e.playerContext,n=e.playerPublicPropsContext;return!(!(Object(_.c)({playerPublicPropsContext:n}).type===U.a.Live)||!t.isOffline)},tg=function(e){var t=e.playerPublicPropsContext,n=e.playerContext,i=t.content.type===U.a.Live&&n.isOffline,a=!n.hasPlayed,r=n.playerState===C.g.ENDED;return!(Object(Et.d)(e.adContext.videoAdMetadata)||!i||!a&&!r||Object(_.a)(e).disableRecommendations)},ng=function(e){var t=e.chromecastContext,n=e.playerContext,i=e.videoPlaybackContext,a=e.uiContext,r=Object(_.a)(e).disablePlayButtonOverlay,o=n.mediaPlayerInstance,s=!(o&&o.isPaused())&&n.autoplay&&!n.hasPlayed;return!(i.isPlaying||oi(t)||n.isOffline||Object(Et.d)(e.adContext.videoAdMetadata)||Object(fe.d)(n)||a.isCollectionSidebarShowing||a.recommendationsShowing||r||Object(fe.d)(n)||s)},ig=function(e){var t=e.playerContext;return Object(fe.d)(t,cn.a.PremiumContent)||null!==t.accessExpiration&&void 0!==t.accessExpiration},ag=function(e){var t=e.playerContext,n=Object(_.a)(e),i=n.forceControlVisibility;return!(n.mini||t.isPlayerCoreLoading||Object(fe.d)(e.playerContext)||i===Ye.a.Hidden)},rg=function(e){var t=e.active,n=e.videoPlaybackContext,i=e.uiContext,a=Object(_.a)(e).forceControlVisibility;return!(!i.showControls||!t&&n.isPlaying&&a!==Ye.a.Showing)},og=function(e){return!ig(e)&&rg(e)},sg=function(e){return!e.uiContext.isCollectionSidebarShowing&&rg(e)},lg=function(e){var t=e.playerContext,n=e.playerPublicPropsContext,i=e.uiContext,a=Object(_.a)(e),r=a.mini,o=a.enableSoundtrackByTwitch,s=Object(_.c)({playerPublicPropsContext:n}),c=Object(dr.f)(l.p.store.getState());return!(!(o&&i.soundtrackShowing&&c)||r||t.isPlayerCoreLoading||!Object(A.s)(s)||Object(fe.g)(t)||Object(fe.d)(t)||t.error)},cg=function(e){return Object(fe.d)(e.playerContext,cn.a.SubscriberVOD)},dg=function(e){return!!Object(_.a)(e).blockTwitchExclusiveContent},ug=function(e){var t,n=Object(A.s)(Object(_.c)({playerPublicPropsContext:e.playerPublicPropsContext})),i=e.playerContext.isOffline;return!!(null===(t=Object(_.a)(e).adPollBehavior)||void 0===t?void 0:t.enabled)&&!1===i&&n&&Object(yv.b)()},pg=function(e){return e.uiContext.statsOverlay===Ke.b.Video},mg=function(e){var t=Object(_.c)(e);return!Object(Et.d)(e.adContext.videoAdMetadata)&&(Object(A.t)(t)||Object(A.p)(t))&&Object(fe.g)(e.playerContext)&&!Object(_.a)(e).disableRecommendations},fg=function(e){var t=e.playerContext,n=e.videoPlaybackContext;return!t.autoplay&&!t.hasPlayed&&!n.isPlaying};!function(e){e.AdStatsOverlay="ad-stats-overlay",e.BottomControlsOverlay="bottom-controls-overlay",e.CelebrationOverlay="celebration-overlay",e.ClickHandlerOverlay="click-handler-overlay",e.ClickToUnmuteOverlay="click-to-unmute-overlay",e.ClipPostplayRecommendationsOverlay="clip-postplay-recommendations-overlay",e.ClipShareOverlay="clip-share-overlay",e.ClosedCaptionSettingsOverlay="closed-caption-settings-overlay",e.CollectionEmptyOverlay="collection-empty",e.CollectionSidebarOverlay="collection-sidebar-overlay",e.ErrorOverlay="error-overlay",e.ExtensionsOverlay="extensions-overlay",e.FollowPanelOverlay="follow-panel-overlay",e.KeyboardShortcutsOverlay="keyboard-shortcuts-overlay",e.LoadingOverlay="loading-overlay",e.MiniOverlay="mini-overlay",e.MutedSegmentsAlertOverlay="muted-segments-alert-overlay",e.OfflineBannerOverlay="offline-banner-overlay",e.OfflineRecommendationsOverlay="offline-recommendations-overlay",e.PlayButtonOverlay="play-button-overlay",e.PremiumContentOverlay="premium-content-overlay",e.RadioContentPromoOverlay="radio-content-promo-overlay",e.SubscriberVODOverlay="subscriber-vod-overlay",e.TopBarOverlay="top-bar-overlay",e.TwitchGateOverlay="twitch-gate-overlay",e.VideoStatsOverlay="video-stats-overlay",e.VODPostplayRecommendationsOverlay="vod-postplay-recommendations-overlay",e.VODPreviewOverlay="vod-preview-overlay",e.VideoAdPollOverlay="video-ad-poll-overlay"}(Fv||(Fv={}));var vg=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderMiniOverlay=function(e){return r.createElement(r.Fragment,null,e[Fv.MiniOverlay]&&r.createElement(Us,null))},t.renderContentGatingOverlays=function(e){return r.createElement(r.Fragment,null,e[Fv.PremiumContentOverlay]&&r.createElement(nm,null),r.createElement(Bs,null),e[Fv.TwitchGateOverlay]&&r.createElement(Mf,null),r.createElement(Fn,null),e[Fv.SubscriberVODOverlay]&&r.createElement(Ym,null))},t.renderContentClickOverlays=function(e){return r.createElement(r.Fragment,null,!Object(_.a)(t.props).mini&&e[Fv.ClickHandlerOverlay]&&r.createElement(vi,null),e[Fv.ExtensionsOverlay]&&r.createElement(ks,null),!Object(_.a)(t.props).mini&&r.createElement(r.Fragment,null,r.createElement(Ci,{canShow:e[Fv.ClickToUnmuteOverlay]}),e[Fv.PlayButtonOverlay]&&r.createElement(dl,null)))},t.renderContentCoveringOverlays=function(e){return!Object(_.a)(t.props).mini&&r.createElement(r.Fragment,null,ag(t.props)&&r.createElement(Lf,{shouldShow:e[Fv.TopBarOverlay]}),r.createElement(Xn,null),e[Fv.FollowPanelOverlay]&&r.createElement(Ts,null),e[Fv.KeyboardShortcutsOverlay]&&r.createElement(As,null),e[Fv.VideoStatsOverlay]&&r.createElement(Gf,null),e[Fv.AdStatsOverlay]&&r.createElement(nn,null),e[Fv.CelebrationOverlay]&&r.createElement(Ft.a,{ref:Mt.a}),r.createElement(si,null))},t.renderTemporaryInteractionOverlays=function(e){return!Object(_.a)(t.props).mini&&r.createElement(r.Fragment,null,r.createElement(ir,null),e[Fv.ClipShareOverlay]&&r.createElement(la,null),e[Fv.MutedSegmentsAlertOverlay]&&r.createElement(Qs,{bottomControlsShowing:e[Fv.BottomControlsOverlay]}),e[Fv.ClosedCaptionSettingsOverlay]&&r.createElement(Wa,null),e[Fv.VODPreviewOverlay]&&r.createElement(sv,null),e[Fv.VideoAdPollOverlay]&&r.createElement(Mv,null))},t.renderContentRecommendations=function(e){return r.createElement(r.Fragment,null,!Object(_.a)(t.props).mini&&e[Fv.ClipPostplayRecommendationsOverlay]&&r.createElement(Yi,null),!Object(_.a)(t.props).mini&&e[Fv.OfflineRecommendationsOverlay]&&r.createElement(ll,null),e[Fv.VODPostplayRecommendationsOverlay]&&r.createElement(av,null))},t.renderContentReplacedOverlays=function(e){var n=!Object(_.a)(t.props).mini&&r.createElement(r.Fragment,null,e[Fv.OfflineBannerOverlay]&&r.createElement($s,null),r.createElement(Bf,null),e[Fv.CollectionEmptyOverlay]&&r.createElement(Ya,null));return r.createElement(r.Fragment,null,n,r.createElement(jv,null))},t.renderContentLoadingOverlays=function(e){return r.createElement(r.Fragment,null,e[Fv.LoadingOverlay]&&r.createElement(js.a,null))},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e,t,n=(e=this.props,(t={})[Fv.ClickToUnmuteOverlay]=qv(e),t[Fv.AdStatsOverlay]=Rv(e),t[Fv.BottomControlsOverlay]=sg(e),t[Fv.CelebrationOverlay]=Vv(e),t[Fv.ClickHandlerOverlay]=Bv(e),t[Fv.ClipPostplayRecommendationsOverlay]=Gv(e),t[Fv.ClosedCaptionSettingsOverlay]=Wv(e),t[Fv.CollectionEmptyOverlay]=zv(e),t[Fv.CollectionSidebarOverlay]=Qv(e),t[Fv.ErrorOverlay]=Kv(e),t[Fv.ExtensionsOverlay]=Yv(e),t[Fv.FollowPanelOverlay]=$v(e),t[Fv.KeyboardShortcutsOverlay]=Xv(e),t[Fv.LoadingOverlay]=Uv(e),t[Fv.MiniOverlay]=Jv(e),t[Fv.MutedSegmentsAlertOverlay]=Zv(e),t[Fv.OfflineBannerOverlay]=eg(e),t[Fv.OfflineRecommendationsOverlay]=tg(e),t[Fv.PlayButtonOverlay]=ng(e),t[Fv.PremiumContentOverlay]=ig(e),t[Fv.RadioContentPromoOverlay]=lg(e),t[Fv.SubscriberVODOverlay]=cg(e),t[Fv.TopBarOverlay]=og(e),t[Fv.TwitchGateOverlay]=dg(e),t[Fv.ClipShareOverlay]=Hv(e),t[Fv.VideoStatsOverlay]=pg(e),t[Fv.VODPostplayRecommendationsOverlay]=mg(e),t[Fv.VODPreviewOverlay]=fg(e),t[Fv.VideoAdPollOverlay]=ug(e),t);return r.createElement(r.Fragment,null,this.renderContentReplacedOverlays(n),this.renderContentLoadingOverlays(n),this.renderContentClickOverlays(n),this.renderContentRecommendations(n),n[Fv.ErrorOverlay]&&r.createElement(rr,null),this.renderContentCoveringOverlays(n),this.renderTemporaryInteractionOverlays(n),ag(this.props)&&r.createElement(bp,{shouldShow:n[Fv.BottomControlsOverlay]}),r.createElement(Lt.a,{name:"content_promo"},n[Fv.RadioContentPromoOverlay]&&r.createElement(Gm,null)),this.renderContentGatingOverlays(n),this.renderMiniOverlay(n))},t}(r.Component),gg=Object(s.d)(Object(c.a)({name:"OverlayManager"}),Object(_r.b)((function(e){return{active:e.active}})),ni(),Object(f.c)(),Object(k.c)(),Object(S.c)(),Object(Ke.e)(),Object(E.e)())(vg);var hg=n("TEXg"),bg=function(){function e(e,t){this.timerIsPaused=!0,this.ms=t,this.callback=e,this.lastStartTimestamp=0,this.msRemaining=this.ms}return e.prototype.start=function(){var e=this;this.timerIsPaused&&(this.lastStartTimestamp=Date.now(),this.timerId=setTimeout((function(){return e.timeoutCallback()}),this.msRemaining),this.timerIsPaused=!1)},e.prototype.pause=function(){if(!this.timerIsPaused){clearTimeout(this.timerId),this.timerIsPaused=!0;var e=Date.now();this.msRemaining=this.msRemaining-(e-this.lastStartTimestamp)}},e.prototype.timeoutCallback=function(){this.callback()},e.prototype.destroy=function(){clearTimeout(this.timerId)},e}(),yg=l.p.session.deviceID,kg=r.memo((function(e){var t,n,a,o,s=e.data,c=e.isAdShowing,d=e.playerTracking,u=e.isPlaying,p=e.isBuffering,m=e.isOffline,f=null===(t=null==s?void 0:s.channel)||void 0===t?void 0:t.id,v=null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.refetch,g=null===(o=null===(a=null==s?void 0:s.channel)||void 0===a?void 0:a.adProperties)||void 0===o?void 0:o.trackingPixels,h=Object(r.useRef)([]),b=Object(r.useRef)(e);Object(r.useEffect)((function(){b.current=e}));var y=Object(r.useCallback)((function(e){var t=h.current.findIndex((function(t){return t.ms===1e3*e.timeOffsetSeconds}));if(!(t<0)){h.current.splice(t,1);var n={pixel_url:e.url,pixel_type:e.type,pixel_channel_id:e.channelId,pixel_time_offset_seconds:e.timeOffsetSeconds,pixel_origin:e.origin,pixel_service:e.service,pixel_rejected:!1,pixel_device_id:yg};fetch(e.url,{cache:"no-store",mode:"no-cors"}).then((function(){d.track(T.SpadeEventType.PixelTracking,n)})).catch((function(e){var t={pixel_rejected:!0,pixel_rejected_reason:e.status};d.track(T.SpadeEventType.PixelTracking,Object(i.__assign)(Object(i.__assign)({},n),t))}))}}),[d]),k=Object(r.useCallback)((function(){h.current.forEach((function(e){return e.destroy()})),h.current=[]}),[h]),S=Object(r.useCallback)((function(e){h.current.push(new bg((function(){return y(e)}),1e3*e.timeOffsetSeconds))}),[h,y]),E=Object(r.useCallback)((function(){return(g||[]).forEach(S)}),[S,g]),C=Object(r.useCallback)((function(){var e=b.current.isPlaying,t=b.current.isBuffering,n=b.current.isAdShowing,i=b.current.isOffline;!e||t||n||i||h.current.forEach((function(e){return e.start()}))}),[h,b]),O=Object(r.useCallback)((function(){h.current.forEach((function(e){return e.pause()}))}),[h]);return Object(r.useEffect)((function(){if(f){var e=Object(Me.b)(f);return l.l.subscribe({topic:e,onMessage:function(e){e.type===am.g.PixelTrackingUpdate&&"true"===e.data.refresh&&v&&v()}})}}),[f,v]),Object(r.useEffect)((function(){!u||p||c||m?O():C()}),[u,p,c,m,C,O]),Object(r.useEffect)((function(){return k(),E(),C(),function(){return k()}}),[g,E,C,k]),null}));kg.displayName="PixelTracking";var Sg=Object(B.a)(hg,{options:function(e){return{variables:{login:e.channelLogin,allowAmazon:e.allow_amazon,allowComscore:e.allow_comscore,allowGoogle:e.allow_google,allowNielsen:e.allow_nielsen}}}})(kg);Sg.displayName="PixelTrackingWithQuery";var Eg=function(){var e,t,n,i,a,o=Object(r.useContext)(f.b).videoAdMetadata,s=Object(r.useContext)(k.b),l=Object(r.useContext)(S.b),c=l.content,d=l.behaviors,u=Object(r.useContext)(I.b),p=Object(r.useContext)(E.d).isPlaying,m=s.isOffline,v=Object(fe.f)(s),g=Object(A.s)(c),h=Object(A.b)(c),b=!!d&&d.disablePixelTracking,y=Object(J.l)().data,C=Object(J.f)(null===(e=null==y?void 0:y.consent)||void 0===e?void 0:e.vendorStatus),O=!!(null===(t=C[J.b.Amazon])||void 0===t?void 0:t.consent),_=!!(null===(n=C[J.b.ComScore])||void 0===n?void 0:n.consent),w=!!(null===(i=C[J.b.Google])||void 0===i?void 0:i.consent),P=!!(null===(a=C[J.b.Nielsen])||void 0===a?void 0:a.consent);return g&&!b&&h?r.createElement(Sg,{isAdShowing:void 0!==o,playerTracking:u,isOffline:!0===m||void 0===m,isPlaying:p,isBuffering:v,allow_amazon:O,allow_comscore:_,allow_google:w,allow_nielsen:P,channelLogin:h}):null};Eg.displayName="PixelTrackingManager";var Cg=function(){var e=r.useState(!1),t=e[0],n=e[1],i=r.useContext(I.b).track,a=r.useContext(f.b).videoAdMetadata,o=Object(Et.b)(a),s=Object(Et.c)(a),l=r.useContext(k.b).mediaPlayerInstance,c=r.useContext(S.b).content,d=Object(A.t)(c)||Object(A.p)(c),u=r.useCallback((function(){return d&&(null==l?void 0:l.getPosition())||null}),[d,l]);return Object(D.a)(C.g.IDLE,r.useCallback((function(){o||(i(T.SpadeEventType.VideoTrackingVideoPause,{ad_is_playing:s,vod_timestamp:u(),action:"pause"}),n(!0))}),[u,o,s,i,n])),Object(D.a)(C.g.PLAYING,r.useCallback((function(){!o&&t&&(i(T.SpadeEventType.VideoTrackingVideoPause,{ad_is_playing:s,vod_timestamp:u(),action:"play"}),n(!1))}),[u,o,s,i,t,n])),yt(b.Paused,r.useCallback((function(){i(T.SpadeEventType.VideoTrackingVideoPause,{ad_is_playing:!0,vod_timestamp:u(),action:"pause"}),n(!0)}),[u,i,n])),yt(b.Resumed,r.useCallback((function(){i(T.SpadeEventType.VideoTrackingVideoPause,{ad_is_playing:!0,vod_timestamp:u(),action:"play"}),n(!1)}),[u,i,n])),null},Og=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onAnalytics=function(e){t.props.track(e.name,e.properties)},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(C.f.ANALYTICS_EVENT,this.onAnalytics)},t.prototype.render=function(){return null},t}(r.Component),_g=Object(s.d)(Object(I.c)((function(e){return{track:e.track}})),Object(y.a)())(Og);var wg,Pg=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.logger=t.props.logger.withCategory("debug-events"),t.attachEventListeners=function(){var e=t.props.playerEvents.addEventListener;Object.values(C.g).forEach((function(n){return e(n,(function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return t.logStateEvent.apply(t,Object(i.__spreadArrays)([n],e))}))})),Object.values(C.f).forEach((function(n){return e(n,(function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return t.logPlayerEvent.apply(t,Object(i.__spreadArrays)([n],e))}))})),Object.values(C.e).forEach((function(n){return e(n,(function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return t.logMetadataEvent.apply(t,Object(i.__spreadArrays)([n],e))}))})),Object.values(C.h).forEach((function(n){return e(n,(function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return t.logRemoteEvent.apply(t,Object(i.__spreadArrays)([n],e))}))})),Object.values(b).forEach((function(e){return t.props.adEvents.addEventListener(e,(function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];return t.logClientSideAdEvent.apply(t,Object(i.__spreadArrays)([e],n))}))}))},t.logEvent=function(e,n){for(var a,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return(a=t.logger).debug.apply(a,Object(i.__spreadArrays)([e+" - "+n],r))},t.logStateEvent=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return t.logEvent.apply(t,Object(i.__spreadArrays)(["State",e],n))},t.logPlayerEvent=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return t.logEvent.apply(t,Object(i.__spreadArrays)(["Player",e],n))},t.logMetadataEvent=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return t.logEvent.apply(t,Object(i.__spreadArrays)(["Metadata",e],n))},t.logRemoteEvent=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return t.logEvent.apply(t,Object(i.__spreadArrays)(["Remote",e],n))},t.logClientSideAdEvent=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return t.logEvent.apply(t,Object(i.__spreadArrays)(["Ads",e],n))},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){(this.props.enableDebug||$.parse(window.location.search).debug)&&this.attachEventListeners()},t.prototype.render=function(){return null},t}(r.Component),Ng=Object(s.d)(Object(S.c)((function(e){return{enableDebug:!!Object(_.a)({playerPublicPropsContext:e}).enableDebug}})),Object(y.a)(),v())(Pg),Tg=n("kz7j"),Dg=n("GnwI"),Ig=n("p9E3"),Ag=n("yURb"),jg=n("unRh"),xg=n("ZWct");function Lg(e){wg=e||{}}Lg();var Fg=Bg(qg),Mg=Bg(Gg),Rg=Ug(qg),Vg=Ug(Gg);function Bg(e){return function(t,n){var i=e(t,n),a=wg[i];if(a)try{var r=JSON.parse(a.token);return Date.now()>=1e3*r.expires?void delete wg[i]:a}catch(e){return void delete wg[i]}}}function Ug(e){return function(t,n,i){wg[e(t,n)]=i}}function qg(e,t){return"live-"+t+"-"+e}function Gg(e,t){return"vod-"+t+"-"+e}var Hg=zg("live"),Wg=zg("vod");function zg(e){var t=this;return function(n,a){return Object(i.__awaiter)(t,void 0,Promise,(function(){var t,r,o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return window.__vat&&window.__vat.contentType===e&&window.__vat.playerType===a&&window.__vat.id===n?[4,window.__vat.request]:[3,5];case 1:if(!(t=i.sent()).ok||t.bodyUsed)return[3,5];i.label=2;case 2:return i.trys.push([2,4,,5]),[4,t.json()];case 3:return r=i.sent(),[2,{mobile_restricted:!1,sig:(o="live"===e?r.data.streamPlaybackAccessToken:r.data.videoPlaybackAccessToken).signature,token:o.value}];case 4:return i.sent(),[2];case 5:return[2]}}))}))}}function Qg(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return e.channelLogin?[2,Kg(e.channelLogin,e.playerType,e.refreshAccessToken)]:e.vodID?[2,Yg(e.vodID,e.playerType,e.refreshAccessToken)]:[2]}))}))}var Kg=$g({get:Fg,set:Rg},Hg,xg.a),Yg=$g({get:Mg,set:Vg},Wg,xg.b);function $g(e,t,n){var a=this;return function(r,o,s){return Object(i.__awaiter)(a,void 0,void 0,(function(){var a,l,c;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return(a=e.get(r,o))&&!s?[2,a]:[4,t(r,o)];case 1:return(l=i.sent())&&!s?(e.set(r,o,l),[2,l]):[4,n(r,o)];case 2:return(c=i.sent())?(e.set(r,o,c),[2,c]):[2]}}))}))}}var Xg="https://usher.ttvnw.net",Jg="vp09";function Zg(e,t){if(e.type!==t.type)return!0;if(Object(A.s)(e))return e.channelLogin!==t.channelLogin;if(Object(A.t)(e))return e.vodID!==t.vodID;if(Object(A.p)(e))return e.collectionID!==t.collectionID||e.vodID!==t.vodID;if(Object(A.o)(e)){var n=t,i=(e.editing&&e.editing.videoUrl)!==(n.editing&&n.editing.videoUrl);return e.clipSlug!==t.clipSlug||i}}function eh(e,t,n,a,r,o,s,l,c){return void 0===l&&(l=!1),Object(i.__awaiter)(this,void 0,Promise,(function(){var d,u;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:switch(d=n||Xg,e.type){case U.a.Live:return[3,1];case U.a.VOD:return[3,2];case U.a.Collection:return[3,3];case U.a.Clip:return[3,4]}return[3,6];case 1:return[2,th(e.channelLogin,t,d,l,s,c)];case 2:return[2,nh(e.vodID,t,d,l,s,c)];case 3:return[2,ih(e,t,d,l,s,c)];case 4:return[4,sh(e,a)];case 5:return u=i.sent(),[2,ah(r,o,e,u)];case 6:return[2,{src:null}]}}))}))}function th(e,t,n,a,r,o){return Object(i.__awaiter)(this,void 0,void 0,(function(){var s,c,d,u,p,m;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return e=e.toLowerCase(),s=performance.now(),[4,Qg({channelLogin:e,playerType:t,refreshAccessToken:a})];case 1:if(c=i.sent(),d=Math.round(performance.now()-s),!c)return[2,{src:null,videoAccessToken:void 0,accessTokenLoadTime:d}];u=null,p=!1;try{(m=JSON.parse(c.token))&&m.authorization&&(u=isNaN(m.authorization.access_expiration)?null:m.authorization.access_expiration,p=m.authorization.forbidden)}catch(e){l.k.warn("Error parsing video access token: "+e)}return[2,{src:n+"/api/channel/hls/"+e+".m3u8?"+rh(!0,c,r,o),videoAccessToken:c,forbidden:p,accessExpiration:u,accessTokenLoadTime:d}]}}))}))}function nh(e,t,n,a,r,o){return Object(i.__awaiter)(this,void 0,void 0,(function(){var s,l,c,d;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return e=e.startsWith("v")?e.substr(1):e,s=performance.now(),[4,Qg({playerType:t,vodID:e,refreshAccessToken:a})];case 1:return l=i.sent(),c=Math.round(performance.now()-s),l?(d=n+"/vod/"+e+".m3u8?"+rh(!1,l,r,o),[2,{accessTokenLoadTime:c,videoAccessToken:l,src:d}]):[2,{src:null,accessTokenLoadTime:c}]}}))}))}function ih(e,t,n,a,r,o){return Object(i.__awaiter)(this,void 0,void 0,(function(){var s,l;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return(l=e.vodID)?[3,2]:[4,oh(e.collectionID)];case 1:l=i.sent(),i.label=2;case 2:return(s=l)?[4,nh(s,t,n,a,r,o)]:[2,{src:null}];case 3:return[2,i.sent()]}}))}))}function ah(e,t,n,a){return Object(i.__awaiter)(this,void 0,void 0,(function(){var r,o;return Object(i.__generator)(this,(function(i){return Object(A.o)(n)&&n.editing&&n.editing.videoUrl?[2,{src:n.editing.videoUrl}]:(r=Te(a,e,t,!0),o="",r&&De(r)&&(o=r.source),[2,{src:o}])}))}))}function rh(e,t,n,i){var a,r,o=l.p.experiments.getAndTrackAssignment("ENABLE_VP9"),s="treatment"!==l.p.experiments.getAndTrackAssignment("player_warp")&&"treatment"===o&&n?Jg+",avc1":"avc1",c={allow_source:!0,fast_bread:!!e||void 0,playlist_include_framerate:!0,reassignments_supported:!0,sig:t.sig,token:t.token,player_backend:"mediaplayer",p:Math.floor(9999999*Math.random()),supported_codecs:s,play_session_id:i,force_manifest_node:void 0,force_segment_node:void 0,force_weaver_ads:void 0,force_preroll:void 0,force_midroll:void 0,force_creative_id:void 0,raid_id:void 0};if(e){c.raid_id=null===(r=null===(a=l.p.history.location)||void 0===a?void 0:a.state)||void 0===r?void 0:r.raid_id;var d=$.parse(window.location.search);c.force_manifest_node=d.force_manifest_node,c.force_segment_node=d.force_segment_node,"true"===d.force_weaver_ads&&(c.force_weaver_ads=d.force_weaver_ads,c.force_preroll=d.force_preroll,c.force_midroll=d.force_midroll,c.force_creative_id=d.force_creative_id)}return $.stringify(c)}function oh(e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,n,a;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,l.p.apollo.client.query({metadata:{name:"VideoAccessTokenCollectionQuery"},query:jg,variables:{id:e}})];case 1:return t=i.sent(),n=t.data.collection,[2,(a=n&&n.items.edges[0])&&a.node.id];case 2:return i.sent(),[2];case 3:return[2]}}))}))}function sh(e,t){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n,a;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return[4,lh(e.clipSlug)];case 1:return n=i.sent(),a=function(e,t){if(void 0===t&&(t=!1),0===e.length)return[];if(t){var n=e[0],i=n.frameRate,a=n.sourceURL;return[{bitrate:0,codecs:"",framerate:i||0,group:Se.b,height:0,isDefault:!1,name:we(n),source:a,width:0}]}return e.map((function(e){return{bitrate:0,codecs:"",framerate:e.frameRate||0,group:(t=e,""+we(t)+t.frameRate),height:0,isDefault:!1,name:we(e),source:e.sourceURL,width:0};var t}))}(n),t({availableQualities:a}),[2,a]}}))}))}function lh(e){var t,n;return Object(i.__awaiter)(this,void 0,Promise,(function(){var a,r,o,s;return Object(i.__generator)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,l.p.apollo.client.query({metadata:{name:"VideoAccessTokenClipQuery"},query:Ag,variables:{slug:e}})];case 1:return a=c.sent(),(r=a.data.clip)&&r.videoQualities&&(null===(t=r.playbackAccessToken)||void 0===t?void 0:t.value)&&(null===(n=r.playbackAccessToken)||void 0===n?void 0:n.signature)?(o=encodeURI(r.playbackAccessToken.value),s=r.playbackAccessToken.signature,[2,r.videoQualities.map((function(e){return Object(i.__assign)(Object(i.__assign)({},e),{sourceURL:Object(Ig.a)(e.sourceURL,o,s)})}))]):[2,[]];case 2:return c.sent(),[2,[]];case 3:return[2]}}))}))}var ch=function(e){function t(t){var n=e.call(this,t)||this;return n.playSessionWasRestricted=!1,n.onPlaying=function(){n.doNotTrack()||n.props.latencyTracking.reportCustomEvent(n.playingEvent)},n.onBuffering=function(){n.doNotTrack()||n.props.latencyTracking.reportCustomEvent(n.bufferingEvent)},n.onReady=function(){n.props.latencyTracking.reportInteractive(),n.loadedEvent&&n.props.latencyTracking.reportCustomEvent(n.loadedEvent)},n.doNotTrack=function(){return!n.props.autoplay||n.playSessionWasRestricted},n.registerPlayingEvent=function(){return n.props.latencyTracking.registerCustomEvent({benchmark:4e3,group:Tg.a.Player,key:Tg.b.PlayerPlayed,label:Tg.c.FirstFrame,doNotTrack:n.doNotTrack()})},n.registerBufferingEvent=function(){return n.props.latencyTracking.registerCustomEvent({benchmark:1e3,group:Tg.a.Player,key:Tg.b.PlayerBuffering,label:Tg.c.Buffering,doNotTrack:n.doNotTrack()})},n.resetLatencyTrackingEvents=function(){n.playSessionWasRestricted=!1,n.createdEvent=null,n.loadedEvent=null,n.bufferingEvent=n.registerBufferingEvent(),n.playingEvent=n.registerPlayingEvent()},n.createdEvent=n.props.latencyTracking.registerCustomEvent({benchmark:1e3,group:Tg.a.Player,key:Tg.b.PlayerCreated,label:Tg.c.Created}),n.loadedEvent=n.props.latencyTracking.registerCustomEvent({benchmark:2500,group:Tg.a.Player,key:Tg.b.PlayerLoaded,label:Tg.c.Init}),n.bufferingEvent=n.registerBufferingEvent(),n.playingEvent=n.registerPlayingEvent(),n.playSessionWasRestricted=n.props.hasPlaybackRestriction,n}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.createdEvent&&this.props.latencyTracking.reportCustomEvent(this.createdEvent),this.props.playerEvents.addEventListener(C.g.PLAYING,this.onPlaying),this.props.playerEvents.addEventListener(C.g.BUFFERING,this.onBuffering),this.props.adEvents.addEventListener(b.Started,this.onPlaying),this.props.isPlayerCoreLoading||this.onReady()},t.prototype.componentDidUpdate=function(e){Zg(e.content,this.props.content)&&this.resetLatencyTrackingEvents(),e.isPlayerCoreLoading&&!this.props.isPlayerCoreLoading&&this.onReady(),this.props.hasPlaybackRestriction&&(this.playSessionWasRestricted=!0)},t.prototype.render=function(){return this.props.children||null},t}(r.Component),dh=Object(s.d)(Object(Dg.withLatencyTracking)("OverhaulPlayer"),Object(y.a)(),v(),Object(k.c)((function(e){return{autoplay:e.autoplay,isPlayerCoreLoading:e.isPlayerCoreLoading,hasPlaybackRestriction:Object(fe.d)(e)}})),Object(S.c)((function(e){return{content:e.content}})))(ch),uh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.detectLoopingChange=function(e){var n=t.props,i=n.mediaPlayerInstance,a=n.enableLooping;i&&(e.enableLooping&&!a?i.setLooping(!1):!e.enableLooping&&a&&i.setLooping(!0))},t.detectDisableAudioChange=function(e){var n=t.props,i=n.disableAudio,a=n.playerType,r=n.setMuted;e.disableAudio&&!i?Ee.b.get(Ee.a.MUTED,a)||r(!1,{persist:!1}):!e.disableAudio&&i&&r(!0,{persist:!1})},t.detectDisableAutoplayChange=function(e){var n=t.props,i=n.mediaPlayerInstance,a=n.disableAutoplay,r=n.hasPlayed,o=n.play;i&&!r&&e.disableAutoplay&&!a&&o()},t}return Object(i.__extends)(t,e),t.prototype.componentDidUpdate=function(e){this.detectLoopingChange(e),this.detectDisableAudioChange(e),this.detectDisableAutoplayChange(e)},t.prototype.render=function(){return null},t}(r.Component),ph=Object(s.d)(Object(S.c)((function(e){var t=Object(_.a)({playerPublicPropsContext:e}),n=t.disableAudio,i=t.enableLooping,a=t.disableAutoplay;return{disableAudio:n,enableLooping:i,disableAutoplay:a,playerType:Dc(e)}})),Object(k.c)((function(e){var t=e.mediaPlayerInstance,n=e.hasPlayed;return{mediaPlayerInstance:t,hasPlayed:n}})),Object(E.e)((function(e){var t=e.isPlaying,n=e.play,i=e.setMuted;return{isPlaying:t,play:n,setMuted:i}})))(uh);var mh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onPlaybackBlocked=function(){var e=t.props.onPlaybackBlocked;e&&e()},t.onPlaybackEnded=function(){var e=t.props.onPlaybackEnded;e&&e()},t.onTimeChanged=function(){var e=t.props,n=e.mediaPlayerInstance,i=e.onVideoTimeChange;n&&i&&i(n.getPosition())},t.detectOnPlayingChange=function(e){var n=t.props.onPlaying;n&&(!e.isPlayerPlaying&&t.props.isPlayerPlaying&&n(t.props.playSessionId),!e.isAdPlaying&&t.props.isAdPlaying&&n(t.props.playSessionId))},t.detectOnPauseChange=function(e){var n=t.props.onPauseToggled;n&&(e.isPlayerPlaying!==t.props.isPlayerPlaying&&n(!t.props.isPlayerPlaying),e.isAdPlaying!==t.props.isAdPlaying&&n(!t.props.isAdPlaying))},t.detectOnReadyChange=function(e){var n=t.props.onReady;n&&!e.isPlayerReady&&t.props.isPlayerReady&&n()},t.detectMutedChange=function(e){var n=t.props.onMuteToggled;n&&e.muted!==t.props.muted&&n(!!t.props.muted)},t.detectFullscreenChange=function(e){var n=t.props.onFullscreenChange;n&&e.isFullscreen!==t.props.isFullscreen&&n(t.props.isFullscreen)},t.detectPlaybackRestrictionChange=function(e){var n=t.props.onContentRestricted;n&&!e.hasPlaybackRestriction&&t.props.hasPlaybackRestriction&&n()},t.detectInitChange=function(e){var n=t.props.onInit;if(n&&e.isPlayerCoreLoading&&!t.props.isPlayerCoreLoading){var i=t.props;n({play:i.play,pause:i.pause,seek:i.seek,setClosedCaptionsEnabled:i.setClosedCaptionsEnabled,setVolume:i.setVolume,setMuted:i.setMuted,setQuality:i.setQuality,getPlayerMetadata:i.getPlayerMetadata})}},t.detectOnlineChange=function(e){var n=t.props.onStreamOnline;n&&!1!==e.isOffline&&!1===t.props.isOffline&&n()},t.detectOfflineChange=function(e){var n=t.props.onStreamOffline;n&&!0!==e.isOffline&&!0===t.props.isOffline&&n()},t.detectFetchVideoSourceFailure=function(e){var n=t.props.onFetchVideoSourceFailure;n&&!e.isNoneSourceStatus&&t.props.isNoneSourceStatus&&n()},t.detectAdShowingChange=function(e){var n=t.props,i=n.onAdEnd,a=n.onAdStart,r=e.isAdShowing,o=t.props.isAdShowing;i&&r&&!o?i({adID:e.adID,content:e.content,sessionID:e.sessionID,stitched:e.isStitchedAd,roll:e.adRollType}):a&&!r&&o&&a({adID:t.props.adID,content:t.props.content,sessionID:t.props.sessionID,stitched:t.props.isStitchedAd,roll:t.props.adRollType})},t.detectPlaybackErrorChange=function(e){var n=t.props,i=n.error,a=n.onPlaybackError,r=e.error;a&&(!r&&i||r&&i&&r!==i)&&a({code:i})},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(C.f.PLAYBACK_BLOCKED,this.onPlaybackBlocked),this.props.playerEvents.addEventListener(C.f.TIME_UPDATE,this.onTimeChanged),this.props.playerEvents.addEventListener(C.g.ENDED,this.onPlaybackEnded)},t.prototype.componentDidUpdate=function(e){this.detectAdShowingChange(e),this.detectInitChange(e),this.detectFetchVideoSourceFailure(e),this.detectFullscreenChange(e),this.detectMutedChange(e),this.detectOfflineChange(e),this.detectOnlineChange(e),this.detectOnPauseChange(e),this.detectOnPlayingChange(e),this.detectOnReadyChange(e),this.detectPlaybackRestrictionChange(e),this.detectPlaybackErrorChange(e)},t.prototype.render=function(){return null},t}(r.Component),fh=Object(s.d)(Object(S.c)((function(e){var t=Object(_.b)({playerPublicPropsContext:e}),n=t.onAdEnd,i=t.onAdStart,a=t.onContentRestricted,r=t.onFetchVideoSourceFailure,o=t.onFullscreenChange,s=t.onInit,l=t.onMuteToggled,c=t.onPauseToggled,d=t.onPlaybackBlocked,u=t.onPlaybackEnded,p=t.onPlaybackError,m=t.onPlaying,f=t.onReady,v=t.onStreamOffline,g=t.onStreamOnline,h=t.onVideoTimeChange;return{content:e.content,onAdEnd:n,onAdStart:i,onContentRestricted:a,onFetchVideoSourceFailure:r,onFullscreenChange:o,onInit:s,onMuteToggled:l,onPauseToggled:c,onPlaybackBlocked:d,onPlaybackEnded:u,onPlaybackError:p,onPlaying:m,onReady:f,onStreamOffline:v,onStreamOnline:g,onVideoTimeChange:h}})),Object(f.c)((function(e){var t=e.isPlaying,n=e.videoAdMetadata,i=e.videoAdRequest;return{adID:Object(Et.c)(n)?null==n?void 0:n.lineItemId:void 0,adRollType:(null==n?void 0:n.roll)||le.b.Pre,isAdPlaying:t,isAdShowing:Object(Et.d)(n),isStitchedAd:Object(Et.c)(n),sessionID:null==i?void 0:i.sessionID}})),Object(k.c)((function(e){var t=e.error,n=e.isOffline,i=e.isPlayerCoreLoading,a=e.mediaPlayerInstance,r=e.playSessionId,o=e.sourceStatus;return{error:t,hasPlaybackRestriction:Object(fe.d)(e),isOffline:n,isPlayerCoreLoading:i,isPlayerPlaying:Object(fe.j)(e),isPlayerReady:Object(fe.k)(e),mediaPlayerInstance:a,playSessionId:r,isNoneSourceStatus:o===Re.a.None}})),Object(E.e)((function(e){var t=e.muted,n=e.play,i=e.pause,a=e.seek,r=e.setMuted,o=e.setVolume,s=e.setQuality,l=e.getPlayerMetadata;return{muted:t,play:n,pause:i,seek:a,setMuted:r,setVolume:o,setQuality:s,getPlayerMetadata:l}})),Object(Ke.e)((function(e){var t=e.isFullscreen,n=e.setClosedCaptionsEnabled;return{isFullscreen:t,setClosedCaptionsEnabled:n}})),Object(y.a)())(mh);var vh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.detectVideoOffsetChange=function(e,n){var i=Object(A.m)(e),a=Object(A.m)(n);void 0!==a&&i!==a&&t.props.mediaPlayerInstance&&!Object(A.q)(n)&&t.props.mediaPlayerInstance.seekTo(a)},t}return Object(i.__extends)(t,e),t.prototype.componentDidUpdate=function(e){var t=e.content,n=this.props.content;Zg(t,n)||this.detectVideoOffsetChange(t,n)},t.prototype.render=function(){return null},t}(r.Component),gh=Object(s.d)(Object(k.c)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),Object(S.c)((function(e){return{content:e.content}})))(vh);var hh=n("Gchv"),bh=l.p.logger.withCategory("resume-watching"),yh=function(){var e=r.useState(!1),t=e[0],n=e[1],i=r.useState(0),a=i[0],s=i[1],l=r.useContext(k.b).mediaPlayerInstance,c=r.useContext(S.b).content,d=Object(A.n)(c),u=r.useRef();r.useEffect((function(){u.current=d}));var p=Object(A.t)(c)?c.videoOffset:void 0,m=Object(o.e)((function(e){var t=Object(dr.e)(e);return!(!t||!t.id)})),f=!d||!m,v=Object(x.d)(hh,{skip:f,notifyOnNetworkStatusChange:!0}),g=v.data,h=v.loading,b=v.refetch,y=!!d&&d!==u.current;return Object(D.a)(C.f.DURATION_CHANGED,r.useCallback((function(){s(l?l.getDuration():0)}),[l])),r.useEffect((function(){return s(0)}),[d]),r.useEffect((function(){!y||h||f||(bh.debug("Switched to a new VOD, refetching user's viewed videos."),b())}),[y,h,f,b]),r.useEffect((function(){y&&void 0===p?(bh.debug("Switched to new VOD with no video offset, we should try to resume watch"),n(!0)):y||void 0===p||(bh.debug("Received new video offset for the current VOD, bail any attempts to resume watch"),n(!1))}),[y,p]),r.useEffect((function(){if(t&&d&&function(e){return e>0&&e<1/0}(a)&&l)if(m){if(!g||h)return void bh.debug("Still waiting on GraphQL data to load");n(!1),function(e){bh.debug("Trying to resume watch as a logged in user for VOD "+e.vodID);var t=function(e){if(!e)return;return e&&e.currentUser&&e.currentUser.viewedVideos&&e.currentUser.viewedVideos.edges}(e.data);if(!t)return void bh.debug("User has no saved resume watch times from GraphQL.");var n=t.find((function(t){return t&&t.node.id===e.vodID}));if(!n||null===n.history.position)return void bh.debug("User has saved watch times from GraphQL, but not for this VOD "+e.vodID+".");var i=n.history.position;if(Sh(i,e.duration))return void bh.debug("Resume time "+i+" is too close to end of VOD "+e.vodID+" ("+e.duration+")s");bh.debug("Resuming watch to "+i+" for VOD "+e.vodID),e.mediaPlayerInstance.seekTo(i)}({vodID:d,duration:a,data:g,mediaPlayerInstance:l})}else n(!1),function(e){bh.debug("Trying to resume watch as a logged out user for VOD "+e.vodID);var t=(n=e.vodID,i="v"+n,Ce.b.get(Ce.a.VOD_RESUME_TIMES,{})[i]);var n,i;if(void 0===t)return void bh.debug("No resume time found in local storage for VOD "+e.vodID);if(Sh(t,e.duration))return void bh.debug("Resume time "+t+" is too close to end of VOD "+e.vodID+" ("+e.duration+")s");bh.debug("Resuming watch to "+t+" for VOD "+e.vodID),e.mediaPlayerInstance.seekTo(t)}({vodID:d,duration:a,mediaPlayerInstance:l})}),[t,m,d,g,h,l,a]),null};var kh=120;function Sh(e,t){return t-e<kh}var Eh=n("5tm5"),Ch=120;function Oh(e){return e.playerCoreBroadcastID}function _h(e){var t=e.mediaPlayerInstance;if(!t)throw new Error("no backend");return t.getPosition()}var wh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.writeToGQL=function(e,n){return Object(i.__awaiter)(t,void 0,void 0,(function(){var t,a,r,o,s,c,d,u;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(t=this.props,a=t.isVod,r=t.isLive,o=t.vodID,s=t.currentUserID,t.isAdShowing)return[2];if(!s)throw new Error("resume watched should use local storage for logged out users");return!r||this.props.hasEnded?[3,2]:(c=Oh(this.props))?(u={userID:s,position:Math.floor(e+n),videoID:c,videoType:X.wf.LIVE},[4,this.props.updateUserViewedVideo({variables:{input:u}})]):(l.p.logger.withCategory("ResumeWatching").warn("missing broadcastID while attempting to update user resume watching status"),[2]);case 1:return i.sent(),[3,4];case 2:return a?(d=function(e){var t=e.mediaPlayerInstance;if(!t)throw new Error("no backend");return t.getDuration()}(this.props)-_h(this.props)<Ch,u={userID:s,position:d?0:Math.floor(e),videoID:o||"",videoType:X.wf.VOD},[4,this.props.updateUserViewedVideo({variables:{input:u}})]):[3,4];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))},t.writeToStorage=function(e,n){var i=t.props,a=i.isVod,r=i.vodID,o=i.isLive,s=i.isAdShowing,l=i.hasEnded;if(!s){var c=Oh(t.props);if(a&&t.props.mediaPlayerInstance)(d=Ce.b.get(Ce.a.VOD_RESUME_TIMES,{}))["v"+r]=t.props.mediaPlayerInstance.getDuration()-e<Ch?0:Math.floor(e),Ce.b.set(Ce.a.VOD_RESUME_TIMES,d);else if(o&&c){var d;(d=Ce.b.get(Ce.a.LIVE_RESUME_TIMES,{}))[c]=l?0:Math.floor(e+Number(n)),Ce.b.set(Ce.a.LIVE_RESUME_TIMES,d)}}},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.setupLiveGqlTimeouts()},t.prototype.componentWillUnmount=function(){this.clearAsync()},t.prototype.componentDidUpdate=function(){var e=this;this.clearAsync(),this.setupLiveGqlTimeouts(),clearTimeout(this.endClearTimeout),this.endClearTimeout=setTimeout((function(){return Object(i.__awaiter)(e,void 0,void 0,(function(){var e,t;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return this.props.isLive&&this.props.hasEnded&&this.props.currentUserID?(e=Oh(this.props))?(t={userID:this.props.currentUserID,position:0,videoID:e,videoType:X.wf.LIVE},[4,this.props.updateUserViewedVideo({variables:{input:t}})]):(l.p.logger.withCategory("ResumeWatching").warn("missing broadcastID while attempting to update user resume watching status"),[2]):[3,2];case 1:n.sent(),n.label=2;case 2:return this.props.isVod&&this.props.vodID&&this.props.hasEnded&&this.props.currentUserID?(t={userID:this.props.currentUserID,position:0,videoID:this.props.vodID,videoType:X.wf.VOD},[4,this.props.updateUserViewedVideo({variables:{input:t}})]):[3,4];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))}),5e3*Math.random())},t.prototype.render=function(){return this.props.hasPlayed?this.props.currentUserID&&this.props.isVod?r.createElement(qe.a,{onTimeChanged:this.writeToGQL,throttleMilliseconds:2e4}):this.props.currentUserID?null:r.createElement(qe.a,{onTimeChanged:this.writeToStorage,throttleMilliseconds:5e3}):null},t.prototype.setupLiveGqlTimeouts=function(){var e=this;if(this.props.hasPlayed&&this.props.currentUserID&&this.props.isLive&&Oh(this.props)&&this.props.mediaPlayerInstance){var t=function(){e.writeToGQL(_h(e.props),function(e){var t=e.mediaPlayerInstance;if(!t)throw new Error("no backend");return t.getStartOffset()}(e.props))},n=Math.ceil(5*Math.random()*6e4);this.timeout=setTimeout((function(){t(),e.interval=setInterval(t,6e5)}),n)}},t.prototype.clearAsync=function(){clearInterval(this.interval),clearTimeout(this.timeout)},t}(r.Component);var Ph=Object(s.d)(Object(o.b)((function(e){var t=Object(dr.e)(e);return{currentUserID:t?t.id:null}})),Object(f.c)((function(e){return{isAdShowing:Object(Et.d)(e.videoAdMetadata)}})),Object(k.c)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance,hasPlayed:e.hasPlayed,hasEnded:e.playerState===C.g.ENDED}})),Object(S.c)((function(e){var t=e.content;return{isVod:Object(A.t)(t)||Object(A.p)(t),vodID:Object(A.n)(t),isLive:Object(A.s)(t)}})),Object(y.a)(),(function(e){var t=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={id:void 0},e.onDurationChanged=function(){e.setState((function(t){var n,i,a=(n=e.props.mediaPlayerInstance,(i=n&&n.getSessionData())&&i["BROADCAST-ID"]);return t.id===a?null:{id:a}}))},e}return Object(i.__extends)(n,t),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(C.f.DURATION_CHANGED,this.onDurationChanged)},n.prototype.render=function(){return r.createElement(e,Object(i.__assign)({},Object(i.__assign)(Object(i.__assign)({},this.props),{playerCoreBroadcastID:this.state.id})))},n.displayName=Object(m.a)(n.name,e),n}(r.Component);return Object(s.d)(Object(k.c)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),Object(y.a)())(t)}),Object(B.a)(Eh,{name:"updateUserViewedVideo"}))(wh),Nh=function(){return r.createElement(r.Fragment,null,r.createElement(Ph,null),r.createElement(yh,null))},Th=n("4VQm");var Dh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasEverPausedFromBeingOutsideViewPort=!1,t.checkVisible=function(e){var n=t.props,i=n.videoContainer,a=n.isPlaying,r=n.pausingBehavior;if(i&&a&&r){var o,s,l=i.getBoundingClientRect();if(o=e,(s=l).bottom<o.top||s.top>o.bottom)r!==Ye.c.Once||t.hasEverPausedFromBeingOutsideViewPort||(t.pausePlayer(),t.unregisterScrollListener()),r===Ye.c.Always&&t.pausePlayer()}},t.pausePlayer=function(){t.hasEverPausedFromBeingOutsideViewPort=!0,t.props.pause()},t.unregisterScrollListener=function(){t.unregister&&t.unregister()},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.pausingBehavior&&(this.unregister=this.props.registerReceiver(this))},t.prototype.componentDidUpdate=function(e){!e.pausingBehavior&&this.props.pausingBehavior&&(this.unregister=this.props.registerReceiver(this))},t.prototype.componentWillUnmount=function(){this.unregisterScrollListener()},t.prototype.render=function(){return null},t}(r.Component),Ih=Object(s.d)(Object(Ke.e)((function(e){return{videoContainer:e.videoContainer}})),Object(E.e)((function(e){var t=e.isPlaying,n=e.pause;return{isPlaying:t,pause:n}})),Object(S.c)((function(e){return{pausingBehavior:Object(_.a)({playerPublicPropsContext:e}).pauseWhenNotInViewport}})),Object(Th.d)((function(e){return{registerReceiver:e.registerReceiver}})))(Dh);var Ah=n("3WXF"),jh=l.p.logger.withCategory("StreamRefetchManagerComponent"),xh=[6e4,3e5,6e5,9e5];function Lh(e){var t=e&&e.getSessionData();return t&&t["BROADCAST-ID"]}var Fh,Mh=Object(s.d)(Object(k.c)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance,isPlayerCoreLoading:e.isPlayerCoreLoading}})),Object(S.c)((function(e){var t=e.content;return{isLive:Object(A.s)(t),channelLogin:Object(A.s)(t)?t.channelLogin:void 0}})),Object(B.a)(Ah,{options:function(e){return{variables:{channel:e.channelLogin}}},skip:function(e){return!e.isLive}}))((function(e){var t=Object(r.useRef)(""),n=Object(r.useRef)(!0),a=e.mediaPlayerInstance,o=e.isPlayerCoreLoading,s=Object(r.useState)((function(){return Lh(a)})),l=s[0],c=s[1],u=Object(r.useRef)(!1),p=e.data&&e.data.user&&e.data.user.stream&&e.data.user.stream.id||void 0,m=e.data&&e.data.refetch,f=!(!e.data||!e.data.loading),v=Object(r.useCallback)((function(){jh.debug("set broadcast id",{id:Lh(a)}),c(Lh(a))}),[a,c]);return Object(r.useEffect)((function(){var e;return t.current=Object(d.c)(),jh.debug("running the effect",{isLoading:f,gqlBroadcastId:p,playerCoreBroadcastID:l,effectId:t.current,isPlayerCoreLoading:o}),f||o||p===l||!m?p===l&&(jh.debug("ID stabilized",{effectId:t.current,gqlBroadcastId:p,playerCoreBroadcastID:l}),n.current=!1):(u.current=!0,Object(i.__awaiter)(void 0,void 0,void 0,(function(){function a(n){return void 0===n&&(n=0),Object(i.__awaiter)(this,void 0,void 0,(function(){var r,o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return m?(jh.debug("refetch",{retryNumber:n}),r=t.current,[4,m().catch((function(){return jh.warn("gql error")}))]):(jh.errorAndReport(new Error("refetch function is missing"),"refetch function is missing"),[2,void 0]);case 1:return o=i.sent(),r!==t.current?(jh.debug("got results from a refetch, but discarding them as the effect closed over it was torn down",{effectIdForThisRequest:r,effectId:t.current,retryNumber:n}),[2]):p!==l?[2,new Promise((function(i,o){jh.debug("IDs do not match, setting a timeout to do a retry",{effectIdForThisRequest:r,effectId:t.current,retryNumber:n,timeout:xh[n],gqlBroadcastId:p,playerCoreBroadcastID:l});var s=n>=xh.length-1?xh[xh.length-1]:xh[n];e=setTimeout((function(){a(n+1).then(i,o)}),s+12e4*Math.random()-6e4)}))]:(jh.debug("ID stabilized",{effectIdForThisRequest:r,effectId:t.current,retryNumber:n,timeout:xh[n],gqlBroadcastId:p,playerCoreBroadcastID:l,result:o}),[2,o])}}))}))}return Object(i.__generator)(this,(function(i){return jh.debug("broadcast ID mismatch, polling for new ID",{gqlBroadcastId:p,playerCoreBroadcastID:l,effectId:t.current,isPlayerCoreLoading:o}),n.current?(e=setTimeout((function(){return a()}),xh[0]),n.current=!1):a(),u.current=!1,[2]}))}))),function(){jh.debug("something changed, tearing down effect",{effectId:t.current}),clearTimeout(e)}}),[v,p,a,m,l,f,o]),Object(D.a)(C.f.DURATION_CHANGED,(function(){jh.debug("duration changed"),v()})),Object(D.a)(C.g.ENDED,(function(){jh.debug("ended"),c(void 0)})),Object(D.a)(C.f.ERROR,(function(){jh.debug("error"),v()})),null})),Rh=n("wyWX"),Vh=n("YFng");var Bh=Object(s.d)(Object(S.c)((function(e){var t=e.content;return{isLiveContent:Object(A.s)(t),isVODOrCollectionContent:Object(A.t)(t)||Object(A.p)(t),channelLogin:Object(A.b)(t)||"",videoID:Object(A.n)(t)||"",content:t}})),Object(B.a)(Rh,{name:"channelData",skip:function(e){var t=e.isLiveContent,n=e.channelLogin;return!t||!n},options:function(e){return{variables:{channel:e.channelLogin}}}}),Object(Le.a)([{skip:function(e){var t,n=e.channelData,i=e.isLiveContent,a=e.isOffline;return!i||a||!(null===(t=null==n?void 0:n.user)||void 0===t?void 0:t.id)},topic:function(e){var t,n,i=e.channelData;return(null===(t=null==i?void 0:i.user)||void 0===t?void 0:t.id)?Object(Me.T)(null===(n=null==i?void 0:i.user)||void 0===n?void 0:n.id):""},mapMessageTypesToProps:(Fh={},Fh[Fe.PubsubMessageType.StreamChangeMetadata]="streamChangeMetadata",Fh)}]),Object(B.a)(Vh,{name:"vodData",skip:function(e){return!e.videoID},options:function(e){return{variables:{videoID:e.videoID}}}}))((function(e){var t=e.isLiveContent,n=e.isVODOrCollectionContent,i=e.content,a=Object(r.useContext)(k.b),o=a.isOffline,s=a.hasPlayed,l=Object(r.useContext)(I.b).track,c=Object(r.useRef)(i),d=function(e){var t,n,i,a,r,o,s,l,c,d=e.channelData,u=e.vodData,p=e.pubsub;if(null===(n=null===(t=p.messages.streamChangeMetadata)||void 0===t?void 0:t.data.updates.tags)||void 0===n?void 0:n.updated)return null===(a=null===(i=p.messages.streamChangeMetadata)||void 0===i?void 0:i.data.updates.tags)||void 0===a?void 0:a.updated;if(d&&!d.loading&&!d.error)return(null===(s=null===(o=null===(r=d.user)||void 0===r?void 0:r.stream)||void 0===o?void 0:o.tags)||void 0===s?void 0:s.map((function(e){return e.id})))||null;if(u&&!u.loading&&!u.error)return(null===(c=null===(l=u.video)||void 0===l?void 0:l.contentTags)||void 0===c?void 0:c.map((function(e){return e.id})))||null;return null}(e),u=Object(r.useRef)(d),p=Object(r.useRef)(!1);Zg(i,c.current)&&(p.current=!1),c.current=i;var m=Object(r.useCallback)((function(){p.current=!0,l(T.SpadeEventType.VideoPlaySessionTags,{tag_stream_set:JSON.stringify(u.current)})}),[l]),f=s&&d&&(t&&!o||n);return Object(r.useEffect)((function(){if(f){var e,t,n=(e=u.current,t=d,!(!e&&!t||e&&!e.length&&t&&!t.length||e&&t&&e.length===t.length&&e.every((function(e){return t.includes(e)}))));n&&(u.current=d);var i=n&&p.current;p.current&&!i||m()}}),[f,d,m]),null}));var Uh="video_ads.stream_loudness";var qh=function(e){var t=Object(r.useRef)(e);t.current=e,Object(r.useEffect)((function(){var e=function(){var e;t.current&&(e=t.current,l.m.set(Uh,e))},n=setInterval(e,3e4);return e(),function(){clearInterval(n),e()}}),[])},Gh="TXXX";function Hh(e){var t=Wh(e);return t&&"commercial"===t.cmd&&t.length&&t.commercial_id?{duration:t.length,commercialID:t.commercial_id,spliceEventID:t.splice_event_id,availNum:t.avail_num}:null}function Wh(e){var t=e.filter(zh),n=t.length&&t[0];if(!n||!n.info||!n.info.length)return null;try{var i=JSON.parse(n.info[0]);return{cmd:i.cmd,stream_loudness:i.stream_loudness,length:i.length,commercial_id:i.commercial_id,splice_event_id:i.splice_event_id,avail_num:i.avail_num}}catch(e){return null}}function zh(e){return e.id===Gh}var Qh,Kh={preAdPodVolume:null,preAdPodMuted:null,streamLoudness:null,reachedDurationThreshold:!1},Yh=Object(Zn.a)("AdLoudnessContext",Kh,(function(e){return{adLoudness:e}})),$h=(Yh.withMemoContext,Yh.context);function Xh(e,t){switch(t.update){case Qh.BeginAdPod:return Object(i.__assign)(Object(i.__assign)({},e),{preAdPodVolume:t.volume,preAdPodMuted:t.muted});case Qh.DurationThreshold:return Object(i.__assign)(Object(i.__assign)({},e),{reachedDurationThreshold:!0});case Qh.ResetAdPod:return Object(i.__assign)(Object(i.__assign)({},e),{preAdPodVolume:null,preAdPodMuted:null});case Qh.ResetContext:return Object(i.__assign)({},Kh);case Qh.StreamLoudness:return Object(i.__assign)(Object(i.__assign)({},e),{streamLoudness:t.next});default:return e}}!function(e){e.BeginAdPod="BeginAdPod",e.DurationThreshold="DurationThreshold",e.ResetAdPod="ResetAdPod",e.ResetContext="ResetContext",e.StreamLoudness="StreamLoudness"}(Qh||(Qh={}));var Jh,Zh=function(e){var t=r.useContext(S.b).content,n=r.useReducer(Xh,Object(i.__assign)(Object(i.__assign)({},Kh),{streamLoudness:l.m.get(Uh,null)})),a=n[0],o=n[1];return r.createElement($h.Provider,{value:a},Object(A.s)(t)&&r.createElement(eb,{state:a,dispatch:o}),e.children)},eb=function(e){var t=e.state,n=e.dispatch;return tb(n,t),nb(n,t),r.useEffect((function(){return function(){n({update:Qh.ResetContext})}}),[n]),null},tb=function(e,t){var n=t.streamLoudness,i=t.reachedDurationThreshold;qh(n),Object(D.a)(C.e.ID3,r.useCallback((function(t){var n=function(e){var t=Wh(e);return t&&t.stream_loudness||void 0}(t);n&&i&&e({update:Qh.StreamLoudness,next:{loudness:n,timestamp:Date.now()}})}),[i,e])),r.useEffect((function(){var t=setTimeout((function(){e({update:Qh.DurationThreshold})}),3e4);return function(){return clearTimeout(t)}}),[e])},nb=function(e,t){var n=r.useContext(f.b).videoAdMetadata,i=r.useContext(k.b),a=i.volume,o=i.muted,s=t.preAdPodMuted,l=t.preAdPodVolume,c=Object(Et.b)(n);r.useEffect((function(){c?null===s&&null===l&&e({update:Qh.BeginAdPod,volume:a||0,muted:!!o}):e({update:Qh.ResetAdPod})}),[c,a,o,s,l,e])},ib=v()((function(e){var t=e.adEvents,n=r.useContext(f.b).updateAdStats;return r.useEffect((function(){var e=function(e){n(function(e){var t=e.adInfo;return{id:t&&t.adID||void 0,adPosition:t&&t.adPodInfo?t.adPodInfo.adPosition:void 0,adWrapperIds:t&&t.adWrapperIds||void 0,creativeId:t&&t.creativeID||void 0,duration:t&&t.duration||void 0,impressionTime:Date.now(),totalAds:t&&t.adPodInfo?t.adPodInfo.totalAds:void 0,system:t&&t.adSystem||void 0,title:t&&t.title||void 0,contentType:t&&t.contentType||void 0,vastMediaHeight:t&&void 0!==t.vastMediaHeight?t.vastMediaHeight:void 0,vastMediaWidth:t&&void 0!==t.vastMediaWidth?t.vastMediaWidth:void 0,vastMediaBitrate:t&&void 0!==t.vastMediaBitrate?t.vastMediaBitrate:void 0,mediaUrl:t&&t.mediaUrl||void 0}}(e))};return t.addEventListener(b.Impression,e),function(){t.removeEventListener(b.Impression,e)}}),[t,n]),null}));!function(e){e.Preload="preload",e.Loading="loading",e.Failed="failed",e.Loaded="loaded"}(Jh||(Jh={}));var ab={};function rb(e){return ab[e]}function ob(e){var t=document.createElement("script");return t.src=e,ab[e]={element:t,status:Jh.Preload},t}function sb(e,t){ab[e].status=t}!function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.attachEventListeners=function(e){e.addEventListener("load",t.onLoad),e.addEventListener("error",t.onError),e.addEventListener("loadstart",t.onLoadBegin)},t.createNewScriptElement=function(){var e=ob(t.props.src);t.attachEventListeners(e),t.updateStatus(Jh.Preload),document.body.appendChild(e)},t.onLoad=function(){t.updateStatus(Jh.Loaded)},t.onError=function(){t.updateStatus(Jh.Failed)},t.onLoadBegin=function(){t.updateStatus(Jh.Loading)},t.updateStatus=function(e){sb(t.props.src,e),t.props.onScriptStatusUpdate&&t.props.onScriptStatusUpdate(e,ab[t.props.src].element)},t}Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){var e=rb(this.props.src);e?(this.attachEventListeners(e.element),this.props.onScriptStatusUpdate&&this.props.onScriptStatusUpdate(e.status,e.element)):this.createNewScriptElement()},t.prototype.componentWillUnmount=function(){var e=rb(this.props.src);e&&(e.element.removeEventListener("load",this.onLoad),e.element.removeEventListener("error",this.onError),e.element.removeEventListener("loadstart",this.onLoadBegin))},t.prototype.render=function(){return null}}(r.Component);var lb,cb=n("xgo/"),db=n("Gx9W");function ub(e){var t,n,a,r,o,s=e.adsManager,l=e.amazonVideoAds,c=e.request,d=(t=s,n=.5,a=function(){t.cancelAdBreak()},Object(i.__assign)({play:function(){t.play()},pause:function(){t.pause()},stop:a,getVolume:function(){return n},setVolume:function(e){n=e,t.setVolume(e)},setMuted:function(e){t.setVolume(e?0:n)},destroy:function(){a(),t.destroy()}},((r={})[b.Error]=[],r[b.Resumed]=[],r[b.Paused]=[],r[b.ContentPauseRequested]=[],r[b.ContentResumeRequested]=[],r[b.Loaded]=[],r[b.Started]=[],r[b.Progress]=[],r[b.FirstQuartile]=[],r[b.Midpoint]=[],r[b.ThirdQuartile]=[],r[b.Impression]=[],r[b.Complete]=[],r[b.Skipped]=[],r[b.VolumeChanged]=[],o=r,{addEventListener:function(e,t){o[e]=Object(i.__spreadArrays)(o[e],[t])},removeEventListener:function(e,t){o[e]=o[e].filter((function(e){return e!==t}))},emitEvent:function(e,t){o[e].forEach((function(e){return e(t)}))}}))),u=function(e,t,n){d.emitEvent(e,Object(i.__assign)(Object(i.__assign)({},function(e,t,n){return{adInfo:pb(e),request:t,videoAd:n}}(t,c,d)),n))};return s.addListener(l.eventNames.AdVideoPlayerEvents.RESUMED,(function(e){return u(b.Resumed,e)})),s.addListener(l.eventNames.AdVideoPlayerEvents.REQUEST_RESUME,(function(e){return u(b.ContentResumeRequested,e)})),s.addListener(l.eventNames.AdVideoPlayerEvents.PAUSED,(function(e){return u(b.Paused,e)})),s.addListener(l.eventNames.AdVideoPlayerEvents.REQUEST_PAUSE,(function(e){return u(b.ContentPauseRequested,e)})),s.addListener(l.eventNames.AdVideoPlayerEvents.STARTED,(function(e){return u(b.Started,e)})),s.addListener(l.eventNames.AdVideoPlayerEvents.LOADED,(function(e){return u(b.Loaded,e)})),s.addListener(l.eventNames.AdVideoPlayerEvents.IMPRESSION,(function(e){return u(b.Impression,e)})),s.addListener(l.eventNames.AdVideoPlayerEvents.PROGRESS,(function(e){return u(b.Progress,e,{progress:e.adMetadata.creative.progress,duration:e.adMetadata.creative.duration})})),s.addListener(l.eventNames.AdVideoPlayerEvents.VOLUME_CHANGE,(function(e){return u(b.VolumeChanged,e,{volume:d.getVolume()})})),s.addListener(l.eventNames.AdVideoPlayerEvents.FIRST_QUARTILE,(function(e){return u(b.FirstQuartile,e,{quartile:1})})),s.addListener(l.eventNames.AdVideoPlayerEvents.MIDPOINT,(function(e){return u(b.Midpoint,e,{quartile:2})})),s.addListener(l.eventNames.AdVideoPlayerEvents.THIRD_QUARTILE,(function(e){return u(b.ThirdQuartile,e,{quartile:3})})),s.addListener(l.eventNames.AdVideoPlayerEvents.COMPLETED,(function(e){return u(b.Complete,e,{quartile:4})})),s.addListener(l.eventNames.AdVideoPlayerEvents.ERRORED,(function(e){d.emitEvent(b.Error,{request:c,reason:e.errorCode,errorCode:0})})),{videoAd:d,stitched:!1,started:!1,duration:c.duration,adPosition:0,numberOfAds:1,roll:c.roll,start:0,isVLM:!!c.isVLM}}function pb(e){if(!e)return null;try{return{adSystem:e.adMetadata.ad.system,adID:e.adMetadata.ad.id,contentType:e.adMetadata.mediaFile.mimeType,creativeID:e.adMetadata.creative.id,title:e.adMetadata.ad.title,duration:e.adMetadata.creative.duration,adPodInfo:e.adMetadata.ad.podInfo,adWrapperIds:[],adWrapperSystems:[],adWrapperCreativeIDs:[],vastMediaBitrate:e.adMetadata.mediaFile.bitrate,vastMediaHeight:e.adMetadata.mediaFile.height,vastMediaWidth:e.adMetadata.mediaFile.width,mediaUrl:e.adMetadata.mediaFile.url,adCfId:e.adMetadata.viewability.adCfId,advertiserCfId:e.adMetadata.viewability.advertiserCfId,campaignCfId:e.adMetadata.viewability.campaignCfId,creativeCfId:e.adMetadata.viewability.creativeCfId}}catch(e){return null}}!function(e){e.Amazon="amazon"}(lb||(lb={}));var mb="csai";function fb(e){var t=e.amazonVideoAds,n=e.request,a=Object(i.__assign)(Object(i.__assign)({},n.tagParams),{delivery_type:mb,loggedin:!!n.currentUser,v:n.video&&n.video.broadcastType||void 0,vod_type:Object(A.s)(n.content)?"live":void 0,embed_url:n.tagParams.embedUrl||null,game_id:n.game&&n.game.id,vb:null,adunit:"web_"+mb}),r=t.newRequestBuilder(),o=t.newSlotBuilder().withId("twitch-player-ui").withSize("640x480").withMediaType("v").build();return r=r.withSlot(o).withURL(window.location.href).withReturnType("vast3").withDuration(n.duration).withGeocode(Object(gt.a)()||"US").withPublisherID("twitch").withGDPRL({status:"no-cmp"}).withCurrentWindowSize().withBreakPosition(n.roll).withRawPageReferrer(n.tagParams.embedUrl||""),Object.keys(a).forEach((function(e){r=r.withKeyValuePair(e,a[e])})),r.buildAdTagURL()}var vb,gb=Object(cb.a)()((function(e){var t=e.trackVideoAdData,n=e.trackVideoRAdEvent,a=r.useState(null),o=a[0],s=a[1],l=r.useContext(f.b),c=l.thirdPartyVideoAdElement,d=l.videoAdRequest,u=l.reset,p=l.fillClientSideAd,m=r.useContext(S.b).behaviors,v=r.useContext(k.b).mediaPlayerInstance,g=r.useRef(!1),h=!(m&&m.declineVideoAdsReason),b=function(e){var t=Object(r.useState)(rb(e)),n=t[0],a=t[1];return Object(r.useEffect)((function(){var t=function(t){sb(e,t),a(Object(i.__assign)({},rb(e)))},r=function(){return t(Jh.Loaded)},o=function(){return t(Jh.Failed)},s=function(){return t(Jh.Loading)},l=n&&n.element||ob(e);return l.addEventListener("load",r),l.addEventListener("error",o),l.addEventListener("loadstart",s),n||(t(Jh.Preload),document.body.appendChild(l)),function(){l.removeEventListener("load",r),l.removeEventListener("error",o),l.removeEventListener("loadstart",s)}}),[e,n]),n}("https://d2v02itv0y9u9t.cloudfront.net/dist/1.0.3/v6s.js"),y=!(!b||b.status!==Jh.Loaded),E=!(!b||b.status!==Jh.Failed),C=r.useCallback((function(){var e={reason:"Amazon Video Ads load failed"};t(T.SpadeEventType.VideoAdRequestError,e),n(db.a.VideoAdRequestError,e)}),[t,n]);return r.useEffect((function(){E&&C()}),[E,C]),r.useEffect((function(){y&&(window.AmazonVideoAds?c&&h&&(c.classList.add("avap-ads-container"),s(new window.AmazonVideoAds(c))):C())}),[y,c,C,h]),r.useEffect((function(){d&&d.status===le.a.Processed&&d.sdk===lb.Amazon&&o&&v&&!g.current&&(g.current=!0,t(T.SpadeEventType.VideoAdRequest),n(db.a.VideoAdRequest),function(e){var a=e.url,r=e.request,o=e.avap,s=e.mediaPlayer;Object(i.__awaiter)(this,void 0,void 0,(function(){var e,l,c,d,m,f;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,3,4]),[4,o.fetchAds(a)];case 1:if(null==(e=i.sent()))throw new Error("Failed to retrieve valid Ads Manager from AVAP");return e.init({fullscreen:!1,muted:s.isMuted(),volume:s.getVolume()}),t(T.SpadeEventType.VideoAdRequestResponse),l=ub({amazonVideoAds:o,adsManager:e,request:r}),p(l,r),c=.8*s.getVideoBitRate(),d=Math.max(1e3,Math.min(c,5e3)),e.startAds(d),[3,4];case 2:return m=i.sent(),f={reason:m.message},t(T.SpadeEventType.VideoAdRequestError,f),n(db.a.VideoAdRequestError,f),u(),[3,4];case 3:return g.current=!1,[7];case 4:return[2]}}))}))}({url:fb({amazonVideoAds:o,request:d}),request:d,avap:o,mediaPlayer:v}))}),[d,o,g,v,p,u,t,n]),null}));!function(e){e.Control="control",e.OnlyDown="treatment_only_down",e.AlwaysAdjust="treatment_always_adjust"}(vb||(vb={}));var hb=function(){var e=Object(r.useContext)($h),t=e.preAdPodMuted,n=e.preAdPodVolume,i=e.streamLoudness,a=Object(r.useContext)(f.b),o=a.videoAdMetadata,s=a.userManuallyAdjustedVolumeDuringAd,c=a.videoAdRequest,d=Object(r.useContext)(S.b),u=Object(_.a)({playerPublicPropsContext:d}).disableAutoAdVolumeAdjustment,p=Object(r.useCallback)((function(e){var n=i&&Date.now()-i.timestamp<=3e5;return c&&o&&!o.stitched&&!u&&!t&&e>.1&&!s&&function(){switch(l.p.experiments.getAndTrackAssignment("AD_LOUDNESS_REAL_TIME")){case vb.AlwaysAdjust:return!0;case vb.OnlyDown:return!!(i&&-10.98>i.loudness);default:return!1}}()&&n}),[i,c,o,u,t,s]),m=Object(r.useCallback)((function(){return c&&function(){switch(l.p.experiments.getAndTrackAssignment("AD_LOUDNESS_REAL_TIME")){case vb.AlwaysAdjust:case vb.OnlyDown:return!0;default:return!1}}()&&!s}),[s,c]);return{shouldAdjustVolume:p,getAdjustedVolume:Object(r.useCallback)((function(e){return function(e){var t=e.playerVolume,n=e.streamLoudness,i=e.adLoudness;if(!n||!i)return null;var a=8.6901,r=a*Math.log(t)-.0029+(n-i),o=Math.exp((r+.0029)/a);return o===1/0?1/0:o>1?1:+o.toFixed(10)}({playerVolume:e,streamLoudness:i&&i.loudness,adLoudness:-10.98})}),[i]),getInitialVolume:Object(r.useCallback)((function(){return n}),[n]),shouldResetVolumeOnContentResume:m}};var bb="lastAdDisplay",yb="lastPrerollAdDisplay";var kb=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onContentResumeRequested=function(e){var n={stitched:!1};t.track(T.SpadeEventType.VideoAdContentResumeRequested,e,n),t.trackRad(db.a.VideoAdPodComplete,e,n),t.clearMetadataAndRestartMediaPlayer()},t.onPlaying=function(){t.props.updateAdPlaying(!0)},t.onPaused=function(){t.props.updateAdPlaying(!1)},t.onContentPauseRequested=function(e){var n=t.props,i=n.ended,a=n.isLiveContent,r=n.mediaPlayerInstance,o=t.props,s=o.volume,l=o.muted,c=void 0!==s?s:.5;e.videoAd.setVolume(c),t.props.updateAdVolume(c),l&&(e.videoAd.setMuted(!0),t.props.updateAdMuted(!0)),a?(null==r?void 0:r.isMuted())||null==r||r.setMuted(!0):i||null==r||r.pause()},t.onLoad=function(e){t.track(T.SpadeEventType.VideoAdLoaded,e,{player_mute:!!t.props.muted,player_volume:+(t.props.volume||0).toFixed(10)})},t.onVolumeChanged=function(e){t.props.updateAdVolume(e.volume)},t.onStart=function(e){var n=e.adInfo&&e.adInfo.adPodInfo;t.props.startClientSideAd({position:n&&n.adPosition||1,numberOfAds:n&&n.totalAds||1})},t.onComplete=function(e){t.trackQuartileEvent(e);var n;t.track(T.SpadeEventType.VideoAdImpressionComplete,e,{stitched:!1}),void 0===(n=Date.now())&&(n=Date.now()),l.p.storage.set(bb,n);var i,a,r=t.props.videoAdRequest&&t.props.videoAdRequest.status===le.a.Filled?t.props.videoAdRequest:void 0;r&&r.broadcaster&&(i=r.broadcaster.id,void 0===(a=Date.now())&&(a=Date.now()),l.p.storage.set(yb,{channelId:i,time:a}))},t.onSkipped=function(e){t.track(T.SpadeEventType.VideoAdSkipped,e)},t.onProgress=function(e){t.track(T.SpadeEventType.VideoAdTimeElapsed,e,{time_elapsed:e.progress})},t.onImpression=function(e){var n=t.props,i=n.shouldAdjustVolume,a=n.getAdjustedVolume,r=n.setVolume,o=e.videoAd.getVolume(),s=Date.now(),l=a(o),c=Math.max(l||0,.1),d=i(o),u=d?c:o;d&&(t.props.logger.withCategory("AdLoudness").debug("Adjusting ad volume at impression",{nextVolume:c,impressionVolume:o}),r(c));var p={request_to_impression_latency:s-e.request.requestTime,pre_impression_player_volume:o,player_volume:+(u||0).toFixed(10)};t.trackRad(db.a.VideoAdImpression,e,p),t.track(T.SpadeEventType.VideoAdImpression,e,p)},t.onError=function(e){var n={reason:e.reason,error_code:e.errorCode,error_type:e.errorType};t.props.trackVideoAdData(T.SpadeEventType.VideoAdError,n),t.props.trackVideoRAdEvent(db.a.VideoAdError,n),t.clearMetadataAndRestartMediaPlayer()},t.clearMetadataAndRestartMediaPlayer=function(){var e=t.props,n=e.shouldResetVolumeOnContentResume,i=e.mediaPlayerInstance,a=e.getInitialVolume,r=e.setVolume,o=e.audioBlocked,s=e.paused,l=e.ended,c=e.adMuted,d=e.adVolume,u=a(),p=n();p&&u&&(t.props.logger.withCategory("AdLoudness").debug("Adjusting ad volume at resume",{nextVolume:u}),r(u)),p||void 0===d||null==i||i.setVolume(d),c!==!!(null==i?void 0:i.isMuted())&&(c?null==i||i.setMuted(!0):o||null==i||i.setMuted(!1)),s&&!l&&(null==i||i.play()),t.props.reset()},t.buildTrackingPayload=function(e,n){return Object(i.__assign)({player_mute:!!t.props.adMuted,player_volume:+(t.props.adVolume||0).toFixed(10),visible:"visible"===document.visibilityState,ad_id:e.adInfo&&e.adInfo.adID,ad_position:e.adInfo&&e.adInfo.adPodInfo&&e.adInfo.adPodInfo.adPosition,duration:e.adInfo&&e.adInfo.duration,ad_system:e.adInfo&&e.adInfo.adSystem,creative_id:e.adInfo&&e.adInfo.creativeID,total_ads:e.adInfo&&e.adInfo.adPodInfo&&e.adInfo.adPodInfo.totalAds,title:e.adInfo&&e.adInfo.title,stitched:!1},n)},t.track=function(e,n,i){var a=t.buildTrackingPayload(n,i);t.props.trackVideoAdData(e,a)},t.trackRad=function(e,n,i){var a=t.buildTrackingPayload(n,i);t.props.trackVideoRAdEvent(e,a)},t.trackQuartileEvent=function(e){var n={quartile:e.quartile};t.trackRad(db.a.VideoAdQuartileComplete,e,n),t.track(T.SpadeEventType.VideoAdQuartileComplete,e,n)},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.props.adEvents.addEventListener;e(b.ContentPauseRequested,this.onContentPauseRequested),e(b.ContentResumeRequested,this.onContentResumeRequested),e(b.Complete,this.onComplete),e(b.Error,this.onError),e(b.FirstQuartile,this.trackQuartileEvent),e(b.Impression,this.onImpression),e(b.Loaded,this.onLoad),e(b.Midpoint,this.trackQuartileEvent),e(b.Paused,this.onPaused),e(b.Progress,this.onProgress),e(b.Resumed,this.onPlaying),e(b.Skipped,this.onSkipped),e(b.Started,this.onStart),e(b.ThirdQuartile,this.trackQuartileEvent),e(b.VolumeChanged,this.onVolumeChanged)},t.prototype.render=function(){return null},t}(r.Component),Sb=Object(s.d)(v(),Object(cb.a)(),(function(e){var t=function(t){var n=hb();return r.createElement(e,Object(i.__assign)({},t,n))};return t.displayName=Object(m.a)("WithAdLoudness",e),t}),Object(f.c)((function(e){var t=e.muted,n=e.volume,i=e.videoAdMetadata,a=e.videoAdRequest,r=e.reset,o=e.startClientSideAd,s=e.updateAdVolume,l=e.updateAdMuted,c=e.updateAdPlaying;return{adMuted:t,adVolume:n,reset:r,videoAdMetadata:i,videoAdRequest:a,startClientSideAd:o,updateAdVolume:s,updateAdMuted:l,updateAdPlaying:c}})),Object(k.c)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance,paused:Object(fe.h)(e),volume:e.volume,muted:e.muted,audioBlocked:e.audioBlocked,ended:Object(fe.g)(e),logger:e.logger}})),Object(E.e)((function(e){return{setVolume:e.setVolume}})),Object(S.c)((function(e){var t=e.content;return{isLiveContent:Object(A.s)(t)}})))(kb);var Eb,Cb,Ob,_b=n("IMms");!function(e){e.Paused="AdPaused",e.Playing="AdPlaying",e.Stopped="AdStopped",e.VideoComplete="AdVideoComplete",e.VideoFirstQuartile="AdVideoFirstQuartile",e.VideoMidpoint="AdVideoMidpoint",e.VideoStart="AdVideoStart",e.VideoThirdQuartile="AdVideoThirdQuartile",e.VolumeChanged="AdVolumeChanged"}(Eb||(Eb={})),function(e){e.Start="start",e.FirstQuartile="first-quartile",e.Midpoint="midpoint",e.ThirdQuartile="third-quartile",e.Complete="complete"}(Cb||(Cb={})),function(e){e.Stitched="stitched",e.VAES="vaes"}(Ob||(Ob={}));var wb=5e3;function Pb(e){var t=e.clearMoatAnalytics,n=e.initializeMoatAnalytics,i=e.trackMoatEvent,a=e.currentMoatAnalyticsType,o=r.useCallback((function(e){a===Ob.VAES&&i(e)}),[a,i]);yt(b.Loaded,r.useCallback((function(e){(function(e){return!(!e.request.server||e.request.server!==h.VAES)})(e)&&e.adInfo&&n({type:Ob.VAES,duration:e.request.duration,adCfId:e.adInfo.adCfId,advertiserCfId:e.adInfo.advertiserCfId,campaignCfId:e.adInfo.campaignCfId,creativeCfId:e.adInfo.creativeCfId})}),[n])),yt(b.Progress,r.useCallback((function(){return o(Eb.Playing)}),[o])),yt(b.Paused,r.useCallback((function(){return o(Eb.Paused)}),[o])),yt(b.VolumeChanged,r.useCallback(Object(_b.a)((function(){o(Eb.VolumeChanged)}),wb),[o])),yt(b.Started,r.useCallback((function(){return o(Eb.VideoStart)}),[o])),yt(b.FirstQuartile,r.useCallback((function(){return o(Eb.VideoFirstQuartile)}),[o])),yt(b.Midpoint,r.useCallback((function(){return o(Eb.VideoMidpoint)}),[o])),yt(b.ThirdQuartile,r.useCallback((function(){return o(Eb.VideoThirdQuartile)}),[o])),yt(b.Complete,r.useCallback((function(){return o(Eb.VideoComplete)}),[o])),yt(b.ContentResumeRequested,r.useCallback((function(){o(Eb.Stopped),t()}),[o,t]))}var Nb=n("KKiK");var Tb="unknown";function Db(e){var t=e.videoAdRequest;if(!t||t.status!==le.a.Processed&&t.status!==le.a.Filled)return Tb;var n=t.broadcaster&&t.broadcaster.login,i=t.game&&t.game.name.toLowerCase().replace(/[^a-z0-9]+/g,"_"),a=n||Tb;return i?a+" + "+i:a}var Ib,Ab,jb="www.twitch.tv",xb="twitchhostedvpaid424814161142",Lb="twitchhostedssai720355954647";function Fb(e){var t=r.useContext(f.b),n=function(){var e=r.useContext(f.b).volume,t=r.useContext(E.d),n=t.volume,i=t.muted,a=r.useRef(e),o=r.useRef(n),s=r.useRef(i);return r.useEffect((function(){a.current=e,o.current=n,s.current=i})),r.useCallback((function(e){return s.current?0:e===Ob.VAES?a.current:o.current}),[])}(),i=r.useState(null),a=i[0],o=i[1],s=r.useState(null),l=s[0],c=s[1],d=r.useCallback((function(){o(null),c(null)}),[o]),u=r.useCallback((function(t){var n=window.navigator.languages||window.navigator.language||"";e(T.SpadeEventType.VideoAdMOATViewability,{accept_languages:n,query_string:t.queryString,stitched:t.stitched,ad_server:t.adServer,provider:t.provider})}),[e]),p=r.useCallback((function(e){if(e.type===Ob.VAES){var n={level1:e.advertiserCfId,level2:e.campaignCfId,level3:e.adCfId,level4:e.creativeCfId,slicer1:jb,slicer2:Db(t)};o(Object(Nb.initMoatVAESTracking)(t.thirdPartyVideoAdElement,n,e.duration,xb,null,(function(e){return u({adServer:Ib.VAES,provider:Ab.Amazon,stitched:!1,queryString:e})}))),c(Ob.VAES)}else if(e.type===Ob.Stitched){n={level1:e.advertiserId,level2:e.campaignId,level3:e.adId,level4:e.creativeId,slicer1:jb,slicer2:Db(t)};o(Object(Nb.initMoatNativeTracking)(t.thirdPartyVideoAdElement,n,e.duration,Lb,null,(function(e){return u({adServer:Ib.VAES,provider:Ab.Fring,stitched:!0,queryString:e})}))),c(Ob.Stitched)}}),[o,t,u]),m=r.useCallback((function(e,t){if(void 0===t&&(t={}),a){var i=void 0===t.volume?n(l):t.volume;a.dispatchEvent({adVolume:i||0,type:e})}}),[a,n,l]);return{moatAnalytics:a,currentMoatAnalyticsType:l,initializeMoatAnalytics:p,clearMoatAnalytics:d,trackMoatEvent:m}}function Mb(e){if(e)return e.status===le.a.Filled||e.status===le.a.Processed?e.server:void 0}!function(e){e.VAES="vaes"}(Ib||(Ib={})),function(e){e.Amazon="amazon",e.Fring="fring"}(Ab||(Ab={}));var Rb,Vb=5e3;!function(e){e.StartTracking="start-tracking",e.StopTracking="stop-tracking",e.Track="track",e.TrackStart="track-start",e.TrackFirstQuartile="track-first-quartile",e.TrackMidpoint="track-midpoint",e.TrackThirdQuartile="track-third-quartile",e.TrackComplete="track-complete"}(Rb||(Rb={}));var Bb=function(e,t){var n;switch(t.type){case Rb.StartTracking:return Object(i.__assign)(Object(i.__assign)({},e),{hasTracked:{start:!1,firstQuartile:!1,midpoint:!1,thirdQuartile:!1,complete:!1},currentAd:{duration:t.adDuration,startTime:t.adStartTime}});case Rb.StopTracking:return Object(i.__assign)(Object(i.__assign)({},e),{currentAd:null});case Rb.Track:return e.currentAd?Object(i.__assign)(Object(i.__assign)({},e),{hasTracked:Object(i.__assign)(Object(i.__assign)({},e.hasTracked),(n={},n[t.quartile]=!0,n))}):e;default:return e}};function Ub(e){var t,n,i,a,o=e.initializeMoatAnalytics,s=e.trackMoatEvent,l=e.clearMoatAnalytics,c=e.currentMoatAnalyticsType,d=r.useCallback((function(e,t){void 0===t&&(t={}),c===Ob.Stitched&&s(e,t)}),[s,c]),u=function(e){var t=r.useContext(k.b).mediaPlayerInstance,n=r.useReducer(Bb,{hasTracked:{start:!1,firstQuartile:!1,midpoint:!1,thirdQuartile:!1,complete:!1},currentAd:null}),i=n[0],a=n[1],o=r.useCallback((function(e){a({type:Rb.StartTracking,adDuration:e.adDuration,adStartTime:e.adStartTime})}),[a]),s=r.useCallback((function(){a({type:Rb.StopTracking})}),[a]),l=r.useCallback((function(t){e(t,s)}),[e,s]),c=r.useCallback((function(){if(i.currentAd&&t){var e=t.getPosition(),n=i.currentAd,r=n.duration,o=(r+n.startTime-e)/r;0<o&&o<=.02?i.hasTracked.complete||(a({type:Rb.Track,quartile:"complete"}),l(Cb.Complete)):o<.25?i.hasTracked.thirdQuartile||(a({type:Rb.Track,quartile:"thirdQuartile"}),l(Cb.ThirdQuartile)):o<.5?i.hasTracked.midpoint||(a({type:Rb.Track,quartile:"midpoint"}),l(Cb.Midpoint)):o<.75?i.hasTracked.firstQuartile||(a({type:Rb.Track,quartile:"firstQuartile"}),l(Cb.FirstQuartile)):o<.99&&(i.hasTracked.start||(a({type:Rb.Track,quartile:"start"}),l(Cb.Start)))}}),[i,t,l]);return Object(D.a)(C.f.TIME_UPDATE,c),{startStitchedQuartileTracking:o,stopStitchedQuartileTracking:s}}(r.useCallback((function(e,t){switch(e){case Cb.Start:d(Eb.VideoStart);break;case Cb.FirstQuartile:d(Eb.VideoFirstQuartile);break;case Cb.Midpoint:d(Eb.VideoMidpoint);break;case Cb.ThirdQuartile:d(Eb.VideoThirdQuartile);break;case Cb.Complete:d(Eb.VideoComplete),t(),l()}}),[d,l])),p=u.startStitchedQuartileTracking,m=u.stopStitchedQuartileTracking;t=r.useCallback((function(e){var t=e.adMetadata,n=e.adServer,i=e.startTime;p({adDuration:t.duration,adStartTime:i}),o({type:Ob.Stitched,duration:t.duration,adId:t.lineItemId,creativeId:t.creativeId,advertiserId:t.advertiserId,campaignId:t.orderId,adServer:n})}),[o,p]),n=r.useRef(),i=r.useContext(f.b),a=r.useContext(k.b).mediaPlayerInstance,r.useEffect((function(){i.videoAdMetadata&&i.videoAdMetadata.stitched&&(n.current&&n.current.videoAdMetadata===i.videoAdMetadata||!a||t({adMetadata:i.videoAdMetadata,adServer:Mb(i.videoAdRequest),startTime:a.getPosition()}))}),[n,i,t,a]),r.useEffect((function(){n.current=i}),[i]),function(e){var t=r.useContext(k.b).mediaPlayerInstance,n=r.useCallback(Object(_b.a)((function(){var n=t&&t.isMuted()?0:t&&t.getVolume();e(n)}),Vb),[e,t]);Object(D.a)(C.f.VOLUME_CHANGED,n),Object(D.a)(C.f.MUTED_CHANGED,n)}(r.useCallback((function(e){d(Eb.VolumeChanged,{volume:e})}),[d])),function(e){var t=r.useRef(),n=r.useContext(E.d),i=e.onPlay,a=e.onPause;r.useEffect((function(){t.current?!t.current.isPlaying&&n.isPlaying?i():t.current.isPlaying&&!n.isPlaying&&a():n.isPlaying?i():a()}),[t,n,i,a]),r.useEffect((function(){t.current=n}),[n])}({onPlay:r.useCallback((function(){d(Eb.Playing)}),[d]),onPause:r.useCallback((function(){d(Eb.Paused)}),[d])}),r.useEffect((function(){var e=function(){d(Eb.Stopped),m(),l()};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),[d,m,l])}var qb=Object(cb.a)()((function(e){var t=Fb(e.trackVideoAdData);return Pb(t),Ub(t),null})),Gb="live-video-net-metadata",Hb="pbyp-preflight",Wb=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMetadata=function(e){try{if("text/json"===e.type){var n=void 0;try{n=JSON.parse(e.data)}catch(e){return void l.p.logger.warn("failed to parse pbyp metadata")}if(!n)return void l.p.logger.warn("failed to parse pbyp metadata");if(n.CLASS===Gb&&n["X-NET-LIVE-VIDEO-METADATA-TYPE"]===Hb){var i=(n["X-NET-LIVE-VIDEO-METADATA-PBYP-WEIGHTED-BUCKETS"]||"").split(","),a={jitterTime:parseInt(n["X-NET-LIVE-VIDEO-METADATA-PBYP-JITTER-TIME"]||"",10),jitterBuckets:parseInt(n["X-NET-LIVE-VIDEO-METADATA-PBYP-JITTER-BUCKETS"]||"",10),warmupTime:parseInt(n["X-NET-LIVE-VIDEO-METADATA-PBYP-WARMUP-TIME"]||"",10),commercialId:n["X-NET-LIVE-VIDEO-METADATA-PBYP-COMMERCIAL-ID"]||"",weightedBuckets:i.map((function(e){return parseFloat(e)}))},r=a.weightedBuckets.reduce((function(e,t){return e+t}));isNaN(a.jitterTime)||isNaN(a.jitterBuckets)||isNaN(a.warmupTime)||!a.commercialId||1!==r||t.props.onMainPlayerHLSTrigger(a)}}}catch(e){l.p.logger.errorAndReport(e,"Unable to create metadata for pbyp preflight.")}},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(C.f.METADATA,this.onMetadata)},t.prototype.render=function(){return null},t}(r.Component),zb=Object(s.d)(Object(Av.c)((function(e){return{onMainPlayerHLSTrigger:e.onMainPlayerHLSTrigger}})),Object(y.a)())(Wb);var Qb=n("wUQP"),Kb=n("4pKX"),Yb=Object(s.d)(Object(S.c)((function(e){return{content:e.content}})),Object(B.a)(Kb,{props:function(e){var t=e.data;return{broadcastType:Xb(t),adProperties:$b(t)}},options:function(e){var t=e.content;return{variables:{isVOD:!!Object(A.t)(t)||!(!Object(A.p)(t)||!t.vodID),vodID:Object(A.n)(t)||"",isCollection:!!Object(A.p)(t)&&!t.vodID,collectionID:!Object(A.n)(t)&&Object(A.d)(t)||""}}}}))((function(e){var t=r.useContext(f.b),n=t.videoAdMetadata,i=t.requestAd,a=r.useContext(E.d).isPlaying,o=e.adProperties,s=e.broadcastType,l=o&&o.hasVodAdsEnabled,c=o&&o.vodArchiveMidrolls,d=o&&o.vodArchiveMidrollsBreakLength,u=o&&o.vodArchiveMidrollsFrequency,p=s===X.H.ARCHIVE||s===X.H.PAST_PREMIERE,m=r.useCallback((function(){i({roll:le.b.Mid,duration:d||30})}),[i,d]),v=bt(6e4*(u||0),m),g=v.start,h=v.pause,b=v.stop,y=!(l&&u&&p&&"inserted"===c&&!n);return r.useEffect((function(){y?b():a?g():h()}),[y,a,g,b,h]),null}));function $b(e){return e?e.video?e.video.owner&&e.video.owner.adProperties:e.collection?e.collection.owner&&e.collection.owner.adProperties:null:null}function Xb(e){if(!e)return null;if(e.video)return e.video.broadcastType;if(e.collection){var t=e.collection&&e.collection.items&&e.collection.items.edges,n=t&&Object(L.f)(t);if(n&&n.length>0)return n[0].broadcastType}return null}var Jb=function(){var e=r.useContext(f.b).requestAd,t=r.useContext(k.b),n=r.useContext(S.b).content,i=t.hasPlayed,a=t.logger,o=Object(fe.d)(t),s=r.useRef(o),l=r.useRef(i),c=Object(A.o)(n);Object(D.a)(C.e.ID3,r.useCallback((function(t){if(!Object(A.s)(n)||!Object(Qb.c)("VLM_HLS_Midrolls")){var i=Hh(t);i&&e({roll:le.b.Mid,duration:+i.duration,broadcasterInitiated:!0,commercialID:i.commercialID})}}),[e,n])),Object(D.a)(C.f.METADATA,r.useCallback((function(t){if(Object(Qb.c)("VLM_HLS_Midrolls"))try{if("text/json"===t.type){var n=void 0;try{n=JSON.parse(t.data)}catch(e){return void a.warn("failed to parse client ad metadata")}if(!n)return void a.warn("failed to parse client ad metadata");if("twitch-client-ad"===n.CLASS&&n["X-TV-TWITCH-AD-COMMERCIAL-ID"]&&n["PLANNED-DURATION"]){var i=parseInt(n["PLANNED-DURATION"],10);e({duration:i,roll:le.b.Mid,broadcasterInitiated:!0,commercialID:n["X-TV-TWITCH-AD-COMMERCIAL-ID"],isVLM:"1"===n["X-TV-TWITCH-AD-VLM"]})}}}catch(e){a.errorAndReport(e,"Unable to create request for client side ad.")}}),[a,e])),r.useEffect((function(){!o&&s.current?(e({roll:le.b.Pre,duration:30}),s.current=!1):o&&(s.current=!0)}),[o,s,e]),Object(D.a)(C.g.ENDED,r.useCallback((function(){i&&Object(A.s)(n)&&e({roll:le.b.Post,duration:30})}),[e,i,n]));var d=r.useRef(!1);return Object(D.a)(C.g.READY,r.useCallback((function(){return d.current=!0}),[])),Object(D.a)(C.f.DURATION_CHANGED,r.useCallback((function(){if(d.current){var t={roll:le.b.Pre,duration:30,forced:!1};d.current=!1,e(function(e){var t=$.parse(e);if(!t.force_preroll&&!t.force_midroll&&!t.force_postroll)return null;var n={duration:30,forced:!0,roll:le.b.Pre};t.force_midroll&&(n.roll=le.b.Mid,n.duration=parseInt(t.force_midroll,10)||30);t.force_postroll&&(n.roll=le.b.Post);return n}(window.location.search)||t)}}),[e])),r.useEffect((function(){!i||l.current||c||e({roll:le.b.Pre,duration:30}),l.current=i}),[e,i,c]),r.createElement(Yb,null)};var Zb,ey,ty=n("7aRD"),ny=n("Tf2u"),iy=n("b6Yk"),ay=Object(s.d)(Object(S.c)((function(e){var t=e.content;return{channelLogin:Object(A.s)(t)&&t.channelLogin}})),Object(B.a)(ny,{options:function(e){return{variables:{login:e.channelLogin||""}}},skip:function(e){return!e.channelLogin}}))((function(e){var t=e.data,n=Object(o.e)((function(e){var t;return null===(t=e.session.user)||void 0===t?void 0:t.id})),a=Object(o.e)((function(e){var t;return null===(t=e.session.user)||void 0===t?void 0:t.login})),s=t&&t.user&&t.user.adProperties&&t.user.adProperties.costreamers,c=r.useMemo((function(){return!!(n&&s&&s.some((function(e){return e&&e.id===n})))}),[n,s]);return Object(D.a)(C.e.ID3,r.useCallback((function(e){var t,r=Hh(e);r&&c&&n&&a&&(t={channelID:n,channelLogin:a,duration:+r.duration,spliceEventID:r.spliceEventID,availNum:r.availNum},Object(i.__awaiter)(void 0,void 0,void 0,(function(){var e,n,a,r,o,s,c;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return e=t.channelID,n=t.channelLogin,a=t.duration,r=t.spliceEventID,o=t.availNum,s="/v5/channels/"+e+"/commercial",[4,iy.a.post(s,{body:{channelID:e,length:a,channelLogin:n,splice_event_id:r,avail_num:o}})];case 1:return 200===(c=i.sent()).status&&c.body||l.k.errorAndReport(new Error("Failed to start TNF commercial"),"Failed to start TNF commercial"),[2]}}))})))}),[n,a,c])),null})),ry=n("Tji9"),oy=n("N8Jd"),sy=60,ly=3e5,cy=3e4;!function(e){e.Final="final",e.Enhanced="enhanced",e.Control="control"}(ey||(ey={}));var dy="broadcaster";function uy(e){return Object(i.__awaiter)(this,void 0,Promise,(function(){var t,n,a,r,o,s,c;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return t=l.p.experiments.getAndTrackAssignment("grandpere"),n=t===ey.Final,a=t===ey.Enhanced,n||a?[4,vy(e)]:[3,2];case 1:return o=i.sent(),[3,3];case 2:o=null,i.label=3;case 3:return r=o,n&&r&&!r.error?[2,{shouldDecline:!!r.reason&&!e.request.forced,trackingEvent:T.SpadeEventType.VideoAdRequestServerDeclined,trackingProperties:{reason:r.reason},serverError:null,radToken:r.radToken}]:(s=function(e){var t=e.request,n=e.props,i=new Set,a=$.parse(window.location.search),r=Date.now(),o=n.video,s=n.broadcaster,c=n.currentUser,d=t.roll===le.b.Pre,u=t.roll===le.b.Mid,p=t.roll===le.b.Post,m=l.p.storage.get(bb,0),f=l.p.storage.get(yb,{channelId:null,time:0}),v=s&&s.adProperties;n.declineVideoAdsReason&&i.add(n.declineVideoAdsReason);t.roll===le.b.Pre&&n.content.type===U.a.Live&&c&&s&&c.id===s.id&&i.add(ry.b.BroadcasterPreroll);o&&o.lengthSeconds&&o.lengthSeconds<sy&&t.roll===le.b.Pre&&i.add(ry.b.ShortVideo);d&&o&&s&&c&&s.id===c.id&&i.add(ry.b.VODCreator);c&&c.hasTurbo&&i.add(ry.b.Turbo);d&&r-m<ly&&i.add(ry.b.RateLimitPreroll);u&&s&&f.channelId===s.id&&r-f.time<cy&&i.add(ry.b.RateLimitMidroll);s&&s.self&&s.self.subscriptionBenefit&&s.self.subscriptionBenefit.product&&s.self.subscriptionBenefit.product.hasAdFree&&i.add(ry.b.AdFreeChannelSubscription);var g=v&&d&&v.hasPrerollsDisabled,h=v&&p&&v.hasPostrollsDisabled;(g||h)&&i.add(ry.b.AdFreeChannel);d&&"raid"===a.referrer&&i.add(ry.b.Raid);o&&u&&v&&t.broadcasterInitiated&&o.broadcastType===X.H.ARCHIVE&&v.vodArchiveMidrolls!==dy&&i.add(ry.b.BroadcasterInitiatedVODMidroll);o&&v&&!v.hasVodAdsEnabled&&i.add(ry.b.AdFreeVOD);d&&o&&n.embeddedPromotionalVOD&&i.add(ry.b.EmbedPromo);return i}(e),c=null,r&&r.reason&&s.add(r.reason),r&&r.error&&(c=r.error),[2,{shouldDecline:!!s.size&&!e.request.forced,trackingEvent:T.SpadeEventType.VideoAdRequestDeclined,trackingProperties:py(s),serverError:c,radToken:r?r.radToken:null}])}}))}))}function py(e){return[ry.b,ry.a].reduce((function(t,n){return Object.values(n).forEach((function(n){t[n]=e.has(n)})),t}),{})}var my=((Zb={})[le.b.Pre]=X.e.PREROLL,Zb[le.b.Mid]=X.e.MIDROLL,Zb[le.b.Post]=X.e.POSTROLL,Zb),fy=function(e){switch(e){case U.a.Live:return X.d.LIVE;case U.a.VOD:case U.a.Collection:return X.d.VOD;default:return null}};function vy(e){var t=e.request,n=e.props;return Object(i.__awaiter)(this,void 0,Promise,(function(){var e,a,r,o,s,c,d,u,p,m,f;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(e=n.videoAccessToken,a=n.disableAutoplay,r=n.content,o=fy(r.type),!e)return[2,{reason:null,error:{context:"GrandDAds",error:"invalid request - nauth",details:"no nauth token present"},radToken:null}];if(!o)return[2,{reason:null,error:{context:"GrandDAds",error:"invalid request - content type",details:"invalid content type"},radToken:null}];s=null,n.mediaPlayerInstance&&(s=n.mediaPlayerInstance.getSessionData()["VIDEO-SESSION-ID"]),c={adSessionID:t.sessionID,clientContext:{isAudioOnly:!1,isMiniTheater:!1,isPIP:!1,isUsingExternalPlayback:!1},duration:t.duration,playerContext:{contentType:o,isAutoPlay:!a,nauthSig:e.sig||"",nauthToken:e.token||"",videoSessionID:s},rollType:my[t.roll],isVLM:!!t.isVLM,commercialID:t.commercialID||""},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,l.p.apollo.client.query({query:oy,fetchPolicy:"network-only",variables:{context:c}})];case 2:return d=i.sent(),u=d.data.adContext,p=(null==u?void 0:u.radToken)||null,m=null,d.errors&&d.errors.length&&(m={context:"GrandDAds",error:"server error",details:d.errors.toString()}),[2,{reason:u&&u.declineState.reason,error:m,radToken:p}];case 3:return[2,{reason:null,error:{context:"GrandDAds",error:(f=i.sent()).message,details:f.stack.toString()},radToken:null}];case 4:return[2]}}))}))}var gy=n("9E+/");function hy(e,t){var n,i=t.game,a=t.broadcaster,r=t.embed,o={game:ky(null!==(n=null==i?void 0:i.name)&&void 0!==n?n:""),chan:a&&a.login,chanid:a&&a.id,twitchcorrelator:e.twitchCorrelator,embed:r,platform:"web",mature:!!(a&&a.broadcastSettings&&a.broadcastSettings.isMature),pos:by(e.roll),timebreak:e.duration,tag:yy(t)},s=a&&a.roles;return s&&s.isPartner?o.chantype="partner":s&&s.isAffiliate?o.chantype="affiliate":o.chantype="basic",o}function by(e){switch(e){case le.b.Mid:return 2;case le.b.Post:return 3;default:return 1}}function yy(e){var t=e.broadcaster,n=e.video,a=e.content,r=[];return a.type!==U.a.Live&&n&&n.contentTags&&(r=Object(i.__spreadArrays)(r,n.contentTags)),a.type===U.a.Live&&t&&t.stream&&t.stream.tags&&(r=Object(i.__spreadArrays)(r,t.stream.tags)),a.type===U.a.Live&&t&&t.stream&&t.stream.game&&t.stream.game.tags&&(r=Object(i.__spreadArrays)(r,t.stream.game.tags)),r.map((function(e){return ky(e.tagName.toLowerCase())})).join("|")}function ky(e){return e.toLowerCase().replace(/[^a-z0-9]+/g,"_")}function Sy(e){return e.collection?e.collection&&e.collection.owner:e.video?e.video&&e.video.owner:e.user}function Ey(e){if(e.collection){var t=e.collection&&e.collection.items&&e.collection.items.edges,n=t&&Object(L.f)(t);if(n&&n.length>0)return n[0]}return e.video}function Cy(e){var t=Sy(e),n=t&&t.adProperties;if(n)return n.adServerDefault||h.DFP}function Oy(e){var t=Sy(e),n=Ey(e);return n?n.game:t&&t.stream?t.stream.game:void 0}var _y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.requestInProcess=null,t.handleNewVideoAdRequest=function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var e,t,n,a,r,o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return e=this.props,t=e.videoAdRequest,n=e.server,a=e.processAdRequest,r=e.reset,!t||t.status!==le.a.Pending||this.requestInProcess===t||this.props.loading?[2]:(this.requestInProcess=t,[4,uy({request:t,props:this.props})]);case 1:if((o=i.sent()).serverError&&this.props.trackVideoAdData(T.SpadeEventType.VideoAdRelatedError,o.serverError),this.props.setRadToken(o.radToken),this.props.videoAdRequest!==t)return[2];if(!o.shouldDecline||t.forced)switch(n){case h.VAES:return a(t,(s=t,l=lb.Amazon,c=this.props,{sdk:l,content:c.content,playerType:c.playerType,broadcaster:c.broadcaster,currentUser:c.currentUser,game:c.game,video:c.video,server:c.server,tagParams:hy(s,c)})),[2];default:return r(),[2]}return this.props.trackVideoAdData(o.trackingEvent,o.trackingProperties),o.trackingEvent===T.SpadeEventType.VideoAdRequestDeclined&&this.props.trackVideoRAdEvent(db.a.VideoAdRequestDeclined,o.trackingProperties),this.props.reset(),[2]}var s,l,c}))}))},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.handleNewVideoAdRequest()},t.prototype.componentDidUpdate=function(){this.handleNewVideoAdRequest()},t.prototype.render=function(){return null},t}(r.Component),wy=Object(s.d)(Object(S.c)((function(e){var t=Object(_.a)({playerPublicPropsContext:e});return{content:e.content,declineVideoAdsReason:t.declineVideoAdsReason,embeddedPromotionalVOD:t.embeddedPromotionalVOD,playerType:e.type,embed:!!t.embed,disableAutoplay:t.disableAutoplay}})),Object(cb.a)(),Object(f.c)((function(e){var t=e.videoAdRequest,n=e.processAdRequest,i=e.setRadToken,a=e.reset;return{videoAdRequest:t,reset:a,setRadToken:i,processAdRequest:n}})),Object(k.c)((function(e){var t=e.videoAccessToken,n=e.mediaPlayerInstance;return{videoAccessToken:t,mediaPlayerInstance:n}})),Object(B.a)(gy,{props:function(e){return{broadcaster:(t=e.data)&&Sy(t)||null,currentUser:t&&t.currentUser||null,error:t&&t.error,game:t&&Oy(t)||null,inputVariables:t&&t.variables,loading:!(!t||!t.loading),server:t&&Cy(t),video:t&&Ey(t)||null};var t},options:function(e){var t=e.content;return{variables:{isLive:!!Object(A.s)(t),login:Object(A.b)(t)||"",isVOD:!!Object(A.t)(t)||!(!Object(A.p)(t)||!t.vodID),vodID:Object(A.n)(t)||"",isCollection:!!Object(A.p)(t)&&!t.vodID,collectionID:!Object(A.n)(t)&&Object(A.d)(t)||""}}}}))(_y);var Py,Ny=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return r.createElement(Zh,null,r.createElement(Jb,null),r.createElement(wy,null),r.createElement(gb,null),r.createElement(Sb,null),r.createElement(ib,null),r.createElement(ay,null),r.createElement(ty.b,null),r.createElement(qb,null),r.createElement(zb,null))},t}(r.Component),Ty=Object(c.a)({name:"VideoAds"})(Ny),Dy=n("lrez");!function(e){e.Failure="failure",e.Skipped="skipped",e.Success="success"}(Py||(Py={}));var Iy=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={lastStreamUpServerTime:0},t.vp9Disabled=!1,t.logger=t.props.logger.withCategory("on-video-source-props-changed"),t.retryVP9Error=function(e,n){return Object(i.__awaiter)(t,void 0,Promise,(function(){var t,a,r,o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return(t=this.props.mediaPlayerInstance)?(a=t.getQuality().codecs,r=e===C.b.DECODER,o=(e===C.b.MASTER_PLAYLIST||e===C.b.MEDIA_PLAYLIST||e===C.b.PLAYLIST)&&n>=500,a.includes(Jg)&&(r||o)?(this.vp9Disabled=!0,Lg(),[4,this.setSrc()]):[3,2]):[2,!1];case 1:return[2,i.sent()===Py.Success];case 2:return[2,!1]}}))}))},t.setSrc=function(e){return void 0===e&&(e={}),Object(i.__awaiter)(t,void 0,Promise,(function(){var t,n,a,r,o,s,l,c,u,p,m,f,v;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return t=this.props,n=t.mediaPlayerInstance,a=t.mediaPlayerHandle,r=t.content,o=t.updatePlayerContext,s=t.playerType,l=t.forceManifestNode,c=t.quality,u=t.qualityBitrate,this.logger.debug("setting video source props",r),o({sourceStatus:Re.a.Loading}),n?(n.pause(),p=this.props,m=!1,(null==a?void 0:a.isVP9Supported)?[4,a.isVP9Supported()]:[3,2]):(this.logger.debug("mediaplayer instance missing. Skipping."),[2,Py.Skipped]);case 1:m=i.sent(),i.label=2;case 2:return f=Object(d.c)(),[4,eh(r,s,l,o,c,u,m&&!this.vp9Disabled,!!e.refreshAccessToken,f)];case 3:return v=i.sent(),Zg(p.content,this.props.content)?(this.logger.debug("video source props have changed while getting new media player source. Skipping.",{propsRef:p,props:this.props}),[2,Py.Skipped]):this.props.mediaPlayerInstance&&this.props.mediaPlayerInstance===n?v.src?(this.props.adContextReset(),this.props.resetOnSourceChange(v,f),this.props.setClosedCaptionsAvailable(!1),this.props.mediaPlayerInstance.load(v.src),e.isNewMediaPlayerInstance&&this.setInitialPlaybackSettings(this.props.mediaPlayerInstance),this.setSrcChangedPlaybackSettings(this.props.mediaPlayerInstance),[2,Py.Success]):(o({sourceStatus:Re.a.None}),this.logger.warn("Unable to get usher src"),[2,Py.Failure]):(this.logger.warn("mediaPlayerInstance not available or changed. Skipping."),[2,Py.Skipped])}}))}))},t.setInitialPlaybackSettings=function(e){t.setInitialMutedSetting(e),t.setInitialVolumeSetting(e),t.setInitialLoopingSetting(e),t.setInitialLiveLowLatencySetting(e)},t.setSrcChangedPlaybackSettings=function(e){t.setInitialPlaybackRateSetting(e),t.setPlaybackState(e)},t.setInitialMutedSetting=function(e){if(t.props.isPlaybackRestricted)e.setMuted(!0);else{var n=t.props.disableAudio||t.props.initialMuted||Ee.b.get(Ee.a.MUTED,t.props.playerType);void 0!==n&&e.setMuted(n)}},t.setInitialVolumeSetting=function(e){var n=void 0!==t.props.initialVolume?t.props.initialVolume:Ce.b.get(Ce.a.VOLUME)||.5;e.setVolume(n)},t.setInitialPlaybackRateSetting=function(e){if(t.props.playbackRateSupported){var n=Ce.b.get(Ce.a.PLAYBACK_RATE)||"1";void 0!==n&&e.setPlaybackRate(parseFloat(n))}},t.setInitialLoopingSetting=function(e){void 0!==t.props.enableLooping&&e.setLooping(t.props.enableLooping)},t.setInitialLiveLowLatencySetting=function(e){e.setLiveLowLatencyEnabled(t.props.isLiveLowLatencyEnabled)},t.setPlaybackState=function(e){!t.props.isPlaybackRestricted&&t.props.autoplay&&e.play()},t.onError=function(e){return Object(i.__awaiter)(t,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:switch(e.type){case C.c.NOT_AVAILABLE:case C.c.AUTHORIZATION:case C.c.NOT_SUPPORTED:case C.c.NETWORK_IO:return[3,1];case C.c.NETWORK:return[3,2]}return[3,4];case 1:return[2];case 2:return[4,this.handleNetworkError(e)];case 3:return t.sent(),[2];case 4:return[4,this.handleDefaultError(e)];case 5:return t.sent(),[2]}}))}))},t.handleNetworkError=function(e){return Object(i.__awaiter)(t,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.retryVP9Error(e.source,e.code)];case 1:return t.sent()?[2]:(this.props.setError(C.a.Network),[2])}}))}))},t.handleDefaultError=function(e){return Object(i.__awaiter)(t,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return e.source!==C.b.DECODER?[3,2]:[4,this.retryVP9Error(e.source,e.code)];case 1:return t.sent()?[2]:(this.props.setError(C.a.Decode),[3,3]);case 2:this.props.setError(C.a.Aborted),t.label=3;case 3:return[2]}}))}))},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(C.f.ERROR,this.onError),this.props.mediaPlayerInstance&&this.setSrc({isNewMediaPlayerInstance:!0})},t.prototype.componentDidUpdate=function(e){var t=e.mediaPlayerInstance!==this.props.mediaPlayerInstance;(Zg(e.content,this.props.content)||t)&&(this.vp9Disabled=!1,this.setSrc({isNewMediaPlayerInstance:t})),this.checkSubsUpdate(e),this.checkStreamUp()},t.prototype.render=function(){return null},t.prototype.checkStreamUp=function(){var e=this,t=this.props.pubsub.messages.streamUp;t&&this.state.lastStreamUpServerTime<t.server_time&&this.setState({lastStreamUpServerTime:t.server_time},(function(){return e.setSrc()}))},t.prototype.checkSubsUpdate=function(e){var t=this.props,n=t.userData,i=t.pubsub,a=t.isPlaybackRestrictedByPremiumContent;n.userByAttribute&&i.messages.subscriptionInfo!==e.pubsub.messages.subscriptionInfo&&i.messages.subscriptionInfo&&i.messages.subscriptionInfo.channel_id===n.userByAttribute.id&&a&&this.setSrc({refreshAccessToken:!0})},t}(r.Component);function Ay(e){return e.userData.userByAttribute&&e.userData.userByAttribute.id?Object(Me.hb)(e.userData.userByAttribute.id):""}function jy(e){return!Object(A.s)(e.content)||!e.userData||e.userData.loading||!e.userData.userByAttribute||!e.userData.userByAttribute.id}function xy(e){return e.currentUserID?Object(Me.fb)(e.currentUserID):""}function Ly(e){return!e.currentUserID}var Fy,My=Object(s.d)(Object(o.b)((function(e){var t;return{currentUserID:null===(t=e.session.user)||void 0===t?void 0:t.id}})),Object(k.c)((function(e){var t=e.autoplay,n=e.isLiveLowLatencyEnabled,i=e.mediaPlayerHandle,a=e.mediaPlayerInstance,r=e.logger,o=e.updateContext,s=e.setError,l=e.resetOnSourceChange,c=e.quality,d=e.qualityBitrate;return{autoplay:t,isLiveLowLatencyEnabled:n,mediaPlayerHandle:i,mediaPlayerInstance:a,logger:r,updatePlayerContext:o,setError:s,resetOnSourceChange:l,quality:c,qualityBitrate:d,isPlaybackRestricted:Object(fe.d)(e),isPlaybackRestrictedByPremiumContent:Object(fe.e)(e)}})),Object(Ke.e)((function(e){return{setClosedCaptionsAvailable:e.setClosedCaptionsAvailable}})),Object(f.c)((function(e){return{adContextReset:e.resetForNewPlayerContent}})),Object(S.c)((function(e){var t,n=Object(_.c)({playerPublicPropsContext:e}),i=Object(_.a)({playerPublicPropsContext:e}),a=i.disableAudio,r=i.enableLooping,o=i.forceManifestNode,s=i.initialVolume,l=i.initialMuted;return{content:n,disableAudio:a,enableLooping:r,forceManifestNode:o,initialMuted:null!==(t=null==l?void 0:l.enabled)&&void 0!==t&&t,initialVolume:s,playerType:e.type,playbackRateSupported:Object(A.a)(n)}})),Object(y.a)(),Object(B.a)(Dy,{name:"userData",options:function(e){return{variables:(t=e.content,{input:{login:null!==(n=Object(A.g)(t))&&void 0!==n?n:null,ownsVideoID:null!==(i=Object(A.n)(t))&&void 0!==i?i:null,ownsCollectionID:null!==(a=Object(A.d)(t))&&void 0!==a?a:null,broadcasterOfClipSlug:null!==(r=Object(A.c)(t))&&void 0!==r?r:null}})};var t,n,i,a,r}}),Object(Le.a)([{topic:Ay,skip:jy,mapMessageTypesToProps:(Fy={},Fy[Fe.PubsubMessageType.ChannelStreamUp]="streamUp",Fy)},{topic:xy,skip:Ly,mapMessageTypesToProps:{"*":"subscriptionInfo"}}]))(Iy);var Ry,Vy=function(){var e=Object(r.useContext)(k.b).mediaPlayerInstance;return Object(r.useEffect)((function(){if(e&&e.startWarpExperiment){var t="enabled"===l.p.experiments.getAndTrackAssignment("WarpIPv4"),n="enabled"===l.p.experiments.getAndTrackAssignment("WarpIPv6");t&&e.startWarpExperiment(!0),n&&e.startWarpExperiment(!1)}}),[e]),null},By=n("Eh0y");function Uy(e,t){switch(t.type){case Ry.AdElementUpdated:return Object(i.__assign)(Object(i.__assign)({},e),{thirdPartyVideoAdElement:t.element});case Ry.AdStatsUpdated:return Object(i.__assign)(Object(i.__assign)({},e),{adPodStats:Object(i.__spreadArrays)(e.adPodStats,[t.stats])});case Ry.ClientSideVideoAdMuted:return Object(i.__assign)(Object(i.__assign)({},e),{muted:t.muted,userManuallyAdjustedVolumeDuringAd:t.userInitiated&&!!e.videoAdMetadata||e.userManuallyAdjustedVolumeDuringAd});case Ry.FillClientSideVideoAd:return Object(i.__assign)(Object(i.__assign)({},e),{adPodStats:[],videoAdMetadata:t.metadata,videoAdRequest:Object(i.__assign)(Object(i.__assign)({},t.request),{status:le.a.Filled})});case Ry.SetRadToken:return Object(i.__assign)(Object(i.__assign)({},e),{radToken:t.radToken});case Ry.SetRunningAdPoll:return Object(i.__assign)(Object(i.__assign)({},e),{runningAdPoll:t.runningAdPoll});case Ry.SetAdPollDrift:return Object(i.__assign)(Object(i.__assign)({},e),{adPollDrift:t.adPollDrift});case Ry.SetAdPollVisible:return Object(i.__assign)(Object(i.__assign)({},e),{adPollVisible:t.adPollVisible});case Ry.StitchedVideoAdStarted:return Object(i.__assign)(Object(i.__assign)({},e),{videoAdMetadata:t.metadata,adPodStats:[]});case Ry.ClientSideVideoAdRequested:return Object(i.__assign)(Object(i.__assign)({},e),{videoAdRequest:t.request});case Ry.ProcessClientSideVideoAdRequest:var n=Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},t.request),t.metadata),{status:le.a.Processed});return Object(i.__assign)(Object(i.__assign)({},e),{videoAdRequest:n});case Ry.ClientSideVideoAdStarted:return Object(Et.b)(e.videoAdMetadata)?Object(i.__assign)(Object(i.__assign)({},e),{videoAdMetadata:Object(i.__assign)(Object(i.__assign)({},e.videoAdMetadata),{started:!0,start:t.start,adPosition:t.position,numberOfAds:t.numberOfAds}),isPlaying:!0}):e;case Ry.ClientSideVideoAdVolumeUpdated:return Object(i.__assign)(Object(i.__assign)({},e),{volume:t.volume,userManuallyAdjustedVolumeDuringAd:t.userInitiated&&!!e.videoAdMetadata||e.userManuallyAdjustedVolumeDuringAd});case Ry.ClientSideVideoAdPlayingUpdated:return Object(i.__assign)(Object(i.__assign)({},e),{isPlaying:t.isPlaying});case Ry.Reset:return Object(i.__assign)(Object(i.__assign)({},e),{userManuallyAdjustedVolumeDuringAd:!1,videoAdMetadata:void 0,videoAdRequest:void 0,isPlaying:!1,volume:void 0,muted:void 0});case Ry.ResetForNewPlayerContent:return Object(i.__assign)(Object(i.__assign)({},e),{userManuallyAdjustedVolumeDuringAd:!1,videoAdMetadata:void 0,videoAdRequest:void 0,isPlaying:!1,volume:void 0,muted:void 0,runningAdPoll:void 0,adPollDrift:By.b,adPollVisible:!1});default:return e}}!function(e){e.AdElementUpdated="AdElementUpdated",e.AdStatsUpdated="AdStatsUpdated",e.ClientSideVideoAdMuted="ClientSideVideoAdMuted",e.ClientSideVideoAdPlayingUpdated="ClientSideVideoAdPlayingUpdated",e.ClientSideVideoAdRequested="ClientSideVideoAdRequested",e.ClientSideVideoAdStarted="ClientSideVideoAdStarted",e.ClientSideVideoAdVolumeUpdated="ClientSideVideoAdVolumeUpdated",e.FillClientSideVideoAd="FillClientSideVideoAd",e.ProcessClientSideVideoAdRequest="ProcessClientSideVideoAdRequest",e.Reset="reset",e.ResetForNewPlayerContent="ResetForNewPlayerContent",e.SetRadToken="SetRadToken",e.SetRunningAdPoll="SetRunningAdPoll",e.SetAdPollVisible="SetAdPollVisible",e.SetAdPollDrift="SetAdPollDrift",e.StitchedVideoAdStarted="StitchedVideoAdStarted"}(Ry||(Ry={}));var qy,Gy=function(e){var t=r.useReducer(Uy,f.a),n=t[0],a=t[1],o=r.useContext(k.b),s=n.videoAdMetadata,l=n.videoAdRequest,c=r.useRef(!1);c.current=!(s||l||Object(fe.d)(o)||!o.playerState||!o.mediaPlayerInstance||"true"===o.mediaPlayerInstance.getSessionData().SUPPRESS);var u=r.useRef(null);u.current=Object(Et.b)(s)?s.videoAd:null,r.useEffect((function(){return function(){u.current&&(u.current.stop(),u.current.destroy())}}),[]);var p=r.useCallback((function(e){a({type:Ry.SetRadToken,radToken:e})}),[a]),m=r.useCallback((function(e){a({type:Ry.SetRunningAdPoll,runningAdPoll:e})}),[a]),v=r.useCallback((function(e){a({type:Ry.SetAdPollDrift,adPollDrift:e})}),[a]),g=r.useCallback((function(e){a({type:Ry.SetAdPollVisible,adPollVisible:e})}),[a]),h=r.useCallback((function(e){var t=e.position,n=e.numberOfAds;a({type:Ry.ClientSideVideoAdStarted,start:Date.now(),position:t,numberOfAds:n})}),[a]),b=r.useCallback((function(e){c.current&&a({type:Ry.ClientSideVideoAdRequested,request:Object(i.__assign)(Object(i.__assign)({},e),{status:le.a.Pending,requestTime:Date.now(),twitchCorrelator:Object(d.a)(32),sessionID:Object(d.a)(30)})})}),[a]),y=r.useCallback((function(){u.current&&u.current.stop(),a({type:Ry.Reset})}),[a]),S=r.useCallback((function(){u.current&&u.current.stop(),a({type:Ry.ResetForNewPlayerContent})}),[a]),E=r.useCallback((function(e,t){a({type:Ry.ProcessClientSideVideoAdRequest,request:e,metadata:t})}),[a]),C=r.useCallback((function(e,t){a({type:Ry.FillClientSideVideoAd,metadata:e,request:t})}),[a]),O=r.useCallback((function(e){a({type:Ry.StitchedVideoAdStarted,metadata:e})}),[a]),_=r.useCallback((function(e,t){a({type:Ry.ClientSideVideoAdMuted,muted:e,userInitiated:t})}),[a]),w=r.useCallback((function(e,t){a({type:Ry.ClientSideVideoAdVolumeUpdated,volume:e,userInitiated:t})}),[a]),P=r.useCallback((function(e){a({type:Ry.ClientSideVideoAdPlayingUpdated,isPlaying:e})}),[a]),N=r.useCallback((function(e){a({type:Ry.AdElementUpdated,element:e})}),[a]),T=r.useCallback((function(e){a({type:Ry.AdStatsUpdated,stats:e})}),[a]),D=r.useMemo((function(){return Object(i.__assign)(Object(i.__assign)({},n),{fillClientSideAd:C,processAdRequest:E,requestAd:b,reset:y,resetForNewPlayerContent:S,setRadToken:p,setRunningAdPoll:m,setAdPollDrift:v,setAdPollVisible:g,startClientSideAd:h,startStitchedAd:O,updateAdElement:N,updateAdMuted:_,updateAdPlaying:P,updateAdStats:T,updateAdVolume:w})}),[n,C,E,b,y,S,p,m,v,g,h,O,N,_,P,T,w]);return r.createElement(f.b.Provider,{value:D},e.children||null)},Hy=n("5zC2"),Wy=n("HYfb");function zy(e){var t=e.extensionsForChannel;return t&&t.fetchedChannelID}function Qy(e){var t=e.extensionsForChannel;if(!t)return!1;var n=t.error,i=t.loading,a=t.installedExtensions;return!(n||i||!a||!a.length)}function Ky(e){var t=e.isMini,n=e.isVideoAdShowing,i=e.isPlaying;return!(!e.isCasting&&!t&&i&&!n)}function Yy(e){return e.reduce((function(e,t){var n=oo(t);return n&&(e[n]={identityLinkedStatus:ao(t.extension.token).identityLinkedStatus}),e}),{})}!function(e){e[e.RESET=0]="RESET",e[e.SET_OVERLAY_VISIBILITY=1]="SET_OVERLAY_VISIBILITY",e[e.OPEN_POPOVER=2]="OPEN_POPOVER",e[e.CLOSE_POPOVER=3]="CLOSE_POPOVER",e[e.SET_MENU_STATE=4]="SET_MENU_STATE",e[e.SET_PLAYER_MENU_STATE=5]="SET_PLAYER_MENU_STATE",e[e.SET_NOTIFICATION_STATE=6]="SET_NOTIFICATION_STATE"}(qy||(qy={}));var $y={isOverlayVisible:!0,menuState:{type:cr.NONE},playerMenuState:{type:cr.NONE,selectedInstallationID:null},notificationState:{type:ur.NONE},selectedExtensionID:null,hoveredExtensionID:null,permissionsStates:{}},Xy=function(e){function t(t){var n=e.call(this,t)||this;return n.computeContextProps=function(){var e=n.sortExtensions();return Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},Sr),{loginID:n.props.loginID,channelID:zy(n.props),hideExtensions:Ky(n.props),isChannelInfoVisible:n.props.isFullscreen||n.props.isTheatreMode||!!n.props.showChannelInfoOnHover}),e),{shouldMountExtensionComponents:Qy(n.props),isOverlayVisible:n.state.isOverlayVisible&&!!e.overlayExtension,permissionsStates:n.state.permissionsStates,setOverlayVisibility:n.setOverlayVisibility,openPopover:n.openPopover,closePopover:n.closePopover,togglePopover:n.togglePopover,hoverExtensionCard:n.hoverExtensionCard,setMenuState:n.setMenuState,setPlayerMenuState:n.setPlayerMenuState,setPermissionsState:n.setPermissionsState,setNotification:n.setNotification,isMenuOpen:n.isMenuOpen,isDockIconHovered:n.isDockIconHovered,getMenuState:n.getMenuState,getPlayerMenuState:n.getPlayerMenuState,getNotification:n.getNotification,isPopoverOpen:n.isPopoverOpen,isAnyPopoverOpen:n.isAnyPopoverOpen,trackEvent:n.trackEvent})},n.sortExtensions=function(){var e=function(e){var t,n=((t={})[Pr.ExtensionAnchor.Overlay]=[],t[Pr.ExtensionAnchor.Component]=[],t[Pr.ExtensionAnchor.Panel]=[],t[Pr.ExtensionAnchor.Hidden]=[],t);return e.length?(e.slice().sort((function(e,t){return Rr(e)-Rr(t)})).forEach((function(e){var t=e.activationConfig.anchor;Object.keys(Pr.ExtensionAnchor).some((function(e){return Pr.ExtensionAnchor[e]===t}))&&n[t].push(e)})),n):n}(n.installations),t=e[Pr.ExtensionAnchor.Overlay][0]||null,a=e[Pr.ExtensionAnchor.Component];return{overlayExtension:t,componentExtensions:a,allVideoExtensions:Object(i.__spreadArrays)(t?[t]:[],a)}},n.computeInitialNotificationState=function(e,t){switch(e){case ur.BITS_BALANCE:return Object(i.__assign)(Object(i.__assign)({},t),{type:ur.BITS_BALANCE,expiration:Date.now()+Mr});default:return{type:ur.NONE}}},n.computeNewState=function(e,t,a){var r="active"===l.p.experiments.getAndTrackAssignment("extension_overlay_improvement");switch(e.type){case qy.RESET:return n.defaultState;case qy.SET_OVERLAY_VISIBILITY:return Object(i.__assign)(Object(i.__assign)({},t),{isOverlayVisible:e.payload.visible});case qy.SET_NOTIFICATION_STATE:return Object(i.__assign)(Object(i.__assign)({},t),{notificationState:e.payload.notificationState});case qy.OPEN_POPOVER:var o=cr.NONE;return Vr(e.payload.installation)&&(o=cr.SETTINGS),lo(e.payload.installation,t.permissionsStates)||(o=cr.UNRELEASED),Object(i.__assign)(Object(i.__assign)({},t),{menuState:{type:o},selectedExtensionID:oo(e.payload.installation)});case qy.CLOSE_POPOVER:return Object(i.__assign)(Object(i.__assign)({},t),{menuState:{type:cr.NONE},selectedExtensionID:null});case qy.SET_MENU_STATE:return r&&Vr(e.payload.installation)&&e.payload.menuState.type===cr.MANAGE_ACCESS?Object(i.__assign)(Object(i.__assign)({},t),{playerMenuState:{type:cr.MANAGE_ACCESS,selectedInstallationID:oo(e.payload.installation)}}):e.payload.menuState.type===cr.NONE&&Vr(e.payload.installation)?Object(i.__assign)(Object(i.__assign)({},t),{menuState:{type:cr.NONE},selectedExtensionID:null}):Vr(e.payload.installation)||e.payload.menuState.type!==cr.MANAGE_ACCESS&&e.payload.menuState.type!==cr.LOGIN_REQUIRED||t.selectedExtensionID===oo(e.payload.installation)?e.payload.menuState.type!==cr.MANAGE_ACCESS||a.loginID?Object(i.__assign)(Object(i.__assign)({},t),{menuState:e.payload.menuState,selectedExtensionID:oo(e.payload.installation)}):Object(i.__assign)(Object(i.__assign)({},t),{menuState:n.addOnDestroyCallbackToMenuState(e.payload.menuState),selectedExtensionID:oo(e.payload.installation)}):t;case qy.SET_PLAYER_MENU_STATE:return Object(i.__assign)(Object(i.__assign)({},t),{playerMenuState:{type:e.payload.type,selectedInstallationID:e.payload.installation?oo(e.payload.installation):null}});default:return t}},n.getDefaultState=function(e){return e.length?Object(i.__assign)(Object(i.__assign)({},$y),{permissionsStates:Yy(e)}):$y},n.updateState=function(e,t,i){void 0===i&&(i=!1);var a=n.state;n.setState((function(i){return n.computeNewState(e,i,t||n.props)}),(function(){n.handleExpiringNotification(),i||n.handleDestroyedConfirmationRequests(a),n.props.setIsMenuShowing(n.getPlayerMenuState().type!==cr.NONE)}))},n.handleDestroyedConfirmationRequests=function(e){var t=e.menuState;t!==n.state.menuState&&(pr(t)||fr(t)||mr(t))&&t.onDestroy&&t.onDestroy(t.confirmationRequest)},n.handleExpiringNotification=function(){var e=n.state.notificationState;hr(e)?n.createExpiringNotificationTimeout(e):n.cancelExpiringNotificationTimeout()},n.cancelExpiringNotificationTimeout=function(){n.expiringNotificationTimer&&(clearTimeout(n.expiringNotificationTimer),n.expiringNotificationTimer=0)},n.createExpiringNotificationTimeout=function(e){n.cancelExpiringNotificationTimeout(),n.expiringNotificationTimer=setTimeout(n.removeExpiringNotificationIfExpired,n.remainingExpiringNotificationTime(e))},n.removeExpiringNotificationIfExpired=function(){n.cancelExpiringNotificationTimeout();var e=n.state.notificationState;hr(e)&&(0===n.remainingExpiringNotificationTime(e)&&n.updateState({type:qy.SET_NOTIFICATION_STATE,payload:{notificationState:{type:ur.NONE}}}))},n.remainingExpiringNotificationTime=function(e){var t=Date.now(),n=e.expiration;return Math.max(n-t,0)},n.setNotification=function(e,t){n.updateState({type:qy.SET_NOTIFICATION_STATE,payload:{notificationState:n.computeInitialNotificationState(e,t)}})},n.getNotification=function(){return n.state.notificationState},n.setOverlayVisibility=function(e){n.updateState({type:qy.SET_OVERLAY_VISIBILITY,payload:{visible:e}})},n.openPopover=function(e){n.updateState({type:qy.OPEN_POPOVER,payload:{installation:e}})},n.closePopover=function(e){n.updateState({type:qy.CLOSE_POPOVER,payload:{installation:e}})},n.togglePopover=function(e){n.isPopoverOpen(e)?n.closePopover(e):n.openPopover(e)},n.hoverExtensionCard=function(e){var t=e&&oo(e);n.setState((function(e){return e.hoveredExtensionID!==t?{hoveredExtensionID:t}:null})),e&&n.trackEvent(br.ExtensionDockIconHover,yr.DisplayHoverInfo,kr.ExtensionDockIconHover,e)},n.setMenuState=function(e,t,i){void 0===i&&(i=!1),n.updateState({type:qy.SET_MENU_STATE,payload:{menuState:n.addOnDestroyCallbackToMenuState(e),installation:t}},void 0,i)},n.setPlayerMenuState=function(e,t){n.updateState({type:qy.SET_PLAYER_MENU_STATE,payload:{type:e,installation:t}})},n.addOnDestroyCallbackToMenuState=function(e){return pr(e)||fr(e)||mr(e)?Object(i.__assign)(Object(i.__assign)({},e),{onDestroy:function(e){e&&e.resultCallback&&e.defaultResult&&e.resultCallback(e.defaultResult)}}):e},n.reset=function(){n.updateState({type:qy.RESET})},n.getMenuState=function(e){return n.state.selectedExtensionID===oo(e)?n.state.menuState:{type:cr.NONE}},n.getPlayerMenuState=function(){return n.state.playerMenuState},n.isMenuOpen=function(e){return n.state.selectedExtensionID===oo(e)&&n.state.menuState.type!==cr.NONE},n.isDockIconHovered=function(e){return n.state.hoveredExtensionID===oo(e)},n.isPopoverOpen=function(e){return n.state.selectedExtensionID===oo(e)},n.isAnyPopoverOpen=function(){return null!==n.state.selectedExtensionID},n.setPermissionsState=function(e,t){var a=oo(e);n.setState((function(e){var n;return{permissionsStates:Object(i.__assign)(Object(i.__assign)({},e.permissionsStates),(n={},n[a]=Object(i.__assign)(Object(i.__assign)({},e.permissionsStates[a]),t),n))}}))},n.trackEvent=function(e,t,i,a){var r=function(e){switch(e){case kr.ExtensionDockIconClick:return T.SpadeEventType.ExtensionDockIconClick;case kr.ExtensionDockMenuOptionClick:return T.SpadeEventType.ExtensionDockMenuOptionClick;case kr.ExtensionDockToolbarIconClick:return T.SpadeEventType.ExtensionDockToolbarIconClick;case kr.ExtensionDockIconHover:return T.SpadeEventType.ExtensionDockIconHover;default:return null}}(i);r&&n.props.track(r,function(e,t,n){return{action_type:e,action_result:t,extension_id:n.id,extension_name:n.extension.name,extension_type:n.activationConfig.anchor,extension_version:n.extension.version}}(e,t,a))},n.state=n.getDefaultState(n.installations),n}return Object(i.__extends)(t,e),Object.defineProperty(t.prototype,"installations",{get:function(){var e=this.props.extensionsForChannel;return e&&e.installedExtensions?function(e){var t=e.extensionsForChannel;return t&&t.installedExtensions?t.installedExtensions.filter((function(e){return e.activationConfig.state===Pr.ExtensionActivationStatus.Active})):[]}(this.props):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultState",{get:function(){var e=this.props.extensionsForChannel;return e&&e.installedExtensions?Object(i.__assign)(Object(i.__assign)({},$y),{permissionsStates:Yy(this.installations)}):$y},enumerable:!0,configurable:!0}),t.prototype.componentDidUpdate=function(e){zy(e)!==zy(this.props)&&this.reset()},t.prototype.render=function(){return r.createElement(Or.Provider,{value:this.computeContextProps()},this.props.children||null)},t}(r.Component);function Jy(e){return e.channelID&&e.channelID.user&&e.channelID.user.id}var Zy=Object(s.d)(Object(o.b)((function(e){var t=Object(dr.e)(e);return{loginID:t&&t.id||void 0,isTheatreMode:e.ui.theatreModeEnabled}})),Object(S.c)((function(e){var t=Object(_.a)({playerPublicPropsContext:e});return{channelLogin:Object(A.g)(e.content),parentChannelID:Object(A.h)(e.content),isMini:!!t.mini,showChannelInfoOnHover:!!t.showChannelInfoOnHover}})),Object(Ke.e)((function(e){return{isFullscreen:e.isFullscreen,setIsMenuShowing:e.setIsMenuShowing,videoContainer:e.videoContainer}})),Object(I.c)(),Object(E.e)((function(e){return{isPlaying:e.isPlaying}})),Object(f.c)((function(e){return{isVideoAdShowing:Object(Et.d)(e.videoAdMetadata)}})),ni((function(e){return{isCasting:oi(e)}})),Object(B.a)(Wy,{name:"channelID",skip:function(e){return!e.channelLogin},options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),Object(Hy.c)({name:"extensionsForChannel",skip:function(e){return!Jy(e)},options:function(e){return{variables:{channelID:e.parentChannelID||Jy(e)||""}}}}))(Xy),ek=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onAudioBlocked=function(){var e=t.props,n=e.updateContext,i=e.mediaPlayerInstance;n({audioBlocked:!0,muted:!0}),i&&!i.isMuted()&&i.setMuted(!0)},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(C.f.AUDIO_BLOCKED,this.onAudioBlocked)},t.prototype.render=function(){return null},t}(r.Component),tk=Object(s.d)(Object(k.c)((function(e){return{updateContext:e.updateContext,mediaPlayerInstance:e.mediaPlayerInstance}})),Object(y.a)())(ek),nk=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onDurationChanged=function(e){0!==e&&(0,t.props.updateContext)({isOffline:!1})},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(C.f.DURATION_CHANGED,this.onDurationChanged)},t.prototype.render=function(){return null},t}(r.Component),ik=Object(s.d)(Object(k.c)((function(e){return{updateContext:e.updateContext}})),Object(y.a)())(nk),ak=n("bRfm"),rk=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onError=function(e){var n=e.code;switch(e.type){case C.c.NOT_AVAILABLE:return void t.handleNotAvailableError(n);case C.c.AUTHORIZATION:return void t.handleAuthError(n);case C.c.NOT_SUPPORTED:return void t.handleNotSupportedError();case C.c.NETWORK_IO:return void t.handleNetworkIOError();case C.c.NETWORK:default:return}},t.handleNotAvailableError=function(e){e===C.a.LVSCCUCap?t.props.setError(C.a.CCUCapReached):t.props.updateContext({isOffline:!0})},t.handleAuthError=function(e){var n=t.props,i=n.setError,a=n.addRestriction;switch(e){case C.a.GeoBlocked:return void i(C.a.GeoBlocked);case C.a.UnsupportedDevice:return void(fm(t.props.data)&&ak.a.browser.isSafari()?i(C.a.SafariUnsupportedDevice):i(C.a.UnsupportedDevice));case C.a.AnonymizerBlocked:return void i(C.a.AnonymizerBlocked);case C.a.CellularNetworkProhibited:return void i(C.a.CellularNetworkProhibited);case C.a.UnauthorizationEntitlements:return void a(cn.a.PremiumContent);case C.a.VodRestricted:return void a(cn.a.SubscriberVOD);default:if(t.props.isOffline)return;return void i(C.a.ContentNotAvailable)}},t.handleNotSupportedError=function(){t.props.setError(C.a.FormatNotSupported)},t.handleNetworkIOError=function(){t.props.setError(C.a.Network)},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(C.f.ERROR,this.onError)},t.prototype.render=function(){return null},t}(r.Component),ok=Object(s.d)(Object(k.c)((function(e){return{setError:e.setError,addRestriction:e.addRestriction,isOffline:e.isOffline,updateContext:e.updateContext}})),Object(y.a)(),mm())(rk),sk=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMutedChange=function(){var e=t.props,n=e.updateContext,i=e.mediaPlayerInstance;n({muted:i&&i.isMuted()})},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(C.f.MUTED_CHANGED,this.onMutedChange)},t.prototype.render=function(){return null},t}(r.Component),lk=Object(s.d)(Object(k.c)((function(e){return{updateContext:e.updateContext,mediaPlayerInstance:e.mediaPlayerInstance}})),Object(y.a)())(sk),ck=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onPlaybackRateChange=function(){var e=t.props,n=e.updateContext,i=e.mediaPlayerInstance;n({speed:i&&i.getPlaybackRate()})},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(C.f.PLAYBACK_RATE_CHANGED,this.onPlaybackRateChange)},t.prototype.render=function(){return null},t}(r.Component),dk=Object(s.d)(Object(k.c)((function(e){return{updateContext:e.updateContext,mediaPlayerInstance:e.mediaPlayerInstance}})),Object(y.a)())(ck),uk=n("C94G"),pk=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isUnmounted=!1,t.logger=t.props.logger.withCategory("on-player-core-loaded"),t.onPlayerCoreLoaded=function(e){if(e)if(t.logger.debug("player core loaded"),t.isUnmounted)t.logger.debug("component is unmounted. will not in init mediaplayer");else{if(l.p.config.buildType!==Hu.a.Production&&(window.mediaPlayer=e),t.props.containerRef){t.logger.debug("attaching video element");var n=e.mediaPlayerInstance.getHTMLVideoElement();n.setAttribute("playsinline",""),n.setAttribute("webkit-playsinline",""),t.props.containerRef.insertBefore(n,t.props.containerRef.firstChild)}e.mediaPlayerInstance.setClientId(l.p.config.authSettings.clientID);var a=e.mediaPlayerInstance.getVolume(),r=e.mediaPlayerInstance.isMuted();t.props.updateContext(Object(i.__assign)(Object(i.__assign)({},e),{volume:a,muted:r,isPlayerCoreLoading:!1}))}},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this.onPlayerCoreLoaded,[4,Object(uk.a)()];case 1:return e.apply(this,[n.sent()]),[3,3];case 2:return t=n.sent(),this.props.logger.errorAndReport(t,"Failed to load player core via npm module."),[3,3];case 3:return[2]}}))}))},t.prototype.componentWillUnmount=function(){var e=this;this.isUnmounted=!0,setTimeout((function(){e.props.mediaPlayerInstance&&e.props.mediaPlayerInstance.delete(),e.props.onDestroy&&e.props.onDestroy()}))},t.prototype.render=function(){return null},t}(r.Component),mk=Object(s.d)(Object(k.c)((function(e){var t=e.updateContext,n=e.logger;return{mediaPlayerInstance:e.mediaPlayerInstance,updateContext:t,logger:n}})),Object(S.c)((function(e){return{onDestroy:Object(_.b)({playerPublicPropsContext:e}).onDestroy}})))(pk),fk=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onPlayerStateChange=function(e){var n=t.props,i=n.updateContext,a=n.hasPlayed,r=n.mediaPlayerInstance,o=n.removeError,s=e===C.g.PLAYING;if(i({hasPlayed:s||a,playerState:e}),s&&o(),e===C.g.ENDED&&i({isOffline:!0}),e===C.g.READY){if(!r)return;t.setInitialVideoOffset(r),t.setInitialQualitySetting(r)}},t.setInitialVideoOffset=function(e){var n=t.props,i=n.hasPlayed,a=n.initialOffset;a&&!i&&e.seekTo(a)},t.setInitialQualitySetting=function(e){var n=t.props,a=n.isClipContent,r=n.quality,o=n.qualityBitrate,s=n.updateContext,l=a?t.props.availableQualities:function(e){var t=e.getQualities();return Object(i.__spreadArrays)([ye.a],t)}(e);if(a||s({availableQualities:l}),0!==l.length)if(r===Se.a&&l.some((function(e){return e.group===Se.a})))e.setAutoQualityMode(!0);else{var c=Te(l,r,o,a);c.group!==r&&s({quality:c.group,qualityBitrate:c.bitrate}),e.setQuality(c)}},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;[C.g.IDLE,C.g.READY,C.g.BUFFERING,C.g.PLAYING,C.g.ENDED].forEach((function(t){e.props.playerEvents.addEventListener(t,(function(){return e.onPlayerStateChange(t)}))}))},t.prototype.render=function(){return null},t}(r.Component),vk=Object(s.d)(Object(o.b)((function(e){return{activeVideoPlayerRefID:Object(O.a)(e)}})),Object(k.c)((function(e){var t=e.availableQualities,n=e.hasPlayed,i=e.mediaPlayerInstance,a=e.playerRefID,r=e.quality,o=e.qualityBitrate,s=e.updateContext,l=e.removeError;return{availableQualities:t,hasPlayed:n,mediaPlayerInstance:i,playerRefID:a,quality:r,qualityBitrate:o,updateContext:s,removeError:l}})),Object(y.a)(),Object(S.c)((function(e){var t=e.content;return{isClipContent:Object(A.o)(t),initialOffset:Object(A.m)(t)}})))(fk);var gk=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onQualityChange=function(){var e=t.props,n=e.mediaPlayerInstance,i=e.updateContext;if(n)if(n.isAutoQualityMode())i({quality:ye.a.group,qualityBitrate:ye.a.bitrate});else{var a=n.getQuality();i({quality:a.group,qualityBitrate:a.bitrate})}},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(C.f.QUALITY_CHANGED,this.onQualityChange)},t.prototype.render=function(){return null},t}(r.Component),hk=Object(s.d)(Object(k.c)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance,updateContext:e.updateContext}})),Object(y.a)())(gk),bk=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onVolumeChanged=function(){var e=t.props,n=e.updateContext,i=e.mediaPlayerInstance;n({volume:i&&i.getVolume()})},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(C.f.VOLUME_CHANGED,this.onVolumeChanged)},t.prototype.render=function(){return null},t}(r.Component),yk=Object(s.d)(Object(k.c)((function(e){return{updateContext:e.updateContext,mediaPlayerInstance:e.mediaPlayerInstance}})),Object(y.a)())(bk),kk=function(e){function t(t){var n=e.call(this,t)||this;return n.logger=n.props.logger.withCategory("player-context-provider"),n.maybeUpdateAutoplay=function(){var e=Ek(n.props);n.state.autoplay===e||n.state.mediaPlayerInstance||n.updateContext({autoplay:e})},n.updateContext=function(e,t){n.setState((function(t){return Object(i.__assign)(Object(i.__assign)({},t),e)}),(function(){n.logger.debug("player context updated",{state:n.state}),t&&t()}))},n.addRestriction=function(e){n.setState((function(t){var n;return t.restrictions[e]?null:{restrictions:Object(i.__assign)(Object(i.__assign)({},t.restrictions),(n={},n[e]=!0,n))}}))},n.liftRestriction=function(e){n.setState((function(t){var n;return t.restrictions[e]?{restrictions:Object(i.__assign)(Object(i.__assign)({},t.restrictions),(n={},n[e]=!1,n))}:null}))},n.setError=function(e){n.setState((function(t){return e===t.error?null:{error:e}}))},n.removeError=function(){n.setState((function(e){return e.error?{error:void 0}:null}))},n.resetOnSourceChange=function(e,t){n.setState({hasPlayed:!1,isOffline:void 0,playerState:void 0,playSessionId:t,playSessionStartTime:Date.now(),sourceStatus:Re.a.Provided,restrictions:Object(cn.b)(),error:void 0,videoAccessToken:e&&e.videoAccessToken,accessExpiration:e&&e.accessExpiration,forbidden:e&&e.forbidden,accessTokenLoadTime:e&&e.accessTokenLoadTime})},n.state=Object(i.__assign)(Object(i.__assign)({},k.a),{autoplay:Ek(n.props),addRestriction:n.addRestriction,isLiveLowLatencyEnabled:Ce.b.get(Ce.a.LOW_LATENCY_MODE,!0),liftRestriction:n.liftRestriction,setError:n.setError,removeError:n.removeError,availableQualities:[],isNetworkOffline:!navigator.onLine,playerRefID:n.props.playerRefID,quality:n.props.quality,qualityBitrate:Ce.b.get(Ce.a.BITRATE)||k.a.qualityBitrate,updateContext:n.updateContext,resetOnSourceChange:n.resetOnSourceChange,logger:n.props.logger}),n}return Object(i.__extends)(t,e),t.prototype.componentDidUpdate=function(){this.maybeUpdateAutoplay()},t.prototype.render=function(){return r.createElement(k.b.Provider,{value:this.state},this.props.children||null,r.createElement(tk,null),r.createElement(ik,null),r.createElement(ok,null),r.createElement(lk,null),r.createElement(dk,null),r.createElement(mk,{containerRef:this.props.containerRef}),r.createElement(vk,null),r.createElement(hk,null),r.createElement(yk,null))},t}(r.Component),Sk=Object(s.d)(Object(o.b)((function(e){return{activePlayerRefID:Object(O.a)(e)}})),Object(S.c)((function(e){var t=Object(_.a)({playerPublicPropsContext:e}),n=t.disableAutoplay,i=t.exclusivePlayback,a=(r={playerPublicPropsContext:e},Object(_.a)(r).forceQuality||Object(_.a)(r).initialQuality||Oe(r)||k.a.quality);var r;return{disableAutoplay:n,exclusivePlayback:i,quality:a}})))(kk);function Ek(e){var t=e.disableAutoplay;return e.exclusivePlayback?!(t||e.activePlayerRefID&&e.activePlayerRefID!==e.playerRefID):!t}var Ck=function(e){var t=r.useContext(E.d),n=r.useContext(Ke.c),i=t.play,a=t.pause,o=t.seek,s=t.setVolume,l=t.setMuted,c=t.setQuality,d=t.getPlayerMetadata,u=n.setClosedCaptionsEnabled,p=r.useMemo((function(){return{getPlayerMetadata:d,pause:a,play:i,seek:o,setClosedCaptionsEnabled:u,setMuted:l,setQuality:c,setVolume:s}}),[d,a,i,o,u,l,c,s]);return r.createElement(ui.Provider,{value:p},e.children||null)},Ok=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){return r.createElement(Sk,{containerRef:this.props.videoContainer,logger:this.props.logger,playerRefID:this.props.playerRefID},r.createElement(Gy,null,r.createElement(E.c,null,r.createElement(Ke.d,{videoContainer:this.props.videoContainer},r.createElement(_r.a,{containerRef:this.props.overlayContainer},r.createElement(Ck,null,r.createElement(I.a,null,r.createElement(ri,{logger:this.props.logger},r.createElement(Zy,null,this.props.children)))))))))},t}(r.Component),_k=(n("9AWm"),Object(s.d)(Object(_r.b)((function(e){return{active:e.active}})),Object(S.c)((function(e){return{forceControlVisibilityShowing:Object(_.a)({playerPublicPropsContext:e}).forceControlVisibility===Ye.a.Showing}})),Object(E.e)((function(e){return{isPlaying:e.isPlaying}})))((function(e){var t=e.active,n=e.children,i=e.forceControlVisibilityShowing,o=e.isPlaying;return r.createElement(Ht.a,{className:a("video-player__default-player",{"video-player__inactive":!t&&o&&!i})},n)})));var wk;n("UJlM");!function(e){e.VideoContainer="video-player__video-container",e.VideoLayout="video-player__video-layout"}(wk||(wk={}));var Pk=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t.id=Object(d.a)(16),t.logger=l.p.logger.withCategory("video-player").withCategory(t.id),t.onOverlayRefDelegate=function(e){return t.setState({overlayContainer:e})},t.onVideoRefDelegate=function(e){return t.setState({videoContainer:e})},t.hasBehavior=function(e){return!(!t.props.behaviors||!t.props.behaviors[e])},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=a("video-player__container",{"video-player__container--theatre":this.props.theatreModeEnabled,"video-player__container--theatre-whispers":Nk(this.props),"video-player__container--resize-calc":this.props.behaviors&&this.props.behaviors.forcePlayerContainerAspectRatio});return r.createElement(S.a,Object(i.__assign)({},this.props),r.createElement(Ok,{videoContainer:this.state.videoContainer,overlayContainer:this.state.overlayContainer,playerRefID:this.id,logger:this.logger},r.createElement(Ng,{logger:this.logger}),r.createElement(N,{playerId:this.id}),r.createElement(Ht.a,{className:"video-player","data-a-target":"video-player","data-a-player-type":this.props.type,"data-test-selector":wk.VideoLayout},r.createElement(Ht.a,{className:e,"data-test-selector":wk.VideoContainer,refDelegate:this.onVideoRefDelegate,overflow:qt.n.Hidden,position:qt.o.Absolute,attachBottom:!Nk(this.props),attachLeft:!0,attachRight:!0,attachTop:!0},r.createElement(_k,null,r.createElement(Ht.a,{className:"video-player__overlay",refDelegate:this.onOverlayRefDelegate,position:qt.o.Absolute,attachBottom:!0,attachLeft:!0,attachRight:!0,attachTop:!0},r.createElement(gg,{logger:this.logger}))))),r.createElement(K,null),r.createElement(Ue,null),r.createElement(My,null),r.createElement(_g,null),r.createElement(Cg,null),r.createElement(R,{isClip:Object(A.o)(this.props.content)}),this.hasBehavior("enablePlaySessionTagTracking")&&r.createElement(Bh,null),this.props.firstPageLoaded&&r.createElement(Eg,null),r.createElement(be,null),r.createElement(dh,null),r.createElement(fh,null),r.createElement(gh,null),r.createElement(ph,null),r.createElement(ut,null),r.createElement(Mh,null),!Object(A.q)(this.props.content)&&r.createElement(Nh,null),r.createElement(je,null),r.createElement(Ty,null),r.createElement(vt,null),Object(A.q)(this.props.content)&&r.createElement(We,null),r.createElement(xt,null),this.hasBehavior("exclusivePlayback")&&r.createElement(P,null),this.hasBehavior("pauseWhenModalShowing")&&r.createElement(mt,null),this.hasBehavior("pauseWhenNotInViewport")&&r.createElement(Ih,null),r.createElement(Vy,null),r.createElement("div",{style:{display:"none"}},this.props.children)))},t}(r.Component),Nk=function(e){var t;return e.isTheatreWhispers&&!(null===(t=e.behaviors)||void 0===t?void 0:t.disableWhispersCompatability)};var Tk=Object(s.d)(Object(c.a)({name:"VideoPlayer",content:r.createElement((function(){return r.createElement(fn.a,{iconProps:{type:vn.a.Empty},text:Object(l.d)("An error occurred. Please try again.","VideoPlayerErrorBoundary")})}),null)}),Object(o.b)((function(e){var t=e.ui,n=t.rightColumnExpanded,i=t.rightColumnPositionedBeside,a=t.theatreModeEnabled;return{isTheatreWhispers:Object(u.c)(e)&&a&&(!n||i),theatreModeEnabled:a,firstPageLoaded:!!e.session.firstPageLoaded}})))(Pk)},eJ65:function(e,t,n){"use strict";var i=n("bq0i");n.d(t,"a",(function(){return i.a}))},"eK/n":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var i=n("/7QA"),a={Black:"black",White:"white",Red:"red",Green:"green",Blue:"blue",Yellow:"yellow",Magenta:"magenta",Cyan:"cyan",LightGray:"lightgray",Gray:"gray",DarkGray:"darkgray",Transparent:"transparent"};function r(e){switch(e){case a.Black:return Object(i.d)("Black","FormatColorName");case a.White:return Object(i.d)("White","FormatColorName");case a.Red:return Object(i.d)("Red","FormatColorName");case a.Green:return Object(i.d)("Green","FormatColorName");case a.Blue:return Object(i.d)("Blue","FormatColorName");case a.Yellow:return Object(i.d)("Yellow","FormatColorName");case a.Magenta:return Object(i.d)("Magenta","FormatColorName");case a.Cyan:return Object(i.d)("Cyan","FormatColorName");case a.LightGray:return Object(i.d)("Light Gray","FormatColorName");case a.Gray:return Object(i.d)("Gray","FormatColorName");case a.DarkGray:return Object(i.d)("Dark Gray","FormatColorName");case a.Transparent:return Object(i.d)("Transparent","FormatColorName");default:return""}}},eUaf:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return g}));var i,a,r=n("pVnL"),o=n.n(r),s=n("8OQS"),l=n.n(s),c=n("q1tI"),d=n("vOnD"),u=n("2vum"),p=n("uq9l"),m=n("Yegi");!function(e){e.Notification="tw-pill--notification",e.Brand="tw-pill--brand",e.Info="tw-pill--info",e.Live="tw-pill--live",e.Alert="tw-pill--alert",e.Success="tw-pill--success",e.Overlay="tw-pill--overlay",e.Warn="tw-pill--warn"}(a||(a={}));var f=((i={})[a.Notification]="color-background-pill-notification",i[a.Brand]="color-fill-brand",i[a.Info]="color-fill-info",i[a.Live]="color-fill-live",i[a.Alert]="color-fill-alert",i[a.Success]="color-fill-success",i[a.Overlay]="color-background-overlay",i[a.Warn]="color-fill-warn",i),v=Object(d.b)(p.a).withConfig({displayName:"ScPill",componentId:"sc-1cbrhuy-0"})(["",";",";display:inline-block;position:relative;line-height:1;text-align:center;white-space:nowrap;bottom:0.15em;border-radius:1000px;padding:0.3rem 0.8em;font-size:75%;&:empty{display:none;}"],(function(e){return Object(u.a)("background-color",e.$backgroundColor)}),(function(e){return Object(u.a)("color",e.$textColor)})),g=function(e){var t=e.label,n=e.transform,i=void 0===n?p.d.Uppercase:n,r=e.type,s=l()(e,["label","transform","type"]);return c.createElement(v,o()({className:"tw-pill",type:p.e.Span,transform:i,fontWeight:m.l.SemiBold,$textColor:r===a.Warn||r===a.Success?"color-text-pill":"color-text-overlay",$backgroundColor:r?f[r]:"color-background-pill"},s),t)};g.displayName="Pill",g.displayName="Pill"},eWfW:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var i=n("oKCn").f.Auto,a="chunked"},eZqs:function(e,t,n){},efEE:function(e,t,n){},"f0/i":function(e,t,n){},"g/rS":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o}));var i="extensions.EXTENSION_INSTALLATIONS_FETCHED",a="extensions.DESTROY_CHANNEL_INSTALLATION";function r(e,t){return{type:i,channelID:e,installedExtensions:t}}function o(e,t){return{type:a,channelID:e,extensionID:t}}},g8gE:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("pVnL"),a=n.n(i),r=n("q1tI"),o=n("swlv"),s=n("Ix37"),l=function(e,t){return r.createElement(o.a,a()({},e,{ref:t,title:e.title,icon:s.a.Close,overlay:e.overlay,size:e.size,type:e.type}))};l.displayName="CoreDismissible",l.displayName="CoreDismissible";var c=r.forwardRef(l)},gIsd:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ReportUserModal_ReportReasons"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"content"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ReportContentType"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reportReasons"},arguments:[{kind:"Argument",name:{kind:"Name",value:"content"},value:{kind:"Variable",name:{kind:"Name",value:"content"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:114}};n.loc.source={body:"query ReportUserModal_ReportReasons($content: ReportContentType!) {\nreportReasons(content: $content) {\nid\ntext\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ReportUserModal_ReportReasons=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ReportUserModal_ReportReasons")},gJDC:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoMutedSegment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"VideoMutedSegment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offset"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayer_VODSeekbar"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"muteInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mutedSegmentConnection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoMutedSegment"},directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:222}};n.loc.source={body:"fragment VideoMutedSegment on VideoMutedSegment {\nduration\noffset\n}\nquery VideoPlayer_VODSeekbar($vodID: ID) {\nvideo(id: $vodID) {\nid\nlengthSeconds\nmuteInfo {\nmutedSegmentConnection {\nnodes {\n...VideoMutedSegment\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoPlayer_VODSeekbar=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoPlayer_VODSeekbar")},gP25:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayer_SubToSkipAds"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasAdFree"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:128}};n.loc.source={body:"query VideoPlayer_SubToSkipAds($login: String!) {\nuser(login: $login) {\nid\ndisplayName\nsubscriptionProducts {\nid\nhasAdFree\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoPlayer_SubToSkipAds=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoPlayer_SubToSkipAds")},gTu3:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.Default=0]="Default",e[e.Recipient=1]="Recipient",e[e.Sender=2]="Sender"}(i||(i={}))},"h2/d":function(e,t,n){},htqZ:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LiveNotificationsToggle_ToggleNotifications"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"FollowUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follow"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follower"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disableNotifications"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:178}};n.loc.source={body:"mutation LiveNotificationsToggle_ToggleNotifications($input: FollowUserInput!) {\nfollowUser(input: $input) {\nfollow {\nuser {\nid\nself {\nfollower {\ndisableNotifications\n}\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.LiveNotificationsToggle_ToggleNotifications=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"LiveNotificationsToggle_ToggleNotifications")},hudZ:function(e,t,n){},hyVY:function(e,t,n){"use strict";function i(e,t){var n=Math.floor(e%60),i=Math.floor(e%3600/60),r=Math.floor(e/3600);return t&&t.zeroPadAll?a(r,2)+":"+a(i,2)+":"+a(n,2):r?r+":"+a(i,2)+":"+a(n,2):i+":"+a(n,2)}function a(e,t){return(t-=e.toString().length)>0?new Array(t+(/\./.test(e.toString())?2:1)).join("0")+e:e.toString()}function r(e){if(""===e)return 0;var t=e.split(":");return t.length>3?NaN:t.reduce((function(e,t){return 60*e+("-"===t[0]?NaN:Math.round(parseInt(t,10)))}),0)}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}))},hyxX:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("mrSG"),a=n("q1tI"),r=n("yMEX"),o=n("2Ygb");function s(e){return function(t){var n;return(n=function(n){function o(){return null!==n&&n.apply(this,arguments)||this}return Object(i.__extends)(o,n),o.prototype.render=function(){return a.createElement(r.a,Object(i.__assign)({},e),a.createElement(t,Object(i.__assign)({},this.props)))},o}(a.Component)).displayName=Object(o.a)("WithErrorBoundary",t),n}}},"i/Zp":function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.AmazonLive="amazon_live",e.AmazonProductPage="amazon_product_page",e.AmazonVse="amazon_vse_test",e.AnimatedThumbnails="animated_thumbnails",e.ChannelTrailer="channel_trailer",e.ClipsEditing="clips-editing",e.ClipsEmbed="clips-embed",e.ClipsViewing="clips-viewing",e.ClipsWatchPage="clips-watch",e.Creative="creative",e.Curse="curse",e.Dashboard="dashboard",e.Embed="embed",e.Facebook="facebook",e.Feed="feed",e.Frontpage="frontpage",e.Highlighter="highlighter",e.Imdb="imdb",e.MultiviewPrimary="multiview-primary",e.MultiviewSecondary="multiview-secondary",e.Onboarding="onboarding",e.PictureByPicture="picture-by-picture",e.Popout="popout",e.Pulse="pulse",e.Site="site",e.Thunderdome="thunderdome",e.ChannelHomeCarousel="channel_home_carousel",e.ChannelHomeLive="channel_home_live",e.SiteMini="site_mini",e.SquadPrimary="squad_primary",e.SquadSecondary="squad_secondary",e.TwitchEverywhere="twitch_everywhere",e.WatchPartyHost="watch_party_host"}(i||(i={}))},i0WD:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayer_VODSeekbarPreviewVideo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"seekPreviewsURL"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:101}};n.loc.source={body:"query VideoPlayer_VODSeekbarPreviewVideo($videoID: ID) {\nvideo(id: $videoID) {\nid\nseekPreviewsURL\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoPlayer_VODSeekbarPreviewVideo=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoPlayer_VODSeekbarPreviewVideo")},i0io:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ClipsRawMedia"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rawMedia"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"defaultClipInitialOffset"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"videoURL"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:123}};n.loc.source={body:"query ClipsRawMedia($slug: ID!) {\nclip(slug: $slug) {\nid\nrawMedia {\ndefaultClipInitialOffset\nduration\nstatus\nvideoURL\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ClipsRawMedia=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ClipsRawMedia")},i46O:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LiveNotificationsToggle_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"followButtonFragment"},directives:[]}]}}]}}],loc:{start:0,end:164}};i.loc.source={body:'#import "twilight/common/queries/follow-button-fragment.gql"\nquery LiveNotificationsToggle_User($login: String!) {\nuser(login: $login) {\n...followButtonFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("V94A").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.LiveNotificationsToggle_User=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"LiveNotificationsToggle_User")},i6WW:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("RcPG"),a=new RegExp("(?:^|\\s)(?:https?://)?clips.twitch.tv/(\\w+)(?:/)?(\\w+)?(?:/edit)?(?:$|\\s)?"),r=new RegExp("(?:^|\\s)(?:https?:\\/\\/)?(?:www\\.)?twitch\\.tv\\/(\\w+)\\/clip\\/(\\w+)(?:$|\\s)?");var o=new RegExp("(?:^|\\s)(?:https?://)?(?:(?:www|go).)?twitch.tv/videos/(\\d+)(?:$|\\s)?");var s=/(?:(https?:\/\/)?((?:[\w#%\-+=:~]+\.)+[a-z]{2,10}(?:\/[\w./#%&@()\-+=:?~]*)?))/;function l(e,t){void 0===t&&(t={});var n=[],l=e.match(s);if(!l)return null;var c=l[0],d=e.indexOf(c);if(d>0){if("@"===e[d-1])return null;n.push({type:i.a.Text,content:e.slice(0,d)})}var u=l[1],p=l[2];(function(e){var t,n=e[e.length-1];if(")"!==n)return!1;t="(";for(var i=0,a=0,r=e.length-1;a<r;a++){var o=e[a];o===t?i++:o===n&&(i=Math.max(i-1,0))}return 0===i})(c)&&(c=c.slice(0,-1),p=p.slice(0,-1));var m=""+(u||"https://")+p;if(t.parseClips&&function(e){void 0===e&&(e="");var t=a.test(e)&&!e.includes("clips.twitch.tv/2017/"),n=r.test(e);return t||n}(m)){var f=function(e){void 0===e&&(e="");var t=e.match(a);if(t&&t.length>0&&void 0!==t.index)return t[1];var n=e.match(r);return n&&n.length>0&&void 0!==n.index?n[2]:""}(m);if("create"!==f)return n.push({type:i.a.ClipLink,content:{slug:f,url:m,displayText:c}}),n}if(t.parseVods&&function(e){return void 0===e&&(e=""),o.test(e)}(m)){var v=function(e){void 0===e&&(e="");var t=e.match(o);return null===t?"":t&&t.length>0&&void 0!==t.index?t[1]:""}(m);return n.push({type:i.a.VideoLink,content:{id:v,url:m,displayText:c}}),n}return n.push({type:i.a.Link,content:{displayText:c,url:m}}),d+c.length<e.length&&n.push({type:i.a.Text,content:e.slice(d+c.length,e.length)}),n}},ibn3:function(e,t,n){},"ig/l":function(e,t,n){"use strict";n.d(t,"c",(function(){return r.a})),n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return f.c}));var i,a,r=n("6FuP"),o=n("mrSG"),s=n("TSYQ"),l=n("q1tI"),c=n("uy8m"),d=n("IyK4"),u=n("OCDW"),p=n("Yegi"),m=n("AjB5"),f=n("mzKw");n("hudZ");!function(e){e.LeftHandle="left-handle",e.Overlay="overlay",e.RightHandle="right-handle",e.SelectedSection="section",e.Slider="slider"}(i||(i={})),function(e){e.LeftHandle="leftHandle",e.Slider="slider",e.RightHandle="rightHandle"}(a||(a={}));var v=function(e){function t(t){var n=e.call(this,t)||this;return n.leftHandleRef=null,n.containerRef=null,n.rightHandleRef=null,n.sliderHandleRef=null,n.getHandleHandlers=function(e){switch(e){case a.LeftHandle:return{handleRef:n.leftHandleRef,mouseMoveHandler:n.onLeftMouseMove,mouseUpHandler:n.onLeftMouseUp};case a.RightHandle:return{handleRef:n.rightHandleRef,mouseMoveHandler:n.onRightMouseMove,mouseUpHandler:n.onRightMouseUp};case a.Slider:return{handleRef:n.sliderHandleRef,mouseMoveHandler:n.onSliderMouseMove,mouseUpHandler:n.onSliderMouseUp};default:return e}},n.addHandleListeners=function(e){var t=n.getHandleHandlers(e),i=t.handleRef,a=t.mouseMoveHandler,r=t.mouseUpHandler;i&&(n.preventUserSelect(),i.ownerDocument&&(i.ownerDocument.addEventListener("mousemove",a),i.ownerDocument.addEventListener("mouseup",r)))},n.removeHandleListeners=function(e){var t=n.getHandleHandlers(e),i=t.handleRef,a=t.mouseMoveHandler,r=t.mouseUpHandler;i&&(n.allowUserSelect(),i.ownerDocument&&(i.ownerDocument.removeEventListener("mousemove",a),i.ownerDocument.removeEventListener("mouseup",r)))},n.leftHandleRefHandler=function(e){n.leftHandleRef=e},n.onLeftMouseDown=function(e){if(n.shouldHandleClick(e.button)){var t=e.clientX;n.setState((function(e){return{previousPosition:t,previousBaseValue:e.startOffset}}),(function(){n.props.onLeftDragStart&&n.props.onLeftDragStart({startOffset:n.state.startOffset,endOffset:n.state.endOffset}),n.addHandleListeners(a.LeftHandle)}))}},n.onLeftMouseUp=function(){n.setState({previousPosition:null,previousBaseValue:null},(function(){n.props.onLeftDragEnd&&n.props.onLeftDragEnd({startOffset:n.state.startOffset,endOffset:n.state.endOffset}),n.removeHandleListeners(a.LeftHandle)}))},n.onLeftMouseMove=function(e){var t=e.clientX,i=void 0===n.props.minLength?0:n.props.minLength,a=void 0===n.props.maxLength?n.props.maxOffset-n.props.minOffset:n.props.maxLength,r=void 0===n.props.sliderMin?0:n.props.sliderMin;n.setState((function(e,o){return{startOffset:n.calculateOffset(t,{startBoundary:Math.max(o.minOffset,e.endOffset-a,r),endBoundary:Math.min(e.endOffset,e.endOffset-i),currentValue:e.startOffset}),endOffset:e.endOffset}}),(function(){n.props.onLeftDrag&&n.props.onLeftDrag({startOffset:n.state.startOffset,endOffset:n.state.endOffset})}))},n.rightHandleRefHandler=function(e){n.rightHandleRef=e},n.onRightMouseDown=function(e){if(n.shouldHandleClick(e.button)){var t=e.clientX;n.setState((function(e){return{previousPosition:t,previousBaseValue:e.endOffset}}),(function(){n.props.onRightDragStart&&n.props.onRightDragStart({startOffset:n.state.startOffset,endOffset:n.state.endOffset}),n.addHandleListeners(a.RightHandle)}))}},n.onRightMouseUp=function(){n.setState({previousPosition:null,previousBaseValue:null},(function(){n.props.onRightDragEnd&&n.props.onRightDragEnd({startOffset:n.state.startOffset,endOffset:n.state.endOffset}),n.removeHandleListeners(a.RightHandle)}))},n.onRightMouseMove=function(e){var t=e.clientX,i=void 0===n.props.minLength?0:n.props.minLength,a=void 0===n.props.maxLength?n.props.maxOffset-n.props.minOffset:n.props.maxLength,r=void 0===n.props.sliderMax?n.props.maxOffset:n.props.sliderMax;n.setState((function(e,o){return{startOffset:e.startOffset,endOffset:n.calculateOffset(t,{startBoundary:Math.max(o.minOffset,e.startOffset+i),endBoundary:Math.min(o.maxOffset,e.startOffset+a,r),currentValue:e.endOffset})}}),(function(){n.props.onRightDrag&&n.props.onRightDrag({startOffset:n.state.startOffset,endOffset:n.state.endOffset})}))},n.sliderHandleRefHandler=function(e){n.sliderHandleRef=e},n.onSliderMouseDown=function(e){if(n.shouldHandleClick(e.button)){var t=e.clientX;n.setState((function(e){return{previousPosition:t,previousBaseValue:e.startOffset}}),(function(){n.props.onSliderDragStart&&n.props.onSliderDragStart({startOffset:n.state.startOffset,endOffset:n.state.endOffset}),n.addHandleListeners(a.Slider)}))}},n.onSliderMouseUp=function(){n.setState({previousPosition:null,previousBaseValue:null},(function(){n.props.onSliderDragEnd&&n.props.onSliderDragEnd({startOffset:n.state.startOffset,endOffset:n.state.endOffset}),n.removeHandleListeners(a.Slider)}))},n.onSliderMouseMove=function(e){var t=e.clientX;n.setState((function(e,i){var a=e.endOffset-e.startOffset,r=n.calculateOffset(t,{startBoundary:i.minOffset,endBoundary:i.maxOffset-a,currentValue:e.startOffset});return{startOffset:r,endOffset:r+a}}),(function(){n.props.onSliderDrag&&n.props.onSliderDrag({startOffset:n.state.startOffset,endOffset:n.state.endOffset})}))},n.calculateOffset=function(e,t){if(null===n.state.previousPosition||null===n.state.previousBaseValue)return t.currentValue;var i=n.convertPixelsToOffsetUnits(e-n.state.previousPosition),a=n.state.previousBaseValue+i;return a<t.startBoundary?t.startBoundary:a>t.endBoundary?t.endBoundary:a},n.convertPixelsToOffsetUnits=function(e){return n.containerRef?0===n.containerRef.clientWidth?0:e*((n.props.maxOffset-n.props.minOffset)/n.containerRef.clientWidth):0},n.addFocus=function(){n.setState({showFocus:!0})},n.removeFocus=function(){n.setState({showFocus:!1})},n.preventUserSelect=function(){document.body.style.userSelect="none"},n.allowUserSelect=function(){document.body.style.userSelect="auto"},n.handleContainerRef=function(e){n.containerRef=e},n.state={startOffset:t.startOffset,endOffset:t.endOffset,previousBaseValue:null,previousPosition:null,showFocus:!1,originalStartOffset:t.startOffset,originalEndOffset:t.endOffset},n}return Object(o.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){return e.startOffset!==t.originalStartOffset||e.endOffset!==t.originalEndOffset?{startOffset:e.startOffset,endOffset:e.endOffset,originalStartOffset:e.startOffset,originalEndOffset:e.endOffset}:null},t.prototype.render=function(){var e,t,n,a,o=void 0!==this.props.handleSize?this.props.handleSize:f.c.Small,c=(e={handleSize:o,minOffset:this.props.minOffset,maxOffset:this.props.maxOffset,startOffset:this.state.startOffset,endOffset:this.state.endOffset},t=e.maxOffset-e.minOffset,n=(e.endOffset-e.startOffset)/t*100,a=(e.startOffset-e.minOffset)/t*100,{width:"calc("+n+"% + "+2*e.handleSize+"px)",marginLeft:"calc("+a+"% - "+e.handleSize+"px)"}),v=s("draggable-slider__wrapper",{"draggable-slider__wrapper--transition":this.props.showTransition}),g=s("draggable-slider__content",{"draggable-slider__content--blue":this.props.color===r.a.Blue,"draggable-slider__content--orange":this.props.color===r.a.Orange,"draggable-slider__content--focus":this.props.isSliderEnabled&&this.state.showFocus});return l.createElement("div",{ref:this.handleContainerRef},l.createElement(d.a,{flexGrow:0,flexShrink:0},l.createElement("div",{className:v,"data-test-selector":i.SelectedSection,style:c},l.createElement(u.a,{className:"draggable-slider__container",position:p.o.Relative,display:p.h.Flex,justifyContent:p.m.Center},l.createElement(u.a,{position:p.o.Absolute,attachTop:!0,fullWidth:!0},l.createElement(u.a,{position:p.o.Relative,attachTop:!0,fullWidth:!0,display:p.h.Flex,justifyContent:p.m.Center},l.createElement(u.a,{position:p.o.Absolute,attachBottom:!0,margin:{bottom:1},zIndex:p.t.Above},this.props.popover))),l.createElement(m.a,{className:g,fullWidth:!0,display:p.h.Flex,justifyContent:p.m.Between},l.createElement(f.a,{"data-test-selector":i.LeftHandle,color:this.props.color,handlePosition:f.b.Left,onRef:this.leftHandleRefHandler,onMouseDown:this.onLeftMouseDown,size:this.props.handleSize}),this.renderSliderContent(),l.createElement(f.a,{"data-test-selector":i.RightHandle,color:this.props.color,handlePosition:f.b.Right,onRef:this.rightHandleRefHandler,onMouseDown:this.onRightMouseDown,size:this.props.handleSize}))))))},t.prototype.renderSliderContent=function(){var e=this.props.children;this.props.isSliderEnabled&&(e=l.createElement("div",{onMouseDown:this.onSliderMouseDown,onMouseEnter:this.addFocus,onMouseLeave:this.removeFocus,ref:this.sliderHandleRefHandler,"data-test-selector":i.Slider},this.props.children));var t=s("draggable-slider__overlay",{"draggable-slider__overlay--sliding-enabled":this.props.isSliderEnabled,"draggable-slider__overlay--blue":this.props.color===r.a.Blue,"draggable-slider__overlay--orange":this.props.color===r.a.Orange});return l.createElement(u.a,{className:t,display:p.h.InlineBlock,overflow:p.n.Hidden,"data-test-selector":i.Overlay,fullWidth:!0},e)},t.prototype.shouldHandleClick=function(e){return e===c.a.Left},t}(l.Component)},ijG7:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("pVnL"),a=n.n(i),r=n("q1tI"),o=n("SWse"),s=n("P+FS"),l=n("HQtB"),c=n("OCDW"),d=n("Yegi"),u=n("IyK4"),p=n("hMTT"),m=function(e,t){var n={"tw-range":!0,"tw-range--error":e.error,"tw-range--unfilled":!f(e),"tw-range--overlay":e.overlay},i=r.createElement("input",a()({},Object(s.a)(e),{ref:t||e.refDelegate,className:Object(o.a)(n),id:e.id,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,tabIndex:e.tabIndex,defaultValue:f(e)?void 0:e.defaultValue,disabled:e.disabled,type:"range",min:e.min,max:e.max,name:e.name,step:e.step,value:e.value},Object(l.a)(e)));if(f(e)){var p=(parseFloat(e.value)-e.min)/(e.max-e.min)*100;return r.createElement(c.a,{position:d.o.Relative,zIndex:d.t.Above,fullWidth:!0,display:d.h.Flex},i,r.createElement(c.a,{className:Object(o.a)({"tw-range__fill":!0,"tw-range__fill--overlay":e.overlay}),position:d.o.Absolute,fullWidth:!0,attachTop:!0,attachBottom:!0,display:d.h.Flex,flexDirection:d.i.Column,justifyContent:d.m.Center,zIndex:d.t.Below,borderRadius:d.e.Large},r.createElement(u.a,{borderRadius:d.e.Large},r.createElement("div",{className:"tw-range__fill-container"},r.createElement(u.a,{borderRadius:d.e.Large},r.createElement("div",{className:"tw-range__fill-value",style:{width:p.toFixed(2)+"%"},"data-test-selector":"tw-range__fill-value-selector"}))))))}return i};function f(e){var t=e;return void 0!==t.fill&&void 0!==t.max&&void 0!==t.min&&void 0!==t.value}m.displayName="Range";var v=r.forwardRef(m),g=Object(p.b)(v)},irp5:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayer_CollectionContent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:142}};n.loc.source={body:"query VideoPlayer_CollectionContent($id: ID!) {\ncollection(id: $id) {\nid\nitems(first: 1) {\nedges {\ncursor\nnode {\n... on Video {\nid\n}\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoPlayer_CollectionContent=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoPlayer_CollectionContent")},iyGE:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("mrSG"),a=n("yR8l"),r=n("Pub/"),o=n("HzXE"),s=n("4G6/"),l=n("4w0E");function c(e){var t=this;return Object(a.b)(l,{props:function(n){return{banUserMutation:function(a,l,c){return void 0===l&&(l=null),void 0===c&&(c=null),Object(i.__awaiter)(t,void 0,void 0,(function(){var t,d;return Object(i.__generator)(this,(function(u){switch(u.label){case 0:if(t=e(n.ownProps).channelID,!n.mutate||!t)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),d=null,"number"==typeof l?d=Object(s.a)(l):"string"==typeof l&&(d=l),[4,n.mutate({variables:{input:{channelID:t,bannedUserLogin:a,expiresIn:d,reason:c}},update:function(e,n){return function(e,t,n){if(t&&t.data&&t.data.banUserFromChatRoom&&t.data.banUserFromChatRoom.ban&&t.data.banUserFromChatRoom.ban.bannedUser&&t.data.banUserFromChatRoom.ban.bannedUser.id){var a=Object(r.a)(e,n,t.data.banUserFromChatRoom.ban.bannedUser.id);if(!a)return;e.writeQuery({query:o,variables:{targetUserID:t.data.banUserFromChatRoom.ban.bannedUser.id,channelID:n},data:Object(i.__assign)(Object(i.__assign)({},a),{chatRoomBanStatus:{isPermanent:t.data.banUserFromChatRoom.ban.isPermanent,__typename:"ChatRoomBanStatus"}})})}}(e,n,t)}})];case 2:return[2,u.sent().data];case 3:throw u.sent(),new Error("Unable to ban user");case 4:return[3,6];case 5:throw new Error("Ban user mutation is not ready");case 6:return[2]}}))}))}}}})}},"j0z/":function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"streamTagsTrackingContentTags"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contentTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"streamTagsTrackingTag"},directives:[]}]}}]}}],loc:{start:0,end:188}};i.loc.source={body:'#import "twilight/features/video-player/components/stream-tags-tracking/query-fragment-tag.gql"\nfragment streamTagsTrackingContentTags on Video {\ncontentTags {\n...streamTagsTrackingTag\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("ZaRQ").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))),e.exports=i},j1XZ:function(e,t,n){},j3KY:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c}));var i=n("cr+I"),a=n("/7QA"),r="twch",o="sm_w_tup_ntp_t_c",s="sm_om_tpltp",l=a.k.withCategory("PrimeUtilsLogger");function c(e,t,n){return function(e,t,n,a){var o="";try{o=btoa(n)}catch(e){l.errorAndReport(e,"Could not decode location pathname substring for redirect")}var s={ingress:r};o&&(s.redirectRoute=o);a&&(s.twitchReferral=a);var c=i.stringify(s,{encode:!1});return c?e+"?ref_="+t+"&"+c:e+"?ref_="+t}(a.a.tryPrimeURI,e,t,n)}},j5Eb:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var i,a=n("mrSG"),r=n("q1tI"),o=n("/MKj"),s=n("ANjH"),l=n("yR8l"),c=n("geRD"),d=n("2xye"),u=n("kRBY"),p=n("UtoE"),m=n("tP7v"),f=n("5e0Q"),v=n("/7QA"),g=n("OCDW"),h=n("Yegi"),b=n("Ix37");!function(e){e.EnableNotificationsButton="player-follow-button__enabled-notifications-button",e.DisableNotificationsButton="player-follow-button__disable-notifications-button"}(i||(i={}));var y,k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){return r.createElement(g.a,{display:h.h.Flex,flexDirection:h.i.Column,alignItems:h.b.Center},this.renderButton(this.props))},t.prototype.renderButton=function(e){var t=e.notificationsDisabled,n=e.working,a=e.onDisableNotificationsClick,o=e.onEnableNotificationsClick,s=e.buttonSize,l=n?f.c.Loading:f.c.Default;return t?r.createElement(f.a,{onClick:o,state:l,"data-test-selector":i.EnableNotificationsButton,size:s},Object(v.d)("Turn on Notifications","PlayerFollowButton")):r.createElement(f.a,{onClick:a,type:f.d.Success,state:l,icon:b.a.Check,"data-test-selector":i.DisableNotificationsButton,size:s},Object(v.d)("Notifications","PlayerFollowButton"))},t}(r.Component),S=n("YVq6");!function(e){e.NotificationsOff="notif_off",e.NotificationsOn="notif_on",e.FollowAndNotificationsOn="follow_on_notif_on"}(y||(y={}));var E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={working:!1},t.trackNotificationButtonClick=function(e){t.props.track(d.SpadeEventType.PlayerNotificationButtonClick,{followState:e.wasFollowing,notif_state:e.wereNotificationsEnabled,src:t.props.playerType,action:e.action})},t.handleEnableNotifications=function(){var e=!!t.props.isFollowingUser;t.trackNotificationButtonClick({action:e?y.NotificationsOn:y.FollowAndNotificationsOn,wasFollowing:e,wereNotificationsEnabled:!1}),t.changeNotificationSettings({disableNotifications:!1})},t.handleDisableNotifications=function(){var e=t.props.isFollowingUser;t.trackNotificationButtonClick({action:y.NotificationsOff,wasFollowing:e,wereNotificationsEnabled:!0}),t.changeNotificationSettings({disableNotifications:!0})},t.changeNotificationSettings=function(e){return Object(a.__awaiter)(t,void 0,void 0,(function(){var t,n,i;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:t=e.disableNotifications,n=this.props.userID,i=Object(c.a)({targetID:n,disableNotifications:t}),a.label=1;case 1:return a.trys.push([1,,4,5]),this.props.isLoggedIn?(this.setState({working:!0}),[4,this.props.followUser(i)]):[3,3];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:return this.setState({working:!1}),this.props.onFollow&&this.props.onFollow(),[7];case 5:return[2]}}))}))},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.isSmall,n=e.notificationsDisabled;return r.createElement(k,{notificationsDisabled:n,working:this.state.working,onDisableNotificationsClick:this.handleDisableNotifications,onEnableNotificationsClick:this.handleEnableNotifications,buttonSize:t?f.b.Small:f.b.Default})},t}(r.Component);var C=Object(s.d)(Object(l.a)(S,{name:"followUser"}),Object(m.c)(),Object(p.c)((function(e){return{playerType:e.type}})),Object(o.b)((function(e){return{isLoggedIn:Object(u.f)(e)}})))(E)},"jCA+":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CollectionTopBar"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:172}};n.loc.source={body:"query CollectionTopBar($collectionID: ID!) {\ncollection(id: $collectionID) {\nid\ntitle\nitems(first: 100) {\ntotalCount\nedges {\nnode {\n__typename\n... on Video {\nid\n}\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.CollectionTopBar=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"CollectionTopBar")},jeZI:function(e,t,n){},jsEL:function(e,t,n){"use strict";n.r(t),n.d(t,"ClipsModal",(function(){return f})),n.d(t,"ClipsModalBanUser",(function(){return k})),n.d(t,"ClipsModalDelete",(function(){return D})),n.d(t,"ClipsModalDeleteAll",(function(){return x})),n.d(t,"ClipsModalBatchDelete",(function(){return M}));var i=n("mrSG"),a=n("q1tI"),r=n("/7QA"),o=n("u5aL"),s=n("AjB5"),l=n("Yegi"),c=n("uq9l"),d=n("OCDW"),u=n("5e0Q"),p=n("cwzQ"),m=(n("wC0O"),{TITLE:"clips-modal-title",MAIN_BODY:"clips-modal-main-body",SUCCESS_BODY:"clips-modal-success-body",ERROR_BODY:"clips-modal-error-body",SUBMIT_BUTTON:"clips-modal-submit-button",CANCEL_BUTTON:"clips-modal-cancel-button"}),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderSuccess=function(){return t.props.successContent?a.createElement(s.a,{"data-test-selector":m.SUCCESS_BODY,padding:{x:2,y:1},margin:{bottom:1},background:l.d.Alt,fullWidth:!0},a.createElement(c.a,{type:c.e.Strong},t.props.successContent)):null},t.renderError=function(){return t.props.errorContent?a.createElement(s.a,{"data-test-selector":m.ERROR_BODY,padding:{x:1,y:.5},margin:{bottom:1},borderMarked:!0,background:l.d.Alt,fullWidth:!0},a.createElement(c.a,{type:c.e.Strong,color:l.f.Error},t.props.errorContent)):null},t.onSubmit=function(){t.props.onSubmit()},t}return Object(i.__extends)(t,e),t.prototype.render=function(){return this.props.successContent?a.createElement(o.a,{onClickOut:this.props.onClose},a.createElement(s.a,{padding:2,background:l.d.Base,className:"clip-modal"},this.renderSuccess(),a.createElement(d.a,{display:l.h.Flex,justifyContent:l.m.Center},a.createElement(d.a,{margin:{x:1}},a.createElement(u.a,{"data-test-selector":m.CANCEL_BUTTON,onClick:this.props.onClose},Object(r.d)("Close","ClipsModal")))))):a.createElement(o.a,{onClickOut:this.props.onClose},a.createElement(s.a,{padding:2,background:l.d.Base,className:"clip-modal"},a.createElement(s.a,{"data-test-selector":m.TITLE,borderBottom:!0,margin:{bottom:2},padding:{bottom:1}},this.props.title),a.createElement(s.a,{"data-test-selector":m.MAIN_BODY,borderBottom:!0,margin:{bottom:2},padding:{bottom:2}},this.renderError(),this.props.body),a.createElement(d.a,{display:l.h.Flex,justifyContent:l.m.Center},a.createElement(d.a,{margin:{x:1}},a.createElement(u.a,{"data-test-selector":m.CANCEL_BUTTON,type:u.d.Text,onClick:this.props.onClose},Object(r.d)("Cancel","ClipsModal"))),a.createElement(d.a,{margin:{x:1}},a.createElement(u.a,{"data-test-selector":m.SUBMIT_BUTTON,type:this.props.buttonType?this.props.buttonType:u.d.Primary,onClick:this.onSubmit,disabled:this.props.submitDisabled},this.props.buttonContent),this.props.isLoading&&a.createElement(p.a,{delay:0})))))},t}(a.Component),v=n("atdg"),g=n("iyGE"),h=n("GnwI"),b=86400,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isLoading:!1,hasErrored:!1,hasSucceeded:!1},t.renderTitle=function(){return t.props.isTemporary?a.createElement(c.a,{id:v.a,type:c.e.H5,ellipsis:!0},Object(r.d)("Timeout this Clip Creator for 24 hours from Your Channel","ClipsModalBanUser")):a.createElement(c.a,{type:c.e.H5,ellipsis:!0},Object(r.d)("Ban this Clip Creator from Your Channel","ClipsModalBanUser"))},t.renderBodyText=function(){return t.props.isTemporary?a.createElement(c.a,null,Object(r.d)("{clipCreator} will temporarily be timed out from creating clips and chatting in your channel for 24 hours.",{clipCreator:t.props.targetUser.displayName},"ClipsModalBanUser")):a.createElement(c.a,null,Object(r.d)("{clipCreator} will be permanently banned from creating clips and chatting in your channel.",{clipCreator:t.props.targetUser.displayName},"ClipsModalBanUser"))},t.renderButtonText=function(){return t.props.isTemporary?Object(r.d)("Timeout User","ClipsModalBanUser"):Object(r.d)("Ban User","ClipsModalBanUser")},t.renderSuccess=function(){return t.state.hasSucceeded?Object(r.d)("Success!","ClipsModalBanUser"):null},t.renderFailure=function(){return t.state.hasErrored?t.props.isTemporary?Object(r.d)("There was a problem timing out this clip creator","ClipsModalBanUser"):Object(r.d)("There was a problem banning this clip creator","ClipsModalBanUser"):null},t.banUser=function(){return Object(i.__awaiter)(t,void 0,void 0,(function(){var e,t,n,a;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:this.setState({isLoading:!0,hasSucceeded:!1,hasErrored:!1}),e=this.props.targetUser.login,t=this.props.isTemporary?this.props.banUserMutation(e,b):this.props.banUserMutation(e),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t];case 2:return(n=i.sent())?(!(a=n.banUserFromChatRoom)||a.error?this.setState({hasErrored:!0,isLoading:!1}):this.setState({hasSucceeded:!0,isLoading:!1}),[3,4]):(this.setState({hasErrored:!0,isLoading:!1}),[2]);case 3:return i.sent(),this.setState({hasErrored:!0,isLoading:!1}),[3,4];case 4:return[2]}}))}))},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){return a.createElement(f,{onSubmit:this.banUser,onClose:this.props.onClose,title:this.renderTitle(),body:this.renderBodyText(),buttonContent:this.renderButtonText(),buttonType:u.d.Alert,submitDisabled:this.state.isLoading||this.state.hasSucceeded,successContent:this.renderSuccess(),errorContent:this.renderFailure(),isLoading:this.state.isLoading})},t}(a.Component),k=Object(h.withLatencyTracking)("ClipsModalBanUser")(Object(g.a)((function(e){return{channelID:e.broadcasterID}}))(y)),S=n("ANjH"),E=n("yR8l"),C=n("IZXT"),O=n("vUXZ");function _(e){return Object(E.a)(O,e)}var w=n("wt2C"),P=n("DJtx"),N=(n("n9Ey"),{isLoading:!1,hasErrored:!1,hasSucceeded:!1}),T=function(e){function t(t){var n=e.call(this,t)||this;return n.onDeleteClick=function(){return Object(i.__awaiter)(n,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:this.setState({isLoading:!0,hasSucceeded:!1,hasErrored:!1}),e.label=1;case 1:return e.trys.push([1,3,,4]),this.props.data.clip?[4,this.props.deleteClip(this.props.slug)]:[2];case 2:return e.sent(),this.setState({isLoading:!1,hasSucceeded:!0}),[3,4];case 3:return e.sent(),this.setState({isLoading:!1,hasErrored:!0}),[3,4];case 4:return[2]}}))}))},n.state=N,n}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=[a.createElement(c.a,{id:v.a,key:"title",type:c.e.H4},Object(r.d)("Delete This Clip","ClipsModalDelete")),a.createElement(d.a,{key:"message",margin:{top:1}},a.createElement(c.a,{type:c.e.P,color:l.f.Alt2},Object(r.d)("This clip will be permanently deleted.","ClipsModalDelete")))];if(!this.props.data.clip)return null;var t=null;this.props.data.clip.curator&&this.props.data.clip.curator.login&&(t=a.createElement("span",null,"",Object(r.d)("Clipped by {curator}",{curator:this.props.data.clip.curator.login},"ClipsModalDelete")));var n=a.createElement(s.a,{display:l.h.Flex,flexWrap:l.j.NoWrap},a.createElement(d.a,{className:"clips-modal-delete__thumb",margin:{right:1}},a.createElement(w.b,{ratio:w.c.Aspect16x9},a.createElement("img",{src:this.props.data.clip.thumbnailURL}))),a.createElement(d.a,null,a.createElement(c.a,{type:c.e.H5},this.props.data.clip.title),a.createElement(c.a,{color:l.f.Alt2},Object(r.d)("{created, date, medium}",{created:new Date(this.props.data.clip.createdAt)},"ClipsModalDelete"),t),a.createElement(c.a,{color:l.f.Alt2},Object(r.d)("{viewCount, number} views",{viewCount:this.props.data.clip.viewCount},"ClipsModalDelete"))));return a.createElement(f,{onSubmit:this.onDeleteClick,onClose:this.props.onClose,title:e,body:n,buttonContent:Object(r.d)("Delete","ClipsModalDelete"),buttonType:u.d.Alert,submitDisabled:this.state.hasSucceeded||this.state.isLoading,successContent:this.state.hasSucceeded?Object(r.d)("Success!","ClipsModalDelete"):null,errorContent:this.state.hasErrored?Object(r.d)("There was a problem deleting this clip.","ClipsModalDelete"):null,isLoading:this.state.isLoading})},t}(a.Component),D=Object(S.d)(Object(E.a)(P),_({props:function(e){return{deleteClip:function(t){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var n;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(!e.mutate)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,e.mutate({variables:{input:{slugs:[t]}}})];case 2:return i.sent(),e.ownProps.onDelete&&e.ownProps.onDelete(t),[3,4];case 3:throw n=i.sent(),Object(C.d)()?r.k.warn("Failed to delete clip"):r.k.errorAndReport(n,"Failed to delete clip"),n;case 4:return[2]}}))}))}}}}))(T),I=n("Vsf8"),A={isLoading:!1,hasErrored:!1,hasSucceeded:!1},j=function(e){function t(t){var n=e.call(this,t)||this;return n.deleteAll=function(){return Object(i.__awaiter)(n,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:this.setState({isLoading:!0,hasSucceeded:!1,hasErrored:!1}),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.props.deleteAllClips(this.props.broadcastID,this.props.videoID)];case 2:return e.sent(),this.setState({isLoading:!1,hasSucceeded:!0}),[3,4];case 3:return e.sent(),this.setState({isLoading:!1,hasErrored:!0}),[3,4];case 4:return[2]}}))}))},n.renderSuccess=function(){return n.state.hasSucceeded?Object(r.d)("A request has been made to delete the clip. Please wait a few minutes for this to take effect.","ClipsModalDeleteAll"):null},n.renderFailure=function(){return n.state.hasErrored?Object(r.d)("There was a problem deleting this clip.","ClipsModalDeleteAll"):null},n.state=A,n}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e=a.createElement(c.a,{type:c.e.P},Object(r.d)("This clip and all other clips created from the same video will be permanently deleted.","ClipsModalDeleteAll"));return a.createElement(f,{onSubmit:this.deleteAll,onClose:this.props.onClose,title:a.createElement(c.a,{id:v.a,type:c.e.H4},Object(r.d)("Delete All Clips from Related Video","ClipsModalDeleteAll")),body:e,buttonContent:Object(r.d)("Delete","ClipsModalDeleteAll"),buttonType:u.d.Alert,submitDisabled:this.state.isLoading||this.state.hasSucceeded||""===this.props.broadcastID,isLoading:this.state.isLoading,successContent:this.renderSuccess(),errorContent:this.renderFailure()})},t}(a.Component),x=Object(S.d)(Object(h.withLatencyTracking)("ClipsModalDeleteAll"),_({props:function(e){return{deleteAllClips:function(t,n){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var a,o,s;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(!e.mutate)return[3,8];i.label=1;case 1:return i.trys.push([1,7,,8]),a=void 0,n?[4,e.mutate({variables:{input:{videoID:n}}})]:[3,3];case 2:return o=i.sent(),a=o.data,[3,6];case 3:return t?[4,e.mutate({variables:{input:{broadcastID:t}}})]:[3,5];case 4:return o=i.sent(),a=o.data,[3,6];case 5:throw new Error("Invalid broadcastID specified for deleteAllClips");case 6:return e.ownProps.onDeleteAll&&a&&a.deleteClips&&a.deleteClips.clips&&e.ownProps.onDeleteAll(a.deleteClips.clips),[3,8];case 7:throw s=i.sent(),Object(C.d)()?r.k.warn("Failed to delete clips from VOD"):r.k.errorAndReport(s,"Failed to delete clips from VOD"),s;case 8:return[2]}}))}))}}}}),Object(E.a)(I,{props:function(e){var t=e.data.clip;return t?{videoID:t.video?t.video.id:null,broadcastID:t.broadcast&&t.broadcast.id||""}:{videoID:null,broadcastID:""}},options:function(e){return{variables:{slug:e.slug}}}}))(j),L={isLoading:!1,hasErrored:!1,hasSucceeded:!1},F=function(e){function t(t){var n=e.call(this,t)||this;return n.renderSuccess=function(){return n.state.hasSucceeded?Object(r.d)("Clips successfully deleted.","ClipsModalBatchDelete"):null},n.renderError=function(){return n.state.hasErrored?Object(r.d)("There was a problem deleting this clip.","ClipsModalBatchDelete"):null},n.onDeleteClick=function(){return Object(i.__awaiter)(n,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:this.setState({isLoading:!0,hasSucceeded:!1,hasErrored:!1}),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.props.deleteClips()];case 2:return e.sent(),this.setState({hasSucceeded:!0,isLoading:!1}),[3,4];case 3:return e.sent(),this.setState({hasErrored:!0,isLoading:!1}),[3,4];case 4:return[2]}}))}))},n.state=L,n}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=a.createElement(c.a,{id:v.a,type:c.e.H4},Object(r.d)("Delete these clips?","ClipsModalBatchDelete")),t=a.createElement(c.a,{type:c.e.P},Object(r.d)("These clips will be permanently deleted. Are you sure?","ClipsModalBatchDelete"));return a.createElement(f,{onSubmit:this.onDeleteClick,onClose:this.props.onClose,title:e,body:t,buttonContent:Object(r.d)("Delete","ClipsModalBatchDelete"),buttonType:u.d.Alert,submitDisabled:this.state.hasSucceeded||this.state.isLoading,isLoading:this.state.isLoading,successContent:this.renderSuccess(),errorContent:this.renderError()})},t}(a.Component),M=_({props:function(e){return{deleteClips:function(){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:if(!e.mutate)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.mutate({variables:{input:{slugs:e.ownProps.clipSlugs}}})];case 2:return n.sent(),e.ownProps.onBatchDelete&&e.ownProps.onBatchDelete(),[3,4];case 3:throw t=n.sent(),Object(C.d)()?r.k.warn("Failed to delete clips"):r.k.errorAndReport(t,"Failed to delete clips"),t;case 4:return[2]}}))}))}}}})(F)},juvP:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("mrSG"),a=n("q1tI"),r=n("2Ygb"),o=n("Fn4s");function s(){return function(e){var t=function(t){function n(e){var n=t.call(this,e)||this;n.bufferedEventListeners=[],n.attachedEventListeners=[],n.addEventListener=function(e,t){var i=n.props.mediaPlayerInstance,a={event:e,listener:t};i?(n.attachedEventListeners.push(a),n.bufferedEventListeners=n.filterEventListeners(n.bufferedEventListeners,e,t),i.addEventListener(e,t)):n.bufferedEventListeners.push(a)},n.removeEventListener=function(e,t){var i=n.props.mediaPlayerInstance;i&&(n.attachedEventListeners=n.filterEventListeners(n.attachedEventListeners,e,t),i.removeEventListener(e,t))},n.attachEventListeners=function(){var e=n.props.mediaPlayerInstance;0!==n.bufferedEventListeners.length&&e&&n.bufferedEventListeners.forEach((function(e){var t=e.event,i=e.listener;return n.addEventListener(t,i)}))},n.filterEventListeners=function(e,t,n){return e.filter((function(e){var i=e.event,a=e.listener;return t!==i&&n!==a}))};var i=n,a=i.addEventListener,r=i.removeEventListener;return n.state={playerEvents:{addEventListener:a,removeEventListener:r}},n}return Object(i.__extends)(n,t),n.prototype.componentDidMount=function(){this.attachEventListeners()},n.prototype.componentDidUpdate=function(){this.attachEventListeners()},n.prototype.componentWillUnmount=function(){var e=this;this.attachedEventListeners.forEach((function(t){var n=t.event,i=t.listener;return e.removeEventListener(n,i)}))},n.prototype.render=function(){return a.createElement(e,Object(i.__assign)({},this.props,this.state))},n.displayName=Object(r.a)(n.name,e),n}(a.Component);return Object(o.c)(l)(t)}}function l(e){return{mediaPlayerInstance:e.mediaPlayerInstance}}},k8pZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("mrSG"),a=n("/7QA"),r=n("g/rS");function o(e,t){return e.extensions.installations[t]}a.p.store.registerReducer("extensions",(function(e,t){var n,a;switch(void 0===e&&(e={installations:{}}),t.type){case r.b:return Object(i.__assign)(Object(i.__assign)({},e),{installations:Object(i.__assign)(Object(i.__assign)({},e.installations),(n={},n[t.channelID]=t.installedExtensions,n))});case r.a:var o=e.installations[t.channelID];if(!o)return e;var s=o.filter((function(e){return e.extension.clientId!==t.extensionID}));return Object(i.__assign)(Object(i.__assign)({},e),{installations:Object(i.__assign)(Object(i.__assign)({},e.installations),(a={},a[t.channelID]=s,a))});default:return e}}))},kOvl:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return f}));var i,a=n("pVnL"),r=n.n(a),o=n("VbXa"),s=n.n(o),l=n("q1tI"),c=n("SWse"),d=n("P+FS"),u=n("HQtB"),p=n("OCDW"),m=n("Yegi");!function(e){e.Small="tw-modal--sm",e.Medium="tw-modal--md",e.Large="tw-modal--lg"}(i||(i={}));var f=function(e){function t(){return e.apply(this,arguments)||this}return s()(t,e),t.prototype.render=function(){var e={"tw-modal":!0};return this.props.size&&(e[this.props.size]=!0),l.createElement(p.a,r()({},Object(u.a)(this.props),Object(d.a)(this.props),{className:Object(c.a)(e),display:m.h.Flex,flexDirection:m.i.Column,background:m.d.Base,borderRadius:this.props.borderRadius||m.e.Large,elevation:this.props.elevation||5,fullWidth:!0,role:"dialog","aria-modal":!0,fullHeight:this.props.fullHeight}),this.props.children)},t}(l.Component);f.displayName="ModalWrapper"},kPtI:function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return D}));var i=n("mrSG"),a=n("q1tI"),r=n("ANjH"),o=n("/7QA"),s=n("f00E"),l=n("2xye"),c=n("bRfm"),d=n("G228"),u=n("DWKZ"),p=n("Fn4s"),m=n("UtoE"),f=n("tP7v"),v=n("nqb9"),g=n("c7f0"),h=n("Ix37"),b=n("RGzP"),y=n("OCDW"),k=n("Yegi"),S=n("Mg72"),E=n("IyK4"),C=n("ijG7"),O=(n("1CYo"),.5),_=.1,w="volume_button",P="mute",N="unmute",T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={volumeFocused:!1},t.rangeID="player-volume-slider-"+Object(s.b)(),t.setVolumeFocused=function(){return t.setState((function(e){return e.volumeFocused?null:{volumeFocused:!0}}))},t.setVolumeUnfocused=function(){return t.setState((function(e){return e.volumeFocused?{volumeFocused:!1}:null}))},t.getButtonIcon=function(e){var t=e.muted,n=e.volume;return t||0===n?h.a.VolumeMuted:n&&n>.5?h.a.VolumeMax:h.a.VolumeMid},t.getButtonLabel=function(e){var t=e.muted,n=e.volume;return t||0===n?Object(o.d)("Unmute (m)","VolumeSliderComponent"):Object(o.d)("Mute (m)","VolumeSliderComponent")},t.getRangeValue=function(e){var t=e.muted,n=e.volume;return t?"0":""+(void 0===n?O:n)},t.handleMuteButtonClick=function(){var e=t.props,n=e.muted,i=e.volume,a=e.setVolume,r=e.setMuted,o={persist:!0,userTriggered:!0};n&&0===i&&a(_,o),n&&void 0===i&&a(O,o),r(!n,o),t.trackVolumeButtonClick(!n)},t.handleVolumeChange=function(e){var n=+e.currentTarget.value,i=t.props,a=i.setVolume,r=i.setMuted,o=i.muted,s={persist:!0,userTriggered:!0};a(n,s),o&&0!==n&&r(!1,s),0===n&&r(!0,s),t.props.enablePlayerActiveTimeout()},t.trackVolumeButtonClick=function(e){t.props.track(l.SpadeEventType.VideoPlayerClick,{component:w,component_state:e?P:N})},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.isPlayerCoreLoading,n=e.disableControls,i=this.getButtonIcon(this.props),r=this.getButtonLabel(this.props),s=this.getRangeValue(this.props);if(t)return a.createElement(b.a,{height:30,width:14.5});var l=this.state.volumeFocused,u=!c.a.os.isIOS();return a.createElement("div",{onMouseEnter:this.setVolumeFocused,onMouseLeave:this.setVolumeUnfocused,onFocus:this.setVolumeFocused},a.createElement(y.a,{display:k.h.Flex,alignItems:k.b.Center},a.createElement(d.a,{"data-a-target":"player-mute-unmute-button",label:r,buttonIcon:i,onClick:this.handleMuteButtonClick,disabled:n||this.props.error}),u&&a.createElement(S.a,{alwaysRenderChild:!0,show:l,type:S.d.Fade,duration:S.c.Short,className:"volume-slider__slider-container"},a.createElement(y.a,{display:k.h.Flex,alignItems:k.b.Center,fullHeight:!0},a.createElement(E.a,{display:k.h.HideAccessible},a.createElement("label",{htmlFor:this.rangeID},Object(o.d)("Volume","VolumeSliderComponent"))),a.createElement(C.a,{"data-a-target":"player-volume-slider","data-a-visible":l,fill:!0,min:0,max:1,step:.01,onChange:this.handleVolumeChange,value:s,disabled:n||this.props.error,id:this.rangeID,overlay:!0})))))},t}(a.Component),D=Object(r.d)(Object(m.c)((function(e){return{disableControls:!!Object(g.a)({playerPublicPropsContext:e}).disableAudio}})),Object(v.e)((function(e){var t=e.muted,n=e.volume,i=e.setMuted,a=e.setVolume;return{muted:t,volume:n,setMuted:i,setVolume:a}})),Object(p.c)((function(e){var t=e.isPlayerCoreLoading,n=e.error;return{isPlayerCoreLoading:t,error:!!n}})),Object(u.b)((function(e){return{enablePlayerActiveTimeout:e.enablePlayerActiveTimeout}})),Object(f.c)())(T)},kWYQ:function(e,t,n){},kduP:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}));var i=n("cr+I"),a={"*":"%2A","!":"%21",")":"%29","(":"%28","'":"%27"};function r(e){return"/directory/game/"+encodeURIComponent(e)}function o(e,t){var n="?term="+encodeURIComponent(e).split("").map((function(e){return a[e]||e})).join("");return t&&(n=n+"&type="+t),{pathname:"/search",search:n}}function s(e){return"/signup?"+i.stringify({next:""+e})}},l0mi:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionsForChannelCurrentUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:127}};n.loc.source={body:"query ExtensionsForChannelCurrentUser($channelID: ID!) {\nuser(id: $channelID) {\nid\nself {\nsubscriptionBenefit {\nid\ntier\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ExtensionsForChannelCurrentUser=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ExtensionsForChannelCurrentUser")},l8wk:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionsOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresInMs"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:162}};n.loc.source={body:"query ExtensionsOverlay($channelLogin: String) {\nuser(login: $channelLogin) {\nid\nstream {\nid\ngame {\nid\nname\n}\n}\nself {\nbanStatus {\nisPermanent\nexpiresInMs\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ExtensionsOverlay=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ExtensionsOverlay")},lVPZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){var t=this;this.timerId=null,this.start=function(){t.timerId&&t.stop(),t.timerId=setInterval(t.onInterval,t.intervalMillis)},this.stop=function(){t.timerId&&(clearInterval(t.timerId),t.timerId=null)},this.restart=function(e){void 0===e&&(e=0),t.stop(),t.timerId=setTimeout((function(){t.onInterval(),t.start()}),e)},this.onInterval=e.onInterval,this.intervalMillis=e.intervalMillis}},lX3L:function(e,t,n){},lZCe:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("mrSG"),a=n("q1tI"),r=n("/7QA"),o=function(e){function t(t){var n=e.call(this,t)||this;n.logger=r.p.logger.withCategory("component-experiment");var i=r.p.experiments.getAndTrackAssignment(n.props.name,n.props.channel?{channel:n.props.channel}:{});return i&&n.props.assignments[i]?n.logger.debug("Displaying component for experiment",{name:n.props.name,assignment:i}):n.logger.debug("Displaying fallback component for experiment",{name:n.props.name,assignment:i}),n.state={assignment:i},n}return Object(i.__extends)(t,e),t.prototype.render=function(){if(this.state.assignment&&this.props.assignments[this.state.assignment]){var e=this.props.assignments[this.state.assignment]();return"string"==typeof e?(window.location.replace(e),null):e}return this.props.assignments.fallback()},t}(a.Component)},"ll/k":function(e,t,n){"use strict";function i(e,t){if(void 0===t&&(t=0),t>e){var n=t;t=e,e=n}return t+Math.floor(Math.random()*(e-t+1))}function a(e){return e[i(e.length-1)]}function r(e,t){for(var n=0,i=[];n<e;)i.push(t(n)),n+=1;return i}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r}))},lp77:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return m}));var i=n("7aRD"),a=n("7AWC");function r(e,t){var n;return Object(a.c)(e)&&u()&&!!e.lineItemId&&e.adFormat===i.a.MultiplayerAd&&!!t&&!!(null===(n=t.line_item_ids)||void 0===n?void 0:n.find((function(t){return t===e.lineItemId})))}function o(e,t){return u()&&!!t&&e}var s=n("wUQP"),l="mads_polls_ui_enabled",c="mads_polls_dashboard_enabled",d="mads_turbo_subs_banner";function u(){return Object(s.c)(l)}function p(){return Object(s.c)(c)}function m(){return Object(s.c)(d)}},lrez:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayer_VideoSourceManager"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UserByAttribute"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userByAttribute"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:104}};n.loc.source={body:"query VideoPlayer_VideoSourceManager($input: UserByAttribute!) {\nuserByAttribute(input: $input) {\nid\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoPlayer_VideoSourceManager=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoPlayer_VideoSourceManager")},lywp:function(e,t,n){"use strict";function i(){return n.e(231).then(n.bind(null,"7pbv"))}function a(e,t){var n=function(e){return Array.from(e.normalize?e.normalize("NFC"):e)}(e);return n.length<=t?e:n.slice(0,t-3).join("").trim()+"..."}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}))},m3Rs:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i,a=n("/7QA");!function(e){e.PLAYBACK_RATE="playback-rate",e.BITRATE="quality-bitrate",e.VOLUME="volume",e.LOW_LATENCY_MODE="lowLatencyModeEnabled",e.PERSISTENCE_ENABLED="persistenceEnabled",e.VOD_RESUME_TIMES="vodResumeTimes",e.LIVE_RESUME_TIMES="livestreamResumeTimes"}(i||(i={}));var r={get:function(e,t){var n=a.p.storage.getOptional(e);return null===n?t:n},set:function(e,t){a.p.storage.set(e,t)}}},m8ny:function(e,t,n){},mA37:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerStatusOverlayChannel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:107}};n.loc.source={body:"query VideoPlayerStatusOverlayChannel($channel: String) {\nuser(login: $channel) {\nid\nstream {\nid\ntype\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoPlayerStatusOverlayChannel=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoPlayerStatusOverlayChannel")},mDIl:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("8OQS"),a=n.n(i),r=n("q1tI"),o=n("OCDW"),s=n("Yegi"),l=n("4Nlk"),c=n("YQhk"),d=function(e){var t=e.show,n=e.direction,i=e.offsetX,d=e.offsetY,u=a()(e,["show","direction","offsetX","offsetY"]);return r.createElement(o.a,{display:t?s.h.Block:s.h.Hide},r.createElement(l.a,{direction:n,offsetX:i,offsetY:d},r.createElement(c.b,u)))};d.displayName="AttachedBalloon",d.displayName="AttachedBalloon"},mDMT:function(e,t,n){},"mRg+":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("mrSG"),a=n("q1tI"),r=n("ANjH"),o=n("/7QA"),s=n("GnwI"),l=n("OCDW"),c=n("Yegi"),d=n("IyK4"),u=n("5e0Q"),p=(n("25vm"),function(e){function t(t){var n=e.call(this,t)||this;return n.setRef=function(e){n.setState({clipboardInput:e})},n.copy=function(e){var t;try{n.state.clipboardInput&&n.state.clipboardInput.select(),t=document.execCommand("copy")}catch(e){t=!1}return n.props.onClick&&n.props.onClick(e),n.setState({copied:t}),t},n.state={copied:!1,clipboardInput:null},n}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){var e=this.state.copied?Object(o.d)("copied","CopyButton"):Object(o.d)("copy","CopyButton");return a.createElement(l.a,{className:"copy-button copy-btn",display:c.h.Flex},a.createElement(d.a,{className:"copy-button__btn"},a.createElement(u.a,{onClick:this.copy,type:this.state.copied?u.d.Success:u.d.Primary},e)),a.createElement("input",{className:"copy-button__copy-input",ref:this.setRef,value:this.props.clipboardText,readOnly:!0}))},t}(a.Component)),m=Object(r.d)(Object(s.withLatencyTracking)("CopyButton"))(p),f=n("TwdJ"),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={value:t.props.initialText},t.onChange=function(e){t.setState({value:e.currentTarget.value})},t.handleInputClick=function(e){t.props.onInputClick&&t.props.onInputClick(e)},t.handleButtonClick=function(e){t.props.onButtonClick&&t.props.onButtonClick(e)},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){return this.state&&this.state.value?a.createElement(l.a,{className:"copyable-item",display:c.h.Flex,flexGrow:1},a.createElement(l.a,{flexGrow:1},a.createElement(f.a,{disabled:this.props.disabled,onChange:this.onChange,onClick:this.handleInputClick,readOnly:this.props.readOnly,type:f.c.Text,value:this.state.value,overlay:this.props.overlay})),a.createElement(l.a,null,a.createElement(m,{clipboardText:this.state.value,onClick:this.handleButtonClick}))):null},t}(a.Component),g=Object(r.d)(Object(s.withLatencyTracking)("CopyableItem"))(v)},my87:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("CGXs"),a=n("eirU"),r=n("0Log"),o=n("/aPz"),s=n("IycQ"),l=n("a0DK");function c(e,t){var n,c,d,u,p,m,f=Object(a.d)(s,{variables:{channelLogin:e||""},skip:!Object(l.o)()||!e||t,fetchPolicy:"network-only"}),v=f.data,g=f.loading,h=null!==(c=null===(n=null==v?void 0:v.user)||void 0===n?void 0:n.id)&&void 0!==c?c:null,b=Object(i.a)(h?Object(o.O)(h):"",!Object(l.o)()||!h||t,(function(e){return e.type!==r.PubsubMessageType.PrimeVideoWatchPartyStateUpdate}))[0],y=null===(p=null===(u=null===(d=null==v?void 0:v.user)||void 0===d?void 0:d.watchParty)||void 0===u?void 0:u.session)||void 0===p?void 0:p.state;b&&(m=b.data.state);var k=!1;return m?k=Object(l.p)(m):y&&(k=Object(l.p)(y)),g&&(k=!1,m=void 0,y=void 0),{isHostingWatchParty:k,watchPartyStateFromPubsub:m,watchPartyStateFromGQL:y}}},mzKw:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return m}));var i,a,r,o=n("TSYQ"),s=n("q1tI"),l=n("6FuP"),c=n("LNol"),d=n("Ix37"),u=n("IyK4"),p=n("Yegi");n("dW6f");!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(i||(i={})),function(e){e[e.Handle=0]="Handle"}(a||(a={})),function(e){e[e.None=0]="None",e[e.Small=15]="Small",e[e.Medium=25]="Medium"}(r||(r={}));var m=function(e){var t=o("draggable-slider-handle",{"draggable-slider-handle--left":e.handlePosition===i.Left,"draggable-slider-handle--right":e.handlePosition===i.Right,"draggable-slider-handle--blue":e.color===l.a.Blue,"draggable-slider-handle--orange":e.color===l.a.Orange,"draggable-slider-handle--compact":e.size===r.None}),n=e.size===r.None?null:s.createElement(c.a,{asset:d.a.DragHandle,width:e.size});return s.createElement(u.a,{flexGrow:0,flexShrink:0,className:t,display:p.h.Flex,fullHeight:!0},s.createElement("div",{"data-test-selector":a.Handle,onMouseDown:e.onMouseDown,ref:e.onRef},n))}},n9Ey:function(e,t,n){},nAdh:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"creatorArtistFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"28"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"settings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"visibility"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:194}};n.loc.source={body:"# Queries the data necessary to render artist's channel info.\nfragment creatorArtistFragment on User {\nid\nlogin\ndisplayName\nprofileImageURL(width:28)\nsettings {\nvisibility\n}\nstream {\nid\ntype\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},nM72:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("q1tI"),a=n("Fn4s"),r=function(e,t){var n=i.useContext(a.b).mediaPlayerInstance;i.useEffect((function(){return n&&n.addEventListener(e,t),function(){n&&n.removeEventListener(e,t)}}),[e,t,n])}},"nTT+":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ClipsTrackingBase"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:143}};n.loc.source={body:"query ClipsTrackingBase($slug: ID!) {\nclip(slug: $slug) {\nid\nbroadcaster {\nid\nlogin\nisPartner\nstream {\nid\n}\n}\ngame {\nid\nname\n}\nvideo {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ClipsTrackingBase=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ClipsTrackingBase")},ndwU:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("/7QA");function a(){return"variant1"===i.p.experiments.getAndTrackAssignment("TWILIGHT_CLIPS_ON_THE_BRAIN")}},nqb9:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return y})),n.d(t,"e",(function(){return S})),n.d(t,"d",(function(){return E})),n.d(t,"c",(function(){return O}));var i=n("mrSG"),a=n("q1tI"),r=n("ANjH"),o=n("eWfW"),s=n("7AWC"),l=n("Bnzf"),c=n("m3Rs"),d=n("69Mc"),u=n("Q3S8"),p=n("TzpY"),m=n("c7f0"),f=n("wNtA"),v=n("Av26"),g=n("Fn4s"),h=n("UtoE"),b={playSessionId:""},y={isPlaying:!0,play:function(){return null},pause:function(){return null},seek:function(){return null},setMuted:function(){return null},setVolume:function(){return null},setQuality:function(){return null},getPlayerMetadata:function(){return b}},k=Object(v.a)("VideoPlaybackContext",y,(function(e){return{videoPlaybackContext:e}})),S=k.withMemoContext,E=k.context,C=function(e){function t(t){var n=e.call(this,t)||this;n.preRestrictionMuted=void 0,n.play=function(){var e=n.props,t=e.mediaPlayerInstance,i=e.videoAd;if(i)return n.setState((function(e){return e.isPlaying?null:{isPlaying:!0}})),void i.play();t&&(n.setState((function(e){return e.isPlaying?null:{isPlaying:!0}})),t.play())},n.pause=function(){var e=n.props,t=e.mediaPlayerInstance,i=e.videoAd;if(i)return n.setState({isPlaying:!1}),void i.pause();t&&(n.setState({isPlaying:!1}),t.pause())},n.seek=function(e){var t=n.props,i=t.mediaPlayerInstance,a=t.isAdShowing,r=t.contentIsLive;!a&&!r&&isFinite(Object(d.a)(n.props))&&!n.props.playerIdle&&i&&i.seekTo(e)},n.setVolume=function(e,t){var i=n.props,a=i.videoAd,r=i.mediaPlayerInstance,o=i.audioBlocked,s=i.updateContext,l=i.updateAdVolume,d=i.disableUserPreferencePersistence,u=i.userEverUnmuted,p=t&&t.persist,m=t&&t.userTriggered;m&&e>0&&!u&&s({userEverUnmuted:!0}),a?(l(e,!!m),a.setVolume(e)):null==r||r.setVolume(e),p&&!d&&c.b.set(c.a.VOLUME,e),o&&!a&&m&&s({audioBlocked:!1})},n.setMuted=function(e,t){var i=n.props,a=i.videoAd,r=i.isAdShowing,o=i.mediaPlayerInstance,s=i.audioBlocked,c=i.updateContext,d=i.updateAdMuted,u=i.disableUserPreferencePersistence,p=i.playerType,m=i.userEverUnmuted,f=t&&t.persist,v=t&&t.userTriggered;(!v||e||m||c({userEverUnmuted:!0}),v||!s)&&(a&&(a.setMuted(e),d(e,!!v)),a&&!(a&&!r)||null==o||o.setMuted(e),f&&!u&&l.b.set(l.a.MUTED,p,e),s&&c({audioBlocked:!1}))},n.setQuality=function(e){if(n.props.mediaPlayerInstance){var t=n.props.availableQualities.find((function(t){return t.group.includes(e)}));t&&(n.props.updateContext({quality:t.group,qualityBitrate:t.bitrate}),t.group===o.a?n.props.mediaPlayerInstance.setAutoQualityMode(!0):n.props.mediaPlayerInstance.setQuality(t))}},n.getPlayerMetadata=function(){var e=n.props,t=e.mediaPlayerInstance;return{playSessionId:e.playSessionId,latencyToBroadcaster:t?1e3*t.getLiveLatency():void 0}},n.getCombinedPlaybackState=function(e){return{muted:n.getMuted(e),volume:n.getVolume(e)}},n.isCurrentlyPlaying=function(e){var t=e.playerPlaying,n=e.playerBuffering,i=e.isAdShowing,a=e.videoAd,r=e.adPlaying;return i&&a?r:t||n},n.getVolume=function(e){var t=e.isAdShowing,n=e.videoAd,i=e.adVolume,a=e.playerVolume;return t&&n?i:a},n.getMuted=function(e){var t=e.isAdShowing,n=e.videoAd,i=e.adMuted,a=e.playerMuted;return t&&n?i:a},n.areStatesEqual=function(e,t){return Object.keys(t).every((function(n){return t[n]===e[n]}))},n.setNextPlayingState=function(e){var t=n.state.isPlaying;e.isPlayerCoreLoading&&n.props.isPlayerCoreLoading&&e.autoplay!==n.props.autoplay&&(t=!!n.props.autoplay);var a=!e.isOffline&&n.props.isOffline,r=!e.playerEnded&&n.props.playerEnded,o=!e.playerIdle&&n.props.playerIdle;!n.props.videoAd&&(a||r||o)&&(t=!1);var s=n.isCurrentlyPlaying(e),l=n.isCurrentlyPlaying(n.props);s!==l&&(t=l);var c=Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},n.state),n.getCombinedPlaybackState(n.props)),{isPlaying:t});n.areStatesEqual(n.state,c)||n.setState(c)},n.updateRestrictedPlayback=function(e){var t=e.hasPlaybackRestriction,i=n.props.hasPlaybackRestriction;t&&!i&&(n.play(),n.preRestrictionMuted||n.setMuted(!1)),!t&&i&&(n.preRestrictionMuted=n.state.muted,n.pause(),n.setMuted(!0))};var a=!(!t.autoplay||t.isOffline||t.playerEnded);return n.state=Object(i.__assign)(Object(i.__assign)({},n.getCombinedPlaybackState(t)),{isPlaying:n.isCurrentlyPlaying(t)||a,play:n.play,pause:n.pause,seek:n.seek,setMuted:n.setMuted,setVolume:n.setVolume,setQuality:n.setQuality,getPlayerMetadata:n.getPlayerMetadata}),n}return Object(i.__extends)(t,e),t.prototype.componentDidUpdate=function(e){this.setNextPlayingState(e),this.updateRestrictedPlayback(e)},t.prototype.render=function(){return a.createElement(E.Provider,{value:this.state},this.props.children||null)},t}(a.PureComponent),O=Object(r.d)(Object(h.c)((function(e){var t=Object(m.a)({playerPublicPropsContext:e});return{disableAudio:!!t.disableAudio,disableUserPreferencePersistence:!!t.disableUserPreferencePersistence,playerType:e.type,contentIsLive:Object(u.s)(e.content)}})),Object(g.c)((function(e){return{availableQualities:e.availableQualities,playerVolume:e.volume,playerPlaying:Object(p.j)(e),playerMuted:e.muted,playerEnded:Object(p.g)(e),playerIdle:Object(p.h)(e),playerBuffering:Object(p.f)(e),playSessionId:e.playSessionId,autoplay:e.autoplay,isOffline:e.isOffline,isPlayerCoreLoading:e.isPlayerCoreLoading,audioBlocked:e.audioBlocked,hasPlaybackRestriction:Object(p.d)(e),updateContext:e.updateContext,mediaPlayerInstance:e.mediaPlayerInstance,userEverUnmuted:e.userEverUnmuted}})),Object(f.c)((function(e){return{videoAd:Object(s.a)({adContext:e}),adPlaying:e.isPlaying,adMuted:e.muted,adVolume:e.volume,isAdShowing:Object(s.d)(e.videoAdMetadata),updateAdMuted:e.updateAdMuted,updateAdVolume:e.updateAdVolume,videoAdMetadata:e.videoAdMetadata}})))(C)},nt5g:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RoleRestricted"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contentOwnerLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isStaff"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"contentOwnerLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEditor"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:147}};n.loc.source={body:"query RoleRestricted($contentOwnerLogin: String!) {\ncurrentUser {\nid\nroles {\nisStaff\n}\n}\nuser(login: $contentOwnerLogin) {\nid\nself {\nisEditor\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.RoleRestricted=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"RoleRestricted")},nyM4:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PlaybackAccessToken"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isLive"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isVod"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"playerType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"streamPlaybackAccessToken"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelName"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}},{kind:"Argument",name:{kind:"Name",value:"params"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"platform"},value:{kind:"StringValue",value:"web",block:!1}},{kind:"ObjectField",name:{kind:"Name",value:"playerBackend"},value:{kind:"StringValue",value:"mediaplayer",block:!1}},{kind:"ObjectField",name:{kind:"Name",value:"playerType"},value:{kind:"Variable",name:{kind:"Name",value:"playerType"}}}]}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isLive"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"signature"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"videoPlaybackAccessToken"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}},{kind:"Argument",name:{kind:"Name",value:"params"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"platform"},value:{kind:"StringValue",value:"web",block:!1}},{kind:"ObjectField",name:{kind:"Name",value:"playerBackend"},value:{kind:"StringValue",value:"mediaplayer",block:!1}},{kind:"ObjectField",name:{kind:"Name",value:"playerType"},value:{kind:"Variable",name:{kind:"Name",value:"playerType"}}}]}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isVod"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"signature"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:601}};n.loc.source={body:'# This query name is VERY IMPORTANT.\n#\n# There is code in twilight-apollo to split links such that\n# this query is NOT batched in an effort to retain snappy TTV.\nquery PlaybackAccessToken($login: String! $isLive: Boolean! $vodID: ID! $isVod: Boolean! $playerType: String!) {\nstreamPlaybackAccessToken(channelName: $login params: {platform: "web" playerBackend: "mediaplayer" playerType: $playerType}) @include(if: $isLive) {\nvalue\nsignature\n}\nvideoPlaybackAccessToken(id: $vodID params: {platform: "web" playerBackend: "mediaplayer" playerType: $playerType}) @include(if: $isVod) {\nvalue\nsignature\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.PlaybackAccessToken=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"PlaybackAccessToken")},oB8h:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e.Live="live",e.WatchParty="watch_party",e.Premiere="premiere",e.Rerun="rerun"}(i||(i={}))},"oC+A":function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return E}));var i=n("q1tI"),a=n("/7QA"),r=n("cZKs"),o=n("sIqa"),s=n("kOvl"),l=n("UUjt"),c=n("PLT/"),d=n("SWSa"),u=n("Yegi"),p=n("OCDW"),m=n("uq9l"),f=n("AjB5"),v=n("p9DJ"),g=n("yWUM");n("RRt+");var h,b,y=[["frameborder","0"],["allowfullscreen","true"],["scrolling","no"],["height",378],["width",620]].map((function(e){return'<span class="token attr-name">'+e[0]+'</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>'+e[1]+'<span class="token punctuation">"</span>'})).join(" ");function k(e,t){switch(e){case b.Channel:return function(e){void 0===e&&(e="channelName");return{__html:'<pre class="language-markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://player.twitch.tv/?'+["channel="+e,"parent=www.example.com"].filter(Boolean).join("&amp;")+'<span class="token punctuation">"</span> '+y+'</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span></code></pre>'}}(t.login);case b.VOD:return function(e,t){void 0===e&&(e="videoId");return{__html:'<pre class="language-markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://player.twitch.tv/?'+["video="+e,t&&"time="+Object(g.a)(t||0),"parent=www.example.com"].filter(Boolean).join("&amp;")+'<span class="token punctuation">"</span> '+y+'</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span></code></pre>'}}(t.video,t.videoStartTime);case b.Clip:return function(e){void 0===e&&(e="ClipSlug");return{__html:'<pre class="language-markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://clips.twitch.tv/embed?'+["clip="+e,"parent=www.example.com"].filter(Boolean).join("&amp;")+'<span class="token punctuation">"</span> '+y+'</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span></code></pre>'}}(t.clipSlug);case b.Collection:return function(e,t,n){void 0===e&&(e="collectionId");void 0===t&&(t="videoId");return{__html:'<pre class="language-markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://player.twitch.tv/?'+["collection="+e,"video="+t,n&&"time="+Object(g.a)(n||0),"parent=www.example.com"].filter(Boolean).join("&amp;")+'<span class="token punctuation">"</span> '+y+'</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span></code></pre>'}}(t.collection,t.video,t.videoStartTime);default:Object(o.a)(e)}}function S(e){return void 0===e&&(e="channelName"),{__html:'<pre class="language-markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>iframe</span>\n  <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>chat_embed<span class="token punctuation">"</span></span>\n  <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://www.twitch.tv/embed/'+e+"/chat?"+["parent=www.example.com"].filter(Boolean).join("&amp;")+'<span class="token punctuation">"</span></span>\n  <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>500<span class="token punctuation">"</span></span>\n  <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>350<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>iframe</span><span class="token punctuation">&gt;</span></span></code></pre>'}}!function(e){e[e.VideoPlayer=0]="VideoPlayer",e[e.Chat=1]="Chat"}(h||(h={})),function(e){e[e.Channel=0]="Channel",e[e.VOD=1]="VOD",e[e.Clip=2]="Clip",e[e.Collection=3]="Collection"}(b||(b={}));var E=function(e){var t,n=e.login,y=e.video,E=e.clipSlug,O=e.collection,_=e.embedModalType,w=e.videoStartTime,P=i.useState(h.VideoPlayer),N=P[0],T=P[1],D=_!==b.Channel,I=_===b.Channel||_===b.VOD||_===b.Collection;switch(N){case h.VideoPlayer:t=function(e,t,n){var r=function(e,t){var n,i='channel: "'+(t.login||"channelName")+'"',a='video: "'+(t.video||"videoId")+'"',r='clip: "'+(t.clipSlug||"clipSlug")+'"',s='collection: "'+(t.collection||"collectionId")+'"',l='time: "'+Object(g.a)(t.videoStartTime||0)+'"';switch(e){case b.Channel:n=i;break;case b.VOD:n=a;break;case b.Clip:n=r;break;case b.Collection:n=s+",\n"+a;break;default:Object(o.a)(e)}return t.videoStartTime&&(n+=",\n"+l),{__html:'<pre class="language-markup"><code class="language-markup"><span class="token comment">&lt;!-- Add a placeholder for the Twitch embed --&gt;</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>twitch-embed<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>\n\n<span class="token comment">&lt;!-- Load the Twitch embed script --&gt;</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://player.twitch.tv/js/embed/v1.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>\n\n<span class="token comment">&lt;!-- Create a Twitch.Player object. This will render within the placeholder div --&gt;</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>\n  new Twitch.Player("twitch-embed", {\n    '+(n=n.replace(/\n/g,"\n    ").trim())+'\n  });\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></code></pre>'}}(e,t);return i.createElement(i.Fragment,null,n&&i.createElement(i.Fragment,null,i.createElement(m.a,{type:m.e.H3,fontSize:u.k.Size5,bold:!0},Object(a.d)("Using Javascript","EmbedModal")),i.createElement("div",{dangerouslySetInnerHTML:r,className:"embed-modal-code-example","data-test-selector":"embed-modal__video-player-js-instructions--"+e})),i.createElement(p.a,{padding:{top:n?1:0},"data-test-selector":"embed-modal__video-player-instructions--"+e},i.createElement(m.a,{type:m.e.H3,fontSize:u.k.Size5,bold:!0},C())),i.createElement("div",{className:"embed-modal-code-example","data-test-selector":"embed-modal__iframe-instructions",dangerouslySetInnerHTML:k(e,t)}))}(_,{login:n,video:y,clipSlug:E,collection:O,videoStartTime:w},I);break;case h.Chat:t=function(e){return i.createElement(i.Fragment,null,i.createElement(m.a,{type:m.e.H3,fontSize:u.k.Size5,bold:!0},C()),i.createElement("div",{className:"embed-modal-code-example","data-test-selector":"embed-chat-instructions",dangerouslySetInnerHTML:S(e)}))}(n);break;default:Object(o.a)(N)}return i.createElement(s.b,{size:s.a.Medium},i.createElement(l.a,{title:Object(a.d)("Embed","EmbedModal")}),i.createElement(c.a,null,i.createElement(r.a,{displayInset:!0,closeOnBackdropClick:!0}),i.createElement(i.Fragment,null,!D&&i.createElement(d.b,{justifyContent:u.m.Start,activeTabIndex:N,size:d.a.Large,tabs:[{label:Object(a.d)("Video Player","EmbedModal"),onClick:function(){return T(h.VideoPlayer)}},{label:Object(a.d)("Chat","EmbedModal"),onClick:function(){return T(h.Chat)}}]}),i.createElement(p.a,{padding:{top:D?0:2,bottom:1}},t),i.createElement(p.a,{padding:{bottom:1}},i.createElement(m.a,null,Object(a.d)("Be sure to fill in the placeholder with the site you want to embed Twitch on!","EmbedModal"))),i.createElement(f.a,{borderTop:!0,margin:{y:1}}),i.createElement(m.a,{fontSize:u.k.Size5},i.createElement(v.a,{linkTo:"https://dev.twitch.tv/docs/embed",title:Object(a.d)("Embedding Twitch in Your Website","EmbedModal"),targetBlank:!0},Object(a.d)("API Reference","EmbedModal"))))))},C=function(){return Object(a.d)("Using an iframe","EmbedModal")}},oKCn:function(e,t,n){"use strict";var i;n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return r})),function(e){e.Auto="auto",e.HighHighFPS="1080p60",e.High="1080p30",e.MediumHighFPS="720p60",e.Medium="720p30",e.Low="360p30",e.VeryLow="160p30"}(i||(i={}));var a,r,o={group:"auto",width:1e5,height:1e5},s={group:"720p60",width:1280,height:720},l={group:"360p30",width:640,height:360};!function(e){e.Delete="delete",e.DeleteAll="deleteAll",e.ReportUser="report"}(a||(a={})),function(e){e.PlayAndPauseAtCurrentEditingSegmentEnd="playAndPauseAtCurrentEditingSegmentEnd",e.PlayAndPauseAtLastEditingSegmentEnd="playAndPauseAtLastEditingSegmentEnd",e.PlayAndReplayAtCurrentEditingSegmentEnd="playAndReplayAtCurrentEditingSegmentEnd"}(r||(r={}))},oe5X:function(e,t,n){"use strict";var i=n("2ycz");n.d(t,"a",(function(){return i.b}))},"ow+R":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("q1tI"),a=n("ANjH"),r=n("/7QA"),o=n("hyxX"),s=n("bu9A"),l=n("Fn4s"),c=n("cwzQ"),d=n("OCDW"),u=n("Yegi"),p=n("uq9l"),m=Object(a.d)(Object(o.a)({name:"LoadingOverlay"}),Object(l.c)((function(e){return{isNetworkOffline:e.isNetworkOffline}})))((function(e){var t=e.isNetworkOffline;return i.createElement(s.a,{transparency:s.c.Transparency5,type:s.b.Fullscreen},i.createElement(c.a,{inheritColor:!0,size:c.b.Large}),t&&i.createElement(d.a,{className:"loading-overlay__user-offline",margin:{top:2},textAlign:u.q.Center},i.createElement(p.a,{fontSize:u.k.Size4,bold:!0,lineHeight:p.b.Heading,color:u.f.Overlay},Object(r.d)("You seem to be offline. Please wait while we try to reconnect.","VideoPlayerLoadingOverlay"))))}))},p9E3:function(e,t,n){"use strict";function i(e,t,n){return e+"?token="+t+"&sig="+n}n.d(t,"a",(function(){return i}))},pr4f:function(e,t,n){"use strict";var i=n("Cdgh");n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.b})),n.d(t,"c",(function(){return i.c})),n.d(t,"d",(function(){return i.d})),n.d(t,"e",(function(){return i.e})),n.d(t,"f",(function(){return i.g})),n.d(t,"g",(function(){return i.h})),n.d(t,"h",(function(){return i.i})),n.d(t,"i",(function(){return i.j})),n.d(t,"j",(function(){return i.k})),n.d(t,"k",(function(){return i.l})),n.d(t,"l",(function(){return i.m})),n.d(t,"m",(function(){return i.n})),n.d(t,"n",(function(){return i.o})),n.d(t,"o",(function(){return i.p})),n.d(t,"p",(function(){return i.q})),n.d(t,"q",(function(){return i.r}))},pwCS:function(e,t,n){"use strict";n.d(t,"a",(function(){return G}));var i=n("/MKj"),a=n("ANjH"),r=n("XDCx"),o=n("mrSG"),s=n("q1tI"),l=n("/7QA"),c=n("yR8l"),d=n("DMoW"),u=n("2xye"),p=n("jsEL"),m=n("GnwI"),f=n("/HY+"),v=n("eFQ3"),g=n("+XUr"),h=n("oKCn"),b=n("i/Zp"),y=function(e){var t=e.api,n=t.play,i=t.pause;e.state.isPlaying?i():n()},k=n("bRfm"),S=n("IyK4"),E=n("Yegi"),C=n("AjB5"),O=n("OCDW"),_=n("OTul"),w=n("p9DJ"),P=n("zZ9p"),N=n("eUaf"),T=n("CZEi"),D=n("G9R1"),I=n("wt2C"),A=n("qo7U"),j=n("uq9l"),x=n("swlv"),L=n("Ix37"),F=(n("qDtz"),n("vl+S")),M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isDismissed:!1},t.showingForClip=null,t.dismissWatchLivePrompt=function(e){e.preventDefault(),t.setState({isDismissed:!0})},t}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=this.props.data.clip;if(this.state.isDismissed||!this.shouldBeVisible()||!(e&&e.game&&e.broadcaster&&e.broadcaster.stream&&e.broadcaster.stream.id))return null;var t=e.broadcaster,n=e.game,i=t.login?Object(_.c)(t.login):Object(_.i)();return s.createElement(O.a,{className:"watch-live-prompt",position:E.o.Absolute,zIndex:E.t.Above,attachRight:!0},s.createElement(w.a,{linkTo:i,hoverUnderlineNone:!0,targetBlank:!0},s.createElement(P.a,{type:P.f.SlideInRight,duration:P.c.Short,enabled:!0},s.createElement(C.a,{padding:1,elevation:2,background:E.d.Overlay},s.createElement(O.a,{position:E.o.Relative,display:E.h.Flex,flexDirection:E.i.Row,alignItems:E.b.Center},s.createElement(O.a,{position:E.o.Absolute,attachTop:!0,attachLeft:!0,zIndex:E.t.Above},s.createElement(N.a,{label:Object(l.d)("LIVE","WatchLivePrompt"),type:N.b.Live})),s.createElement(T.a,{row:!0},s.createElement(D.a,{src:e.thumbnailURL,alt:Object(l.d)("Clip Thumbnail","ClipWatchLivePrompt"),aspect:I.c.Aspect16x9,size:D.b.Size6}),s.createElement(A.a,null,s.createElement(O.a,{className:"watch-live-prompt__copy",padding:{x:1}},s.createElement(j.a,{type:j.e.H5,color:E.f.Overlay,lineHeight:j.b.Heading,ellipsis:!0},Object(l.d)("Watch {displayName} Live",{displayName:t.displayName||""},"WatchLivePrompt")),s.createElement(j.a,{type:j.e.H6,color:E.f.OverlayAlt,lineHeight:j.b.Heading,ellipsis:!0},Object(l.d)("playing {gameName}",{gameName:n.displayName},"WatchLivePrompt"))))),s.createElement(x.a,{"aria-label":Object(l.d)("Dismiss watch live prompt","WatchLivePrompt"),icon:L.a.Close,onClick:this.dismissWatchLivePrompt,type:x.c.Primary,overlay:!0,size:x.b.Large}))))))},t.prototype.shouldBeVisible=function(){var e=this.props,t=e.currentTime,n=e.data,i=e.slug,a=n.clip&&n.clip.durationSeconds;return!(this.showingForClip!==i||!n.clip)||!(!a||!t)&&(t>.6*a&&18<=a&&(this.showingForClip=i,!0))},t}(s.Component),R=Object(a.d)(Object(c.a)(F))(M),V=(n("Kgiw"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=k.a.platform.isMobile()||k.a.platform.isTablet();return s.createElement(S.a,{position:E.o.Absolute,fullHeight:!0,fullWidth:!0},s.createElement("div",{ref:this.props.setPlayerWrapperRef},s.createElement(C.a,{className:"clips-video-overlay",fullHeight:!0,fullWidth:!0,position:E.o.Absolute,overflow:E.n.Hidden},!e&&this.props.playerType===b.a.ClipsViewing&&s.createElement(R,{slug:this.props.slug,currentTime:this.props.currentTime})),s.createElement(O.a,{position:E.o.Absolute,fullHeight:!0,fullWidth:!0},this.props.children)))},t}(s.Component)),B=(n("ibn3"),n("OTsR")),U=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isLoaded:!1},t.playerWrapperRef=null,t.onClipsModerationOpen=function(e){if(e===h.e.ReportUser){var n=t.props.data.clip&&t.props.data.clip.broadcaster?t.props.data.clip.broadcaster.id:"",i=t.props.data.clip&&t.props.data.clip.curator?t.props.data.clip.curator.id:"";t.props.showModal(f.a,{title:Object(l.d)("Report this Clip","ClipsViewModerationModals"),reportContext:{contentType:d.Xd.CLIP_REPORT,contentID:t.props.slug,targetUserID:n||"",additionalTrackingID:i||""},onClose:t.props.closeModal})}e===h.e.Delete&&t.props.showModal(p.ClipsModalDelete,{slug:t.props.slug,onClose:t.props.closeModal}),e===h.e.DeleteAll&&t.props.showModal(p.ClipsModalDeleteAll,{slug:t.props.slug,onClose:t.props.closeModal})},t.setPlayerWrapperRef=function(e){return t.playerWrapperRef=e},t}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.slug,n=e.playerType,i=e.editing,a=i&&i.segments&&i.segments[0]&&i.segments[0].startOffset;return s.createElement(O.a,{flexGrow:1},s.createElement(I.b,{ratio:I.c.Aspect16x9},s.createElement(V,{slug:t,setPlayerWrapperRef:this.setPlayerWrapperRef,playerType:this.props.playerType,currentTime:this.props.currentTime},s.createElement(C.a,{className:"clips-video-wrapper",position:E.o.Relative,fullWidth:!0,fullHeight:!0},s.createElement(O.a,{position:E.o.Absolute,fullHeight:!0,fullWidth:!0},s.createElement(v.a,{content:{type:g.a.Clip,clipSlug:t,editing:this.props.editing,videoOffset:a},behaviors:{blockTwitchExclusiveContent:n===b.a.ClipsEmbed,disableTheatreMode:!0,disableRecommendations:!0,disableStatusOverlay:!0,disableClipping:!0,disablePopoutPlayer:!0,disablePlayButtonOverlay:!0,editingPlaybackBehavior:h.b.PlayAndReplayAtCurrentEditingSegmentEnd,enableLooping:!0,fullscreenForwardingRef:this.playerWrapperRef||void 0,openStreamInfoLinksExternally:!0,linkTrackingContext:{medium:u.PageviewMedium.ClipsWeb}},callbacks:{onInit:this.props.onLoaded,onVideoTimeChange:this.props.setCurrentTime,onClipsModerationOpen:this.onClipsModerationOpen,onPlayerClick:y},type:n}))))))},t}(s.Component),q=Object(a.d)(Object(m.withLatencyTracking)("ClipsVideoPlayer",{autoReportInteractive:!0}),Object(c.a)(B))(U);var G=Object(i.b)(null,(function(e){return Object(a.b)({showModal:r.e,closeModal:r.d},e)}))(q)},py0p:function(e,t,n){},qCDY:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("mrSG"),a=n("1hWM"),r=n("q1tI"),o=n("ANjH"),s=n("/7QA"),l=n("4VQm"),c=n("GnwI"),d=n("i/Zp"),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.setIframeContainer=function(e){t.iframeContainer=e},t.onIframeDoubleClick=function(){var e=t.props.onExtensionDoubleClick;e&&e()},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.installation,n=e.registerReceiver;this.unregister=n(this),this.props.latencyTracking.reportInteractive();var i=this.props,r=i.languageCode,o=i.locale;this.extensionFrameAPI=new a.ExtensionFrame({anchor:t.activationConfig.anchor,channelId:parseInt(this.props.channelID,10),configuration:t.configuration,dobbin:{trackEvent:s.o.track.bind(s.o)},extension:t.extension,features:{bits:!0,sharePubsub:!0},iframeClassName:this.props.className,installationAbilities:t.abilities,locale:o,loginId:this.props.loginID?parseInt(this.props.loginID,10):null,language:r,mode:this.props.extensionMode,onBeginPurchase:this.props.onBeginPurchase,parentElement:this.iframeContainer,platform:a.ExtensionPlatform.Web,isPopout:this.props.isPopout,trackingProperties:{channel:this.props.channelLogin,device_id:s.p.session.deviceID,login:this.props.login,platform:s.p.tracking.getPlatform(),player_type:d.a.Site}}),this.props.saveExtensionAPI&&this.props.saveExtensionAPI(this.extensionFrameAPI),this.extensionFrameAPI.setVisible(!this.props.isHidden)},t.prototype.componentWillUnmount=function(){this.unregister&&this.unregister(),this.extensionFrameAPI&&this.extensionFrameAPI.destroy()},t.prototype.componentDidUpdate=function(e){var t=!e.isHidden,n=!this.props.isHidden;t!==n&&this.extensionFrameAPI.setVisible(n)},t.prototype.render=function(){return r.createElement("div",{style:{height:"100%"},ref:this.setIframeContainer,"data-test-selector":"iframe_container_selector",onDoubleClick:this.onIframeDoubleClick})},t.prototype.checkVisible=function(){this.extensionFrameAPI&&this.extensionFrameAPI.visibilityChanged()},t}(r.Component),p=Object(o.d)(Object(c.withLatencyTracking)("ExtensionFrame"),Object(l.d)((function(e){return{registerReceiver:e.registerReceiver}})))(u)},qDtz:function(e,t,n){},qPuE:function(e,t,n){},qRon:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoAdRequestCurrentUser"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasTurbo"},arguments:[],directives:[]}]}}],loc:{start:0,end:58}};n.loc.source={body:"fragment VideoAdRequestCurrentUser on User {\nid\nhasTurbo\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},"qYg/":function(e,t,n){"use strict";n.d(t,"a",(function(){return $})),n.d(t,"b",(function(){return M})),n.d(t,"c",(function(){}));var i,a=n("/MKj"),r=n("ANjH"),o=n("/0dD"),s=n("1/iK"),l=n("y5D0"),c=n("kRBY"),d=n("XDQu"),u=n("mrSG"),p=n("TSYQ"),m=n("w09P"),f=n("q1tI"),v=n("/7QA"),g=n("yR8l"),h=n("geRD"),b=n("/Bd0"),y=n("rwq7"),k=n("2xye"),S=n("JcRA"),E=n("GnwI"),C=n("Ar2k"),O=n("oBNK"),_=n("Ix37"),w=n("AjB5"),P=n("5e0Q"),N=n("Yegi"),T=n("OCDW"),D=n("uq9l"),I=n("NbjQ"),A=n("htqZ");!function(e){e.Toggle="type_toggle",e.Button="type_button"}(i||(i={}));var j=n("i46O"),x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isFollowing:!1,disableNotifications:!0},t.toggleNotificationsEnabled=function(){var e=t.getFollowData();if(e){var n=e&&e.id||"",i={disableNotifications:!t.state.disableNotifications,targetID:n},a={followUser:{__typename:"FollowUserPayload",follow:{__typename:"Follow",user:{__typename:"User",id:n,self:{__typename:"UserSelfConnection",follower:{__typename:"FollowerEdge",disableNotifications:!t.state.disableNotifications}}}}}};t.props.followUser(Object(h.b)(i,a)),t.setState((function(e){return{disableNotifications:!e.disableNotifications}}))}},t.setButtonContainerRef=function(e){t.buttonContainerRef!==e&&(t.removeEventListeners(),t.buttonContainerRef=e,t.addEventListeners())},t.onMouseEnter=function(){if(t.buttonContainerRef&&t.props.showTooltips&&t.state.isFollowing){var e=t.notificationsStatusString();t.props.tooltipLayer.show({from:t.buttonContainerRef,label:e,direction:t.props.tooltipDirection||O.c.Right})}},t.onMouseLeave=function(){t.props.tooltipLayer.hide()},t}return Object(u.__extends)(t,e),t.getDerivedStateFromProps=function(e){var t=null;return e.followData&&e.followData?t=e.followData:!e.data||e.data.loading||e.data.error||(t=e.data.user),t?{isFollowing:t&&t.self&&t.self.follower&&null!==t.self.follower.disableNotifications||!1,disableNotifications:!(t&&t.self&&t.self.follower&&null!==t.self.follower.disableNotifications)||t.self.follower.disableNotifications}:null},t.prototype.componentDidMount=function(){this.addEventListeners();var e=this.getFollowData();if(e){var t=e.self&&e.self.follower&&e.self.follower.disableNotifications;this.setState({isFollowing:null!==t||!1,disableNotifications:t})}},t.prototype.componentWillUnmount=function(){this.removeEventListeners()},t.prototype.render=function(){return this.props.toggleType&&this.props.toggleType===i.Button?this.renderTypeButton():this.renderTypeToggle()},t.prototype.renderTypeButton=function(){var e=this.state.disableNotifications,t=e?_.a.NotificationBell:_.a.NotificationBellFilled,n=e?_.a.NotificationBellFilled:_.a.NotificationBellOff,i=p({"live-notifications-wrapper--off":e,"live-notifications-wrapper--on":!e}),a=this.notificationsStatusString();return f.createElement(w.a,{className:"live-notifications__btn","data-a-target":i,refDelegate:this.setButtonContainerRef},f.createElement(S.a,{ariaLabel:a,tabIndex:this.props.tabIndex||0,icon:t,iconOnHover:n,type:P.d.Secondary,onClick:this.toggleNotificationsEnabled,darkModeEnabled:this.props.darkModeEnabled,disabled:!this.state.isFollowing||!!this.props.disabled,background:N.d.Base,"data-a-target":"notifications-toggle"}))},t.prototype.notificationsStatusString=function(){return this.state.disableNotifications?Object(v.d)("Turn notifications on","LiveNotificationsToggle"):Object(v.d)("Turn notifications off","LiveNotificationsToggle")},t.prototype.renderTypeToggle=function(){var e,t;return this.state.isFollowing?this.state.disableNotifications?(t="live-notifications-toggle__status-text--disabled",e=Object(v.d)("Opt in to notifications to receive updates on this channel's activity, including when they go live.","LiveNotificationsToggle")):(t="live-notifications-toggle__status-text--enabled",e=Object(v.d)("You will be notified on this channel's activity, including when they go live.","LiveNotificationsToggle")):(e=Object(v.d)("Follow this channel to receive notifications when they go live.","LiveNotificationsToggle"),t="live-notifications-toggle__status-text--not-following"),f.createElement(w.a,{color:N.f.Base,display:N.h.Flex,flexWrap:N.j.Wrap},f.createElement(T.a,{display:N.h.Flex,flexWrap:N.j.NoWrap,fullWidth:!0,justifyContent:N.m.Between},f.createElement(T.a,{display:N.h.Flex,padding:{right:2}},f.createElement("span",null,f.createElement(D.a,{fontSize:N.k.Size4,bold:!0},Object(v.d)("Notifications","LiveNotificationsToggle")))),f.createElement(T.a,{display:N.h.Flex,flexShrink:0},f.createElement(I.a,{onChange:this.toggleNotificationsEnabled,checked:!this.state.disableNotifications,"data-test-selector":"live-notifications-toggle__toggle","data-a-target":"notifications-toggle",disabled:!this.state.isFollowing||!!this.props.disabled}))),f.createElement(T.a,{display:N.h.InlineFlex,padding:{bottom:1}},f.createElement(D.a,{type:D.e.Span,color:N.f.Alt2,"data-test-selector":t},e)))},t.prototype.getFollowData=function(){return this.props.followData||this.props.data&&this.props.data.user},t.prototype.addEventListeners=function(){this.buttonContainerRef&&(this.buttonContainerRef.addEventListener("mouseover",this.onMouseEnter),this.buttonContainerRef.addEventListener("mouseleave",this.onMouseLeave))},t.prototype.removeEventListeners=function(){this.buttonContainerRef&&(this.buttonContainerRef.removeEventListener("mouseover",this.onMouseEnter),this.buttonContainerRef.removeEventListener("mouseleave",this.onMouseLeave))},t}(f.Component),L=Object(r.d)(Object(g.a)(j,{options:function(e){var t;return{variables:{login:null!==(t=e.channelLogin)&&void 0!==t?t:""}}},skip:function(e){return!(e.firstPageLoaded&&e.isLoggedIn&&e.channelLogin&&!e.followData)}}),Object(g.a)(A,{name:"followUser"}),Object(C.c)())(x);var F,M,R=Object(a.b)((function(e){return{firstPageLoaded:e.session.firstPageLoaded,isLoggedIn:Object(c.f)(e),darkModeEnabled:Object(d.a)(e)===o.a.Dark}}))(L),V=n("NO2N"),B=n("RGzP"),U=n("HQtB"),q=n("LNol"),G=n("YQhk"),H=n("ZBeb"),W=(n("Kcwz"),n("CZEr")),z=n("Qdxp");!function(e){e.UnfollowButton="unfollow-button",e.UnfollowButtonLabel="unfollow-button-label",e.UnfollowButtonLabelHover="unfollow-button-label-hover",e.UnfollowButtonWithDropdown="unfollow-button__dropdown",e.FollowButton="follow-button",e.LiveNotificationsToggle="live-notifications-toggle"}(F||(F={})),function(e){e[e.IconOnly=0]="IconOnly",e[e.TextOnly=1]="TextOnly",e[e.IconAndText=2]="IconAndText"}(M||(M={}));var Q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isFollowing:!1,canFollow:!0,showDropdown:!1,disableNotifications:!0,preventTransition:!0,followBtnTransitions:{followNotifyContainer:{translateX:void 0},followBtn:{translateX:void 0}}},t.userDataLoaded=function(){return t.props.data&&!t.props.data.loading&&!t.props.data.error&&t.props.data.user},t.toggleFollowing=function(){return Object(u.__awaiter)(t,void 0,void 0,(function(){var e;return Object(u.__generator)(this,(function(t){switch(t.label){case 0:return e=this.getFollowData(),this.state.isFollowing?[3,2]:(this.trackFollow(k.SpadeEventType.FollowAttempt,e),[4,this.followUser()]);case 1:return t.sent(),this.trackFollow(k.SpadeEventType.Follow,e),[3,3];case 2:this.unfollowUser(),this.trackFollow(k.SpadeEventType.Unfollow,e),t.label=3;case 3:return this.hideTooltip(),this.setState({preventTransition:!1}),[2]}}))}))},t.followUser=function(){return Object(u.__awaiter)(t,void 0,void 0,(function(){var e,t,n,i,a;return Object(u.__generator)(this,(function(r){switch(r.label){case 0:return e=this.getFollowData(),this.props.followUser&&e&&e.user&&e.user.id?(this.setState({showDropdown:!0}),t={followUser:{__typename:"FollowUserPayload",follow:{disableNotifications:!1,__typename:"Follow",user:{__typename:"User",id:e.user&&e.user.id,displayName:e.user&&e.user.displayName,login:e.user&&e.user.login,self:{canFollow:!0,__typename:"UserSelfConnection",follower:{__typename:"FollowerEdge",disableNotifications:!1}}}}}},n=Object(h.b)({disableNotifications:!1,targetID:e.user.id},t),[4,this.props.followUser(n)]):[2];case 1:return(i=r.sent()).data.followUser&&i.data.followUser.follow&&(a=i.data.followUser.follow,Object(h.j)(z,{login:this.props.channelLogin},(function(e){var t=e.user;return t&&t.self?t.self.follower?m(e,(function(e){return e.user.self.follower.disableNotifications}),(function(){return a.disableNotifications})):m(e,(function(e){return e.user.self.follower}),(function(){return{__typename:"FollowerEdge",disableNotifications:a.disableNotifications}})):e}))),this.props.onFollow&&this.props.onFollow(this.props.channelLogin),[2]}}))}))},t.unfollowUser=function(){return Object(u.__awaiter)(t,void 0,void 0,(function(){var e,t,n,i=this;return Object(u.__generator)(this,(function(a){switch(a.label){case 0:return e=this.getFollowData(),this.props.unfollowUser&&e&&e.user&&e.user.id?(t={unfollowUser:{__typename:"UnfollowUserPayload",follow:{__typename:"Follow",disableNotifications:null}}},n=Object(u.__assign)(Object(u.__assign)({},Object(h.b)({targetID:e.user.id},t)),{update:function(e){var t=e.readQuery({query:z,variables:{login:i.props.channelLogin}});t&&t.user&&t.user.self&&(t=m(t,(function(e){return e.user.self.follower.disableNotifications}),(function(){return null}))),e.writeQuery({query:z,data:t})}}),[4,this.props.unfollowUser(n)]):[2];case 1:return a.sent(),this.props.onUnfollow&&this.props.onUnfollow(this.props.channelLogin),[2]}}))}))},t.getFollowData=function(){return t.props.followData?t.props.followData:t.props.data},t.setButtonContainerRef=function(e){t.buttonContainerRef!==e&&(t.removeEventListeners(),t.buttonContainerRef=e,t.addEventListeners())},t.setNotifyContainerRef=function(e){t.notifyContainerRef!==e&&(t.removeEventListeners(),t.notifyContainerRef=e,t.addEventListeners())},t.createFollowTransitions=function(){if(t.notifyContainerRef&&t.buttonContainerRef){var e=t.notifyContainerRef.offsetWidth,n=t.buttonContainerRef.offsetWidth,i=n-e,a=t.props.alignRight?0:e-n;t.setState({followBtnTransitions:{followNotifyContainer:{translateX:a},followBtn:{translateX:i}}})}else t.setState({followBtnTransitions:{followNotifyContainer:{translateX:0},followBtn:{translateX:0}}})},t.onMouseEnter=function(){t.buttonContainerRef&&t.notifyContainerRef&&t.props.showTooltips&&(t.state.canFollow||t.state.isFollowing?t.state.isFollowing&&t.props.tooltipLayer.show({from:t.buttonContainerRef,label:t.getUnfollowText(),direction:t.props.tooltipDirection||O.c.Right,elementWidth:t.notifyContainerRef.offsetWidth}):t.props.tooltipLayer.show({from:t.buttonContainerRef,label:Object(v.d)("You are unable to follow this user.","FollowButton"),direction:t.props.tooltipDirection||O.c.Right,elementWidth:t.notifyContainerRef.offsetWidth}))},t.onMouseLeave=function(){t.hideTooltip()},t.hideTooltip=function(){t.props.tooltipLayer.hide()},t.login=function(){var e={},n=t.getFollowData();n&&(e.postLoginAction=t.toggleFollowing,e.targetChannel=t.props.channelName||t.props.channelLogin),e.showContext=!0,t.trackFollow(k.SpadeEventType.FollowAttempt,n),t.props.login(e)},t.updateFollowingNotificationsState=function(e){var n,i,a=e.user,r=!!t.isFollowing(a),o=void 0===(null===(n=null==a?void 0:a.self)||void 0===n?void 0:n.canFollow)||(null===(i=null==a?void 0:a.self)||void 0===i?void 0:i.canFollow),s=a&&a.self&&a.self.follower&&!!a.self.follower.disableNotifications;t.state.isFollowing===r&&t.state.disableNotifications===s||t.setState({isFollowing:r,canFollow:o,disableNotifications:s}),t.state.isFollowing&&void 0===t.state.followBtnTransitions.followNotifyContainer.translateX&&t.createFollowTransitions()},t}return Object(u.__extends)(t,e),t.prototype.componentDidMount=function(){this.reportInteractive(),this.addEventListeners();var e=this.props.data||this.props.followData;e?this.updateFollowingNotificationsState(e):this.props.currentUserLogin===this.props.channelLogin&&this.setState({canFollow:!1})},t.prototype.componentDidUpdate=function(e){this.props.channelLogin&&!this.userDataLoaded()||!this.props.updateContainerWidth||this.props.updateContainerWidth(),this.reportInteractive();var t=this.props.data&&this.props.data.loading;!this.state.preventTransition&&t&&this.setState({preventTransition:!0});var n=this.props.data||this.props.followData;n&&this.updateFollowingNotificationsState(n);var i=e.channelLogin!==this.props.channelLogin;!this.props.data||this.props.data.loading||this.props.data.error?i&&this.setState({showDropdown:!1,preventTransition:!0}):this.updateFollowingNotificationsState(this.props.data)},t.prototype.componentWillUnmount=function(){this.removeEventListeners()},t.prototype.render=function(){if(!this.props.isLoggedIn)return this.renderFollowButton(this.login);if(this.props.currentUserLogin===this.props.channelLogin)return this.renderFollowButton();if(this.props.showLoadingPlaceholder&&(!this.props.data||this.props.data.loading))return this.renderPlaceholder();if(this.props.hideFollowButton||this.props.currentUserLogin===this.props.channelLogin||!this.props.followData&&(!this.props.data||this.props.data.loading||this.props.data.error||!this.props.data.user))return null;return!this.state.isFollowing||this.props.animatedButton?this.renderFollowButton(this.toggleFollowing):this.props.hideDropdownWhenFollowing?this.renderUnfollowButton():this.renderUnfollowButtonWithDropdown()},t.prototype.renderPlaceholder=function(){switch(this.props.size){case P.b.Large:return f.createElement(B.a,{width:this.props.fullWidthButton?void 0:95.8,height:36});case P.b.Small:return f.createElement(B.a,{width:this.props.fullWidthButton?void 0:73.17,height:24});default:return f.createElement(B.a,{width:this.props.fullWidthButton?void 0:80.09,height:30})}},t.prototype.renderFollowButton=function(e){var t=this,n=this.props.isHostedFollow&&this.props.channelName?Object(v.d)("Follow {username}",{username:this.props.channelName},"FollowButton"):Object(v.d)("Follow","FollowButton"),a=this.props.currentUserLogin===this.props.channelLogin,r=this.state.isFollowing,o=null;if(this.props.animatedButton){var s=p("follow-btn__follow-notify-container",{"follow-btn__follow-notify-container--following":!!r&&!a,"follow-btn__follow-notify-container__align-right":this.props.alignRight}),l=p("follow-btn__follow-btn-container",{"follow-btn__follow-btn-container--following":!!r}),c=p("follow-btn__follow-btn",{"follow-btn__follow-btn--following":!!r}),d=p("follow-btn__notification-toggle-container",{"follow-btn__notification-toggle-container--visible":!!r||a}),m=function(){return t.state.preventTransition?void 0:{durationMs:300,delayMs:300,options:"ease"}},g=r?F.UnfollowButton:F.FollowButton;o=f.createElement(V.a,{transformIf:r,className:s,transformValues:this.state.followBtnTransitions.followNotifyContainer,transition:m()},f.createElement(T.a,{display:N.h.Flex,overflow:N.n.Hidden,alignItems:N.b.Center,fullHeight:!0},f.createElement(w.a,{borderRadius:N.e.Medium,display:N.h.Flex,justifyContent:N.m.Center,flexDirection:N.i.Column,overflow:N.n.Hidden},f.createElement(T.a,{display:N.h.Flex,justifyContent:N.m.Center,flexDirection:N.i.Column},f.createElement(V.a,{transformIf:r,className:l,transformValues:this.state.followBtnTransitions.followBtn,transformOrigin:"right",transition:m()},f.createElement("div",{className:c,ref:this.setButtonContainerRef,onMouseEnter:function(){t.setState({preventTransition:!1})}},f.createElement(S.a,{disabled:!this.state.canFollow||a,delayText:r?void 0:750,text:n,overlayButton:!r&&this.props.overlayButton,icon:r?_.a.Heart:_.a.FollowHollow,iconOnHover:r?_.a.Unheart:_.a.Heart,type:r?P.d.Secondary:this.props.followButtonType||P.d.Primary,typeOnHover:r?P.d.Alert:void 0,onClick:e,darkModeEnabled:this.props.darkModeEnabled,isFollowing:r,preventTransition:this.state.preventTransition,"data-a-target":g,"data-test-selector":g,background:this.getAnimatedFollowBtnBackground()}))))),f.createElement(T.a,{className:d,"data-test-selector":F.LiveNotificationsToggle,margin:{left:1}},f.createElement("div",{ref:this.setNotifyContainerRef},f.createElement(R,{channelLogin:this.props.channelLogin,toggleType:i.Button,tabIndex:r?0:-1,tooltipDirection:this.props.tooltipDirection,followData:this.props.followData&&this.props.followData.user||void 0,showTooltips:this.props.showTooltips,disabled:a})))))}else o=f.createElement(P.a,Object(u.__assign)({disabled:!this.state.canFollow||a,"aria-label":n,overlay:this.props.overlayButton,"data-a-target":F.FollowButton,"data-test-selector":F.FollowButton,icon:this.getButtonIcon(),onClick:e,size:this.props.size,tabIndex:this.props.tabIndex,type:this.props.followButtonType||P.d.Primary,fullWidth:this.props.fullWidthButton},Object(U.a)(this.props)),this.props.followUIType===M.IconOnly?null:n);return o},t.prototype.renderUnfollowButton=function(e){var t=this.getUnfollowText(),n=p("follow-btn follow-btn--following",{"follow-btn--with-dropdown":e});return f.createElement("button",Object(u.__assign)({className:n,"aria-label":t,"data-a-target":F.UnfollowButton,"data-test-selector":F.UnfollowButton,tabIndex:this.props.tabIndex,onClick:this.toggleFollowing},Object(U.a)(this.props)),f.createElement(T.a,{padding:{x:.5},display:N.h.Flex,alignItems:N.b.Center,justifyContent:N.m.Center,className:"follow-btn__inner",fullWidth:!0,fullHeight:!0},f.createElement("span",{className:"follow-btn__label","data-test-selector":F.UnfollowButtonLabel},this.props.unfollowUIType!==M.TextOnly&&f.createElement(q.a,{asset:_.a.Heart}),this.props.unfollowUIType!==M.IconOnly&&f.createElement(T.a,{padding:{x:.5}},Object(v.d)("Following","FollowButton"))),f.createElement("span",{className:"follow-btn__label-hover","data-test-selector":F.UnfollowButtonLabelHover},this.props.unfollowUIType!==M.TextOnly&&f.createElement(q.a,{asset:_.a.Unheart}),this.props.unfollowUIType!==M.IconOnly&&f.createElement(T.a,{padding:{x:.5}},t))))},t.prototype.renderUnfollowButtonWithDropdown=function(){return f.createElement(T.a,{display:N.h.Flex,className:"follow-btn","data-test-selector":F.UnfollowButtonWithDropdown},f.createElement(T.a,null,this.renderUnfollowButton(!0)),f.createElement(y.d,{display:N.h.InlineFlex,openByDefault:this.state.showDropdown,preloadOnInteraction:!0},f.createElement(P.a,{tabIndex:this.props.tabIndex,"aria-label":Object(v.d)("Dropdown","FollowButton"),"data-a-target":"follow-dropdown-toggle"},f.createElement(T.a,{justifyContent:N.m.Center,display:N.h.Flex,alignItems:N.b.Stretch,fullHeight:!0},f.createElement(q.a,{asset:_.a.GlyphArrDown}))),f.createElement(G.b,{size:G.a.Small,"data-a-target":"follow-notifications-balloon"},f.createElement(T.a,{padding:1},f.createElement(R,{channelLogin:this.props.channelLogin})))))},t.prototype.isFollowing=function(e){return e&&e.self&&e.self.follower&&null!==e.self.follower.disableNotifications},t.prototype.getButtonIcon=function(){var e=this.props.hollowIcons&&!this.state.isFollowing?_.a.FollowHollow:_.a.Heart;return this.props.followUIType===M.TextOnly?void 0:e},t.prototype.getAnimatedFollowBtnBackground=function(){var e=this.state.isFollowing,t=!!this.props.followButtonType&&this.props.followButtonType!==P.d.Primary;return e||t?N.d.Base:N.d.AccentAlt2},t.prototype.reportInteractive=function(){Y(this.props)?this.props.latencyTracking.reportInteractive():this.props.data&&!this.props.data.loading&&this.props.latencyTracking.reportInteractive()},t.prototype.addEventListeners=function(){this.buttonContainerRef&&(this.buttonContainerRef.addEventListener("mouseover",this.onMouseEnter),this.buttonContainerRef.addEventListener("mouseleave",this.onMouseLeave))},t.prototype.removeEventListeners=function(){this.buttonContainerRef&&(this.buttonContainerRef.removeEventListener("mouseover",this.onMouseEnter),this.buttonContainerRef.removeEventListener("mouseleave",this.onMouseLeave))},t.prototype.getUnfollowText=function(){return this.props.isHostedFollow&&this.props.channelName?Object(v.d)("Unfollow {username}",{username:this.props.channelName},"FollowButton"):Object(v.d)("Unfollow","FollowButton")},t.prototype.trackFollow=function(e,t){t&&Object(b.d)(e,{channelLogin:t.user&&t.user.login||"",channelID:t.user&&t.user.id||"",hostChannelLogin:this.props.hostChannelLogin,hostChannelID:this.props.hostChannelID,src:this.props.followSource||b.b.Channel,screen_state:this.props.theatreModeEnabled?b.c.Theater:b.c.Regular,content_type:this.props.followContentType})},t}(f.Component),K=Object(r.d)(Object(g.a)(z,{options:function(e){var t;return{variables:{login:null!==(t=e.channelLogin)&&void 0!==t?t:""}}},skip:Y}),Object(g.a)(H,{name:"followUser"}),Object(g.a)(W,{name:"unfollowUser"}),Object(C.c)(),Object(E.withLatencyTracking)("FollowButton"))(Q);function Y(e){return!e.channelLogin||(!!e.followData||e.channelLogin===e.currentUserLogin)}var $=Object(a.b)((function(e){var t=Object(c.e)(e);return{currentUserLogin:t&&t.login,isLoggedIn:Object(c.f)(e),darkModeEnabled:Object(d.a)(e)===o.a.Dark,theatreModeEnabled:e.ui.theatreModeEnabled}}),(function(e){return Object(r.b)({login:function(e){return Object(l.e)(s.a.FollowButton,e)}},e)}))(K)},qc9Q:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=new Set(["alt","src","srcSet","sizes","onError","onLoad","refHandler"]);function a(e){for(var t={},n=0,a=Object.keys(e);n<a.length;n++){var r=a[n];i.has(r)&&(t[r]=e[r])}return t}},qgB2:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerSettingsWithClipMetadata"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"curator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isSiteAdmin"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:157}};n.loc.source={body:"query VideoPlayerSettingsWithClipMetadata($slug: ID!) {\nclip(slug: $slug) {\nid\nbroadcaster {\nid\n}\ncurator {\nid\n}\n}\ncurrentUser {\nid\nroles {\nisSiteAdmin\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoPlayerSettingsWithClipMetadata=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoPlayerSettingsWithClipMetadata")},qleb:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("Pw1c"),a=n("q1tI"),r=[];i.onchange=function(){r.forEach((function(e){e()}))};var o=function(e){r.push(e)},s=function(e){r=r.filter((function(t){return t!==e}))},l=function(){return!!i.enabled},c=function(e){return!(!e||!i.videoEnabled(e))},d=function(){return i.element},u=function(e){i.request(e)},p=function(){i.exit()};function m(){return a.useMemo((function(){return{addChangeListener:o,removeChangeListener:s,supported:l,videoSupported:c,element:d,enable:u,disable:p}}),[])}},qo7U:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n("pVnL"),a=n.n(i),r=n("q1tI"),o=n("P+FS"),s=n("HQtB"),l=n("OCDW"),c=n("Yegi"),d=function(e){return r.createElement(l.a,a()({className:"tw-card-body",overflow:e.overflow,position:c.o.Relative},Object(s.a)(e),Object(o.a)(e)),e.children)};d.displayName="CardBody",d.displayName="CardBody"},qurx:function(e,t,n){},qyP0:function(e,t,n){"use strict";n.r(t),n.d(t,"ClipsCreate",(function(){return ke}));var i=n("/MKj"),a=n("kRBY"),r=n("mrSG"),o=n("q1tI"),s=n("ndwU"),l=n("GnwI"),c=n("rwoo"),d=n("OTul"),u=n("TSYQ"),p=n("Ty5D"),m=n("ANjH"),f=n("/7QA"),v=n("yR8l"),g=n("DMoW"),h=n("i/Zp");function b(e,t){return{startOffset:e,endOffset:t}}function y(e){return!isNaN(e)&&e>=0}var k=n("AjB5"),S=n("Yegi"),E=n("zZ9p"),C=n("OCDW"),O=n("uq9l"),_=n("LNol"),w=n("Ix37"),P=(n("dsEc"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=u("clips-edit-top-nav",{"clips-edit-top-nav-rollup":this.props.isPostEdit});return o.createElement(k.a,{background:S.d.Base,className:e,position:S.o.Fixed,fullWidth:!0,attachTop:!0,attachLeft:!0,display:S.h.Flex,justifyContent:S.m.Center,alignItems:S.b.Center,"data-test-selector":"clips-edit-top-nav-wrapper",borderBottom:!0},this.props.showMessage&&o.createElement(E.a,{delay:E.b.Medium,duration:E.c.Medium,enabled:!0,fillMode:E.d.Both,timing:E.e.EaseInOut,type:E.f.SlideInTop},o.createElement(C.a,{display:S.h.Flex,justifyContent:S.m.Center,alignItems:S.b.Center},o.createElement(O.a,{color:S.f.Alt,fontSize:S.k.Size5},Object(f.d)("Title this clip to publish","ClipsEditTopNav")),o.createElement(C.a,{margin:{left:.5},display:S.h.Flex,alignItems:S.b.Center},o.createElement(_.a,{asset:w.a.Lock,type:_.b.Warn})))))},t}(o.Component)),N=Object(l.withLatencyTracking)("ClipsEditTopNav",{autoReportInteractive:!0})(P),T=n("lVPZ"),D=n("a1OF"),I=n("uuYk"),A=n("JjwZ"),j=n("mDIl"),x=n("4Nlk"),L=(n("py0p"),{clappy:Object(D.e)("192361",3),clappyDerp:Object(D.e)("192362",3),clappyHype:Object(D.e)("192363",3)});function F(){switch(Math.floor(17*Math.random())){case 0:return{icon:L.clappyHype,text:Object(f.d)("Generating your clip...","ClipsPostEditLoading")};case 1:return{icon:L.clappyDerp,text:Object(f.d)("Almost there...","ClipsPostEditLoading")};case 2:return{icon:L.clappyHype,text:Object(f.d)("Just a few more seconds...","ClipsPostEditLoading")};case 3:return{icon:L.clappy,text:Object(f.d)("Grabbing popcorn...","ClipsPostEditLoading")};case 4:return{icon:L.clappyHype,text:Object(f.d)("Summoning your clip...","ClipsPostEditLoading")};case 5:return{icon:L.clappyHype,text:Object(f.d)("The Bits are breeding...","ClipsPostEditLoading")};case 6:return{icon:L.clappy,text:Object(f.d)("Building the thing...","ClipsPostEditLoading")};case 7:return{icon:L.clappyDerp,text:Object(f.d)("Spinning up hamsters...","ClipsPostEditLoading")};case 8:return{icon:L.clappy,text:Object(f.d)("Fetching your stick...","ClipsPostEditLoading")};case 9:return{icon:L.clappyDerp,text:Object(f.d)("Applying middle out compression...","ClipsPostEditLoading")};case 10:return{icon:L.clappy,text:Object(f.d)("Searching for llamas...","ClipsPostEditLoading")};case 11:return{icon:L.clappyHype,text:Object(f.d)("Turning on printer...","ClipsPostEditLoading")};case 12:return{icon:L.clappy,text:Object(f.d)("Learning calculus...","ClipsPostEditLoading")};case 13:return{icon:L.clappyDerp,text:Object(f.d)("Training patience...","ClipsPostEditLoading")};case 14:return{icon:L.clappy,text:Object(f.d)("Looking for keys...","ClipsPostEditLoading")};case 15:return{icon:L.clappyDerp,text:Object(f.d)("Baking cake...","ClipsPostEditLoading")};default:return{icon:L.clappyHype,text:Object(f.d)("Searching for hold music...","ClipsPostEditLoading")}}}var M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={percent:0,messageData:F()},t.onTimerUpdate=function(){t.state.percent>=100?t.countdownTimer.stop():t.setState({percent:t.state.percent+1,messageData:t.state.percent%4==0?F():t.state.messageData})},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.countdownTimer=new T.a({onInterval:this.onTimerUpdate,intervalMillis:500}),this.countdownTimer.start()},t.prototype.componentWillUnmount=function(){this.countdownTimer.stop()},t.prototype.render=function(){return o.createElement(k.a,{className:"clips-post-edit-loading",padding:4,background:S.d.Base,border:!0},o.createElement(C.a,{display:S.h.Flex,justifyContent:S.m.Between,margin:{bottom:1}},o.createElement(O.a,{type:O.e.Span,fontSize:S.k.Size6},Object(f.d)("Publishing Clip!","ClipsPostEditLoading")),o.createElement(C.a,{display:S.h.InlineBlock},this.state.percent,"%")),o.createElement(I.a,{animationDirection:I.b.Up,animationDuration:50,mask:!0}),o.createElement(C.a,{margin:{top:2}},o.createElement(C.a,{className:"clips-post-edit-loading-clappy",display:S.h.InlineBlock},o.createElement(E.a,{duration:E.c.ExtraLong,enabled:!0,type:E.f.Bounce,loop:!0,timing:E.e.EaseOut},o.createElement(A.a,{src:this.state.messageData.icon,alt:Object(f.d)("Clappy looking good","ClipsPostEditLoading")})),o.createElement(C.a,{position:S.o.Relative},o.createElement(j.a,{direction:x.b.Right,elevation:2,show:!0,offsetY:"-3.8rem",offsetX:"1.5rem"},o.createElement(k.a,{padding:1,background:S.d.Alt2},o.createElement(O.a,{color:S.f.Alt2},this.state.messageData.text)))))))},t}(o.Component),R=n("uX80"),V=n("X7Ac"),B=n("Jxh/"),U=n("MLDe"),q=n("DLy/"),G=(n("WnZM"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showConfirmation:!1},t.copyClipURL=function(){Object(B.a)(Object(d.b)(t.props.slug)),t.setState({showConfirmation:!0}),setTimeout((function(){t.setState({showConfirmation:!1})}),2e3);var e=t.props,n=e.clipId,i=e.gameName,a=e.broadcasterId,r=e.broadcasterLogin;Object(U.c)(n,i,a,r,"clips_edit")(V.c.CopyInput)},t}return Object(r.__extends)(t,e),t.prototype.render=function(){return o.createElement(k.a,{className:"clips-post-edit-share",padding:3,background:S.d.Base,border:!0},o.createElement(C.a,{margin:{bottom:2},position:S.o.Relative,fullWidth:!0},o.createElement(R.a,{text:Object(d.b)(this.props.slug),icon:!0,iconAsset:w.a.Link,onSelection:this.copyClipURL,"data-a-target":"clip-share-input"}),o.createElement(j.a,{direction:x.b.TopCenter,show:this.state.showConfirmation,offsetY:"1rem",elevation:2},o.createElement(k.a,{background:S.d.Alt,textAlign:S.q.Center,padding:{y:1}},o.createElement(O.a,{color:S.f.Alt,fontSize:S.k.Size5},Object(f.d)("Copied!","ClipsPostEditShare"))))),o.createElement(C.a,{display:S.h.Flex,justifyContent:S.m.Center},o.createElement(q.a,{slug:this.props.slug,pageType:"clips_edit"})))},t}(o.Component)),H=n("99qK"),W=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.data.startPolling(1e3)},t.prototype.componentDidUpdate=function(e){this.isDonePolling(this.props)&&!this.isDonePolling(e)&&this.props.data.stopPolling()},t.prototype.render=function(){var e=this.props.data.clip,t=!(!this.isDonePolling()||!e),n=null;return n=t&&e?o.createElement(G,{slug:this.props.slug,clipId:e.id,broadcasterId:e.broadcaster&&e.broadcaster.id,broadcasterLogin:e.broadcaster&&e.broadcaster.login,gameName:e.game&&e.game.name}):o.createElement(M,null),o.createElement(E.a,{duration:E.c.ExtraLong,enabled:t,fillMode:E.d.Both,timing:E.e.EaseInOut,type:E.f.SlideInBottom},o.createElement(C.a,{display:S.h.Flex,justifyContent:S.m.Center,padding:{top:4}},n))},t.prototype.isDonePolling=function(e){void 0===e&&(e=this.props);var t=e.data,n=t.loading,i=t.clip;return!n&&i&&(i.creationState===g.Z.CREATED||i.creationState===g.Z.FAILED)},t}(o.Component),z=Object(v.a)(H,{options:function(e){return{fetchPolicy:"network-only",variables:{slug:e.slug}}}})(W),Q=n("3dkm"),K=n("r/em"),Y=n("+GrQ"),$=n("/mWu"),X=n("Jr7Z"),J=(n("4mFl"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=this.props.slug,t=o.createElement(C.a,{alignItems:S.b.Center,display:S.h.Flex,flexDirection:S.i.Row,justifyContent:S.m.Start,margin:{y:1},ellipsis:!0},o.createElement(k.a,{display:S.h.Flex,fontSize:S.k.Size5},o.createElement(O.a,{type:O.e.Span},Object(Q.b)(this.props.createdAt)),o.createElement(C.a,{margin:{x:.5}},"")),o.createElement(Y.a,{slug:e,ellipsis:!0}));return o.createElement(k.a,{className:"clips-post-edit-sidebar",display:S.h.Flex,flexDirection:S.i.Column,background:S.d.Base},o.createElement(k.a,{className:"clips-post-edit-sidebar-top",borderBottom:!0},o.createElement(K.a,{slug:e})),o.createElement(C.a,{fullHeight:!0,display:S.h.Flex,alignItems:S.b.Center},o.createElement(C.a,{className:"clips-sidebar-info",display:S.h.Flex,flexDirection:S.i.Column,justifyContent:S.m.Around,padding:1},o.createElement(X.a,{slug:e}),o.createElement($.a,{slug:e}),t)))},t}(o.Component)),Z=n("pwCS"),ee=n("wt2C"),te=n("+7pI"),ne=n("ig/l"),ie=n("mzKw"),ae=n("WSjS"),re=(n("/R0k"),1);function oe(e){return parseFloat(e.toFixed(re))}var se=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={startOffset:-1,endOffset:-1},t.onDrag=function(e){t.setState({startOffset:oe(e.startOffset),endOffset:oe(e.endOffset)},(function(){t.props.setEditing({segments:[{startOffset:t.state.startOffset,endOffset:t.state.endOffset}]})}))},t.renderDurationPopover=function(){var e=o.createElement(O.a,{type:O.e.Strong},t.roundedPopoverDuration()+"s");return o.createElement(k.a,{className:"clips-editor-slider-popover",background:S.d.Alt2,padding:{y:1,x:2},fullWidth:!0,textAlign:S.q.Center,overflow:S.n.Hidden,border:!0},o.createElement(O.a,{align:S.r.Middle,fontSize:S.k.Size5,color:S.f.Alt2},Object(f.d)("{roundedDuration} / 60s",{roundedDuration:e},"ClipsEditor")),o.createElement(O.a,{align:S.r.Middle,color:S.f.Alt2},Object(Q.a)(t.state.startOffset)+" - "+Object(Q.a)(t.state.endOffset)))},t.isReady=function(){return t.props.isClipResolved&&y(t.state.startOffset)&&y(t.state.endOffset)},t}return Object(r.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){var n=y(t.startOffset),i=y(t.endOffset);if((!n||!i)&&e.initialOffsetStart&&e.duration){var a=!1,r={},o=b(e.initialOffsetStart,e.duration);if(!i&&y(o.startOffset)&&(r.startOffset=o.startOffset,a=!0),!i&&y(o.endOffset)&&(r.endOffset=o.endOffset,a=!0),a)return r}return null},t.prototype.componentDidUpdate=function(){this.isReady()&&this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){return this.isReady()&&this.props.duration?o.createElement(C.a,null,o.createElement(k.a,{margin:{y:4},className:"clips-editor-slider-background"},o.createElement(ne.a,{startOffset:this.state.startOffset,endOffset:this.state.endOffset,minOffset:0,maxOffset:this.props.duration,minLength:5,maxLength:60,onLeftDrag:this.onDrag,onRightDrag:this.onDrag,onSliderDrag:this.onDrag,popover:this.renderDurationPopover(),color:ne.c.Blue,isSliderEnabled:!0,handleSize:ie.c.Medium},o.createElement(C.a,{padding:{top:3,bottom:2},fullWidth:!0,textAlign:S.q.Center,overflow:S.n.Hidden}))),o.createElement(ae.a,{clipSlug:this.props.slug,location:"clips_edit",broadcasterName:this.props.broadcasterName,startOffset:this.state.startOffset,endOffset:this.state.endOffset})):this.renderPlaceholder()},t.prototype.renderPlaceholder=function(){return o.createElement(C.a,null,o.createElement(E.a,{type:E.f.Bounce,loop:!0,enabled:!0,duration:E.c.ExtraLong,timing:E.e.EaseInOut},o.createElement(k.a,{fullWidth:!0,background:S.d.Alt2,margin:{y:4},padding:{y:3},textAlign:S.q.Center})),o.createElement(E.a,{type:E.f.Bounce,loop:!0,enabled:!0,duration:E.c.ExtraLong,timing:E.e.EaseInOut,delay:E.b.Medium},o.createElement(k.a,{fullWidth:!0,background:S.d.Alt2,margin:{y:4},padding:{top:2,bottom:1},textAlign:S.q.Center})))},t.prototype.roundedPopoverDuration=function(){var e=this.state.endOffset-this.state.startOffset;return e>=59.7&&(e=60),e<=5.3&&(e=5),e.toFixed(1)},t}(o.Component),le=Object(m.d)(Object(l.withLatencyTracking)("ClipsEditor"))(se),ce=n("i0io"),de=n("VwyG"),ue=n("2xye"),pe=n("zEpB"),me=n("SGIe"),fe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onHighlightButtonClick=function(){t.trackHighlightButton(ue.SpadeEventType.ItemSectionClick)},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.trackHighlightButton(ue.SpadeEventType.ItemSectionLoad)},t.prototype.render=function(){return o.createElement(C.a,{display:S.h.Flex,flexDirection:S.i.Row},o.createElement(C.a,{flexGrow:1,flexShrink:1},o.createElement(O.a,{color:S.f.Alt2},Object(f.d)("Is 1 minute too short? Create longer clips using the Highlighter","HighlightCTA"))),o.createElement(C.a,{flexGrow:0,flexShrink:0},o.createElement(me.a,{buttonType:this.props.buttonType,callToAction:Object(f.d)("Highlighter","HighlightCTA"),clip:this.props.clip,onClick:this.onHighlightButtonClick})))},t.prototype.trackHighlightButton=function(e){Object(pe.a)(e,this.props.slug,{content:"save_as_highlight",source_vod_id:this.props.clip.video&&this.props.clip.video.id,location:"clips_edit",rendered_items_count:null,rendered_items_list:null,rendered_items_types:null,rendered_items_viewcounts:null})},t}(o.Component),ve=function(e){var t=e.clip;return t&&t.broadcaster&&t.broadcaster.login&&t.video&&t.videoOffsetSeconds?o.createElement(de.a,{ownerLogin:t.broadcaster.login,permittedRoles:{owner:!0,editor:!0,staff:!0}},(function(t){return t.permitted?o.createElement(fe,Object(r.__assign)({},e)):null})):null},ge=(n("JQql"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isPollingTimedOut:!1,isPlayerLoaded:!1,isPrevPostEdit:t.props.isPostEdit,hideContent:!1,editing:{segments:[{startOffset:0,endOffset:0}]},shouldAnimate:!0},t.timeoutID=0,t.hasSentEditClip=!1,t.onLoaded=function(){t.setState({isPlayerLoaded:!0})},t.setEditing=function(e){t.setState((function(t){return{editing:Object(r.__assign)(Object(r.__assign)({},t.editing),e)}}))},t.onAnimationEnd=function(){t.setState({shouldAnimate:!1})},t.getIsClipResolved=function(e){var n=t.getClipCreationState(e);return t.getRawMediaExists(e)&&(n===g.Z.CREATED||n===g.Z.FAILED)},t.getIsCreationFailed=function(e){return t.getRawMediaExists(e)&&t.getClipCreationState(e)===g.Z.FAILED},t.getClipCreationState=function(e){return e.rawMediaPolling.clip&&e.rawMediaPolling.clip.rawMedia&&e.rawMediaPolling.clip.rawMedia.status||""},t.getRawMediaExists=function(e){return Boolean(e.rawMediaPolling.clip&&e.rawMediaPolling.clip.rawMedia)},t.hideTransitioningState=function(){setTimeout((function(){t.setState({hideContent:!1})}),200)},t}return Object(r.__extends)(t,e),t.getDerivedStateFromProps=function(e,t){return e.isPostEdit&&!t.isPrevPostEdit?{editing:Object(r.__assign)(Object(r.__assign)({},t.editing),{isPostEdit:!0}),isPrevPostEdit:!0,hideContent:!0,shouldAnimate:!0}:!e.isPostEdit&&t.isPrevPostEdit?{isPrevPostEdit:!1}:null},t.prototype.componentDidMount=function(){var e=this;this.maybeRedirectToView(this.props),this.getIsClipResolved(this.props)?this.props.rawMediaPolling.stopPolling():this.timeoutID=setTimeout((function(){return e.setState({isPollingTimedOut:!0})}),7e4)},t.prototype.componentWillUnmount=function(){this.timeoutID&&clearTimeout(this.timeoutID),this.props.rawMediaPolling.stopPolling()},t.prototype.componentDidUpdate=function(e){this.maybeRedirectToView(this.props),!e.isPostEdit&&this.props.isPostEdit&&this.hideTransitioningState(),this.getIsClipResolved(this.props)&&(this.props.rawMediaPolling.stopPolling(),clearTimeout(this.timeoutID),this.props.latencyTracking.reportInteractive());var t=this.getIsClipResolved(this.props)&&!this.getIsCreationFailed(this.props);if(!this.props.isPostEdit&&!this.hasSentEditClip&&t&&this.state.isPlayerLoaded&&this.props.rawMediaPolling.clip&&this.props.rawMediaPolling.clip.rawMedia){var n=this.props.rawMediaPolling.clip.rawMedia,i=n.defaultClipInitialOffset,a=n.duration,r=n.videoURL,o=b(i,a);this.setState({editing:{segments:[{startOffset:o.startOffset,endOffset:o.endOffset}],videoUrl:r,slug:this.props.slug}}),this.hasSentEditClip=!0}},t.prototype.render=function(){if(this.state.isPollingTimedOut||this.getIsCreationFailed(this.props))return o.createElement(p.b,{to:Object(d.h)(c.a.Default)});var e=this.props.data.clip,t=this.props.rawMediaPolling.clip,n=t&&t.rawMedia,i=this.getIsClipResolved(this.props),a=null;a=this.props.isPostEdit?o.createElement(z,{slug:this.props.slug}):o.createElement(le,{isClipResolved:i,slug:this.props.slug,broadcasterName:e&&e.broadcaster&&e.broadcaster.displayName||"",initialOffsetStart:n&&n.defaultClipInitialOffset,duration:n&&n.duration,setEditing:this.setEditing});var r=u("clips-edit-clip-wrapper",{"clips-post-edit-clip-wrapper-hide":this.state.hideContent,"clips-post-edit-clip-wrapper":this.props.isPostEdit}),s=null;return this.props.data.clip&&(s=o.createElement(C.a,{padding:{top:1,left:2,right:2}},o.createElement(ve,{clip:this.props.data.clip,slug:this.props.slug}))),o.createElement(C.a,null,o.createElement(N,{showMessage:i,isPostEdit:this.props.isPostEdit}),s,o.createElement(E.a,{duration:E.c.ExtraLong,enabled:this.state.shouldAnimate,fillMode:E.d.Both,timing:E.e.EaseInOut,type:E.f.SlideInBottom,onAnimationEnd:this.onAnimationEnd},o.createElement(C.a,{className:r,padding:2},o.createElement(k.a,{display:S.h.Flex,border:this.props.isPostEdit},o.createElement(ee.b,{ratio:ee.c.Aspect16x9},o.createElement(C.a,{position:S.o.Absolute,fullHeight:!0,fullWidth:!0},o.createElement(Z.a,{slug:this.props.slug,onLoaded:this.onLoaded,playerType:h.a.ClipsEditing,editing:this.state.editing}))),this.props.isPostEdit&&o.createElement(J,{slug:this.props.slug,createdAt:e&&e.createdAt})),a)))},t.prototype.maybeRedirectToView=function(e){var t=e.data.clip&&e.data.clip.isPublished,n=e.data.clip&&e.data.clip.curator&&this.props.userLogin&&e.data.clip.curator.login!==this.props.userLogin;(t||n)&&f.p.history.push("/"+e.slug)},t}(o.Component)),he=Object(m.d)(Object(v.c)(ce,{name:"rawMediaPolling",options:function(e){return{pollInterval:1e3,fetchPolicy:"network-only",variables:{slug:e.slug}}}}),Object(v.c)(te,{options:function(e){return{variables:{slug:e.slug}}}}),Object(l.withLatencyTracking)("EditClip"))(ge),be=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.clipsMaintenance=Object(s.a)(),t.handleRedirect=function(e){if(t.clipsMaintenance)e.history.replace(Object(d.h)(c.a.ClipMaintenance));else if("/:slug/edit"===e.match.path)e.history.replace("/create",Object(r.__assign)(Object(r.__assign)({},e.location.state),{slug:e.match.params.slug}));else if(e.shouldRedirectToError)e.history.push(Object(d.h)(c.a.NotLoggedIn));else if(!e.location.state||!e.location.state.slug)return e.history.push("/")},t.reportInteractive=function(){t.props.latencyTracking.reportInteractive(1)},t}return Object(r.__extends)(t,e),t.prototype.componentDidMount=function(){this.handleRedirect(this.props),this.reportInteractive()},t.prototype.componentDidUpdate=function(){this.handleRedirect(this.props)},t.prototype.render=function(){var e=this.props.location.state&&this.props.location.state.slug;return e?o.createElement(C.a,null,o.createElement(he,{slug:e,isPostEdit:!!this.props.location.state.isPostEdit,userLogin:this.props.userLogin})):null},t}(o.Component),ye=Object(l.withPageTracking)("ClipsEditingPage",{destination:"clips.edit",location:"clips_edit"})(be);var ke=Object(i.b)((function(e){var t=Object(a.e)(e);return{shouldRedirectToError:Object(a.h)(e)&&!Object(a.f)(e),userLogin:t&&t.login}}))(ye)},"r/em":function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i,a=n("mrSG"),r=n("q1tI"),o=n("ANjH"),s=n("/7QA"),l=n("yR8l"),c=n("dIU+"),d=n("GnwI"),u=n("OTul"),p=n("OCDW"),m=n("Yegi"),f=n("p9DJ"),v=n("iF2L"),g=n("uq9l"),h=n("eUaf"),b=n("zZ9p"),y=n("RGzP"),k=n("AjB5"),S=n("1ZgY"),E={tt_content:"player_profile_img"};!function(e){e.ChannelUrlLink="game-name-link"}(i||(i={}));var C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},t.prototype.componentDidUpdate=function(){this.props.data.loading&&!this.props.data.error||this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){if(!this.props.data.clip||!this.props.data.clip.broadcaster||!this.props.data.clip.broadcaster.login)return r.createElement(p.a,null,this.renderPlaceholders());var e=null!==this.props.data.clip.broadcaster.stream,t=e?Object(u.c)(this.props.data.clip.broadcaster.login,E):Object(u.d)(this.props.data.clip.broadcaster.login,E);return r.createElement(p.a,{className:"clips-broadcaster-info",padding:1,display:m.h.Flex,alignItems:m.b.Center},r.createElement(f.a,{linkTo:t,targetBlank:!0,"data-test-selector":i.ChannelUrlLink},r.createElement(v.a,{src:this.props.data.clip.broadcaster.profileImageURL,alt:Object(s.d)("Broadcaster Avatar","ClipsBroadcasterInfo"),size:30,userLogin:this.props.data.clip.broadcaster.login})),r.createElement(p.a,{display:m.h.Flex,flexDirection:m.i.Column,flexGrow:1,margin:{left:1},ellipsis:!0},r.createElement(f.a,{linkTo:t,"data-test-selector":i.ChannelUrlLink},r.createElement(g.a,{fontSize:m.k.Size4,type:g.e.Span},this.props.data.clip.broadcaster.displayName),e&&r.createElement(p.a,{margin:{left:.5},display:m.h.InlineBlock},r.createElement(h.a,{label:Object(s.d)("LIVE","ClipsBroadcasterInfo"),type:h.b.Live}))),r.createElement(p.a,null,r.createElement(g.a,{color:m.f.Alt2,fontSize:m.k.Size5,ellipsis:!0},this.props.data.clip.game&&Object(s.d)("playing {gameName}",{gameName:r.createElement(f.a,{targetBlank:!0,linkTo:Object(u.e)(this.props.data.clip.game.name,{tt_medium:"clips_web"})},this.props.data.clip.game.displayName)},"ClipsBroadcasterInfo")))),r.createElement(p.a,{flexShrink:1},r.createElement(c.FollowButton,{isHostedFollow:!1,channelLogin:this.props.data.clip.broadcaster.login,followUIType:c.FollowButtonUIType.IconAndText,unfollowUIType:c.FollowButtonUIType.IconOnly,showLoadingPlaceholder:!0})))},t.prototype.renderPlaceholders=function(){return r.createElement(p.a,{padding:1,display:m.h.Flex,alignItems:m.b.Center},r.createElement(p.a,null,r.createElement(b.a,{type:b.f.FadeIn,duration:b.c.Long,enabled:!0},r.createElement(y.a,{height:30,width:30}))),r.createElement(k.a,{fontSize:m.k.Size5,flexGrow:1,margin:{x:1}},r.createElement(b.a,{type:b.f.FadeIn,duration:b.c.Long,enabled:!0},r.createElement(y.a,{lineCount:1,width:80})),r.createElement(b.a,{type:b.f.FadeIn,duration:b.c.Long,delay:b.b.Short,enabled:!0},r.createElement(y.a,{lineCount:1,width:120}))),r.createElement(p.a,null,r.createElement(b.a,{type:b.f.FadeIn,duration:b.c.Long,enabled:!0},r.createElement(y.a,{height:30,width:70}))))},t}(r.Component),O=Object(o.d)(Object(d.withLatencyTracking)("ClipsBroadcasterInfo"),Object(l.a)(S))(C)},r62z:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"d",(function(){return u}));var i=n("+GjP"),a="https://www.facebook.com/sharer/sharer.php",r="https://www.twitter.com/share",o="https://www.reddit.com/submit",s="https://vk.com/share.php";function l(e){return Object(i.g)(a,{u:e})}function c(e,t){return Object(i.g)(r,{url:e,text:t})}function d(e,t){return Object(i.g)(o,{url:e,title:t})}function u(e){return Object(i.g)(s,{url:e})}},r7ol:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("pVnL"),a=n.n(i),r=n("q1tI"),o=n("SWse"),s=function(e){return r.createElement("thead",a()({},e,{className:Object(o.a)("tw-table-header",e.className)}))};s.displayName="TableHeader",s.displayName="TableHeader"},r8f4:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoAdBanner"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UserByAttribute"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userByAttribute"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoAdBannerChannel"},directives:[]}]}}]}}],loc:{start:0,end:132}};i.loc.source={body:'#import "./channel.gql"\nquery VideoAdBanner($input: UserByAttribute!) {\nuserByAttribute(input: $input) {\n...VideoAdBannerChannel\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("ty1K").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.VideoAdBanner=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"VideoAdBanner")},r9VO:function(e,t,n){},rJDX:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerStreamInfoOverlayVOD"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"150"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"contentTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"localizedName"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:180}};n.loc.source={body:"query VideoPlayerStreamInfoOverlayVOD($videoID: ID) {\nvideo(id: $videoID) {\nid\ntitle\nowner {\nid\nlogin\ndisplayName\nprofileImageURL(width: 150)\n}\ncontentTags {\nid\nlocalizedName\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoPlayerStreamInfoOverlayVOD=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoPlayerStreamInfoOverlayVOD")},rb53:function(e,t,n){},rwq7:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return g})),n.d(t,"f",(function(){return h})),n.d(t,"e",(function(){return b.a})),n.d(t,"d",(function(){return x}));var i=n("mrSG"),a=n("q1tI"),r=n("9rZX"),o=n.n(r),s=n("IwqK"),l=n("u5aL"),c=n("5N+U"),d=n("Mg72"),u=(n("ZwT2"),function(e){a.useEffect((function(){var e=document.getElementById("root");e&&r.setAppElement(e)}),[]);var t=Object(c.a)(e.show,e.onExitComplete),n=t.isMounted,o=t.onExitComplete;return n?a.createElement(p,Object(i.__assign)({},e,{onExitComplete:o})):null}),p=function(e){var t=e.popperRef,n=e.anchorRef,o=e.onRequestClose,c=e.disableCloseOnClickOut,u=Object(i.__rest)(e,["popperRef","anchorRef","onRequestClose","disableCloseOnClickOut"]),p=a.useState(null),f=p[0],v=p[1],g=Object(s.a)(n,f,Object(i.__assign)({placement:"bottom-end"},u.options));Object(a.useEffect)((function(){t&&(t.current=g)}),[g,t]);var h=a.useCallback((function(e){c||e.target&&n&&n instanceof Element&&n.contains(e.target)||o&&o(e)}),[n,o,c]);return a.createElement(r,{role:u.role,contentLabel:u["aria-label"],aria:{labelledby:u["aria-labelledby"],describedby:u["aria-describedby"]},style:m,className:"react-modal__content",overlayClassName:"react-modal__overlay",portalClassName:u.portalClassName||"dialog-layer",isOpen:!0,onRequestClose:o||void 0,shouldCloseOnEsc:!u.disableCloseOnEsc,shouldCloseOnOverlayClick:!c,shouldFocusAfterRender:!u.disableFocusAfterRender,shouldReturnFocusAfterClose:!u.disableReturnFocusAfterClose},a.createElement("div",Object(i.__assign)({ref:v,style:g.styles.popper},g.attributes.popper),a.createElement(l.a,{onClickOut:h},a.createElement(d.a,{type:u.transitionType||d.d.Fade,duration:u.transitionDuration,show:u.show,transitionInitialMount:!0,onExitComplete:u.onExitComplete,onEnterComplete:u.onEnterComplete},u.children))))},m={overlay:{position:"fixed",top:0,left:0,width:1,height:1}};function f(e){return function(t){var n=t.show,r=t.anchorRef,o=t.options,s=t.popperRef,l=t.onRequestClose,c=t.onEnterComplete,d=t.onExitComplete,p=t.transitionType,m=t.disableCloseOnClickOut,f=t.disableCloseOnEsc,v=t.disableFocusAfterRender,g=t.disableReturnFocusAfterClose,h=t.portalClassName,b=t.role,y=t["aria-label"],k=t["aria-labelledby"],S=t["aria-describedby"],E=t["aria-modal"],C=Object(i.__rest)(t,["show","anchorRef","options","popperRef","onRequestClose","onEnterComplete","onExitComplete","transitionType","disableCloseOnClickOut","disableCloseOnEsc","disableFocusAfterRender","disableReturnFocusAfterClose","portalClassName","role","aria-label","aria-labelledby","aria-describedby","aria-modal"]);return a.createElement(u,{show:n,anchorRef:r,options:o,popperRef:s,onRequestClose:l,onEnterComplete:c,onExitComplete:d,transitionType:p,disableCloseOnClickOut:m,disableCloseOnEsc:f,disableFocusAfterRender:v,disableReturnFocusAfterClose:g,portalClassName:h,role:b,"aria-label":y,"aria-labelledby":k,"aria-describedby":S,"aria-modal":E},a.createElement(e,Object(i.__assign)({},C)))}}f(n("ubYY").a);var v=f(n("YQhk").b),g=f(n("vh7/").a),h=function(e){void 0===e&&(e=!1);var t=Object(a.useState)(e),n=t[0],i=t[1],r=Object(a.useState)(null),o=r[0],s=r[1],l=Object(a.useRef)(null),c=Object(a.useCallback)((function(){i(!0)}),[]),d=Object(a.useCallback)((function(){i(!1)}),[]),u=Object(a.useCallback)((function(){i((function(e){return!e}))}),[]);return{isOpen:n,setIsOpen:i,open:c,close:d,toggle:u,anchorRef:o,setAnchorRef:s,popperRef:l,anchorProps:{ref:s},dialogProps:{show:n,onRequestClose:d,anchorRef:o,popperRef:l}}},b=(n("HKDh"),n("XrGX")),y=(n("GLwt"),n("w09P")),k=n("4ACg"),S=n("8Ad5"),E=n("OCDW"),C=n("Yegi"),O=n("8OQS"),_=n.n(O),w=n("pVnL"),P=n.n(w),N=n("SWse");var T=function(e){a.useEffect((function(){var e=document.getElementById("root");e&&o.a.setAppElement(e)}),[]);var t=function(e,t){var n=a.useState(e),i=n[0],r=n[1];return a.useEffect((function(){e&&r(!0)}),[e]),{isMounted:i,onExitComplete:function(){t&&t(),r(!1)}}}(e.show,e.onExitComplete),n=t.isMounted,i=t.onExitComplete;return n?a.createElement(D,P()({},e,{onExitComplete:i})):null};T.displayName="DialogLayer";var D=function(e){var t=e.popperRef,n=e.anchorRef,i=e.onRequestClose,r=e.disableCloseOnClickOut,l=_()(e,["popperRef","anchorRef","onRequestClose","disableCloseOnClickOut"]),c=a.useState(null),u=c[0],p=c[1],m=Object(s.a)(n,u,P()({placement:"bottom-end"},l.options));Object(a.useEffect)((function(){t&&(t.current=m)}),[m,t]);var f,v,g=a.useCallback((function(e){r||e.target&&n&&n instanceof Element&&n.contains(e.target)||i&&i(e)}),[n,i,r]);return f=u,v=g,Object(a.useEffect)((function(){var e=function(e){f&&!f.contains(e.target)&&v(e)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[f,v]),a.createElement(o.a,{role:l.role,contentLabel:l["aria-label"],aria:{labelledby:l["aria-labelledby"],describedby:l["aria-describedby"]},style:I,className:"react-modal__content",overlayClassName:"react-modal__overlay",portalClassName:l.portalClassName?Object(N.a)(l.portalClassName,"tw-dialog-layer"):"tw-dialog-layer",isOpen:!0,onRequestClose:i||void 0,shouldCloseOnEsc:!l.disableCloseOnEsc,shouldCloseOnOverlayClick:!r,shouldFocusAfterRender:!l.disableFocusAfterRender,shouldReturnFocusAfterClose:!l.disableReturnFocusAfterClose},a.createElement("div",P()({ref:p,style:m.styles.popper},m.attributes.popper),a.createElement(d.a,{type:l.transitionType||d.d.Fade,duration:l.transitionDuration,show:l.show,transitionInitialMount:!0,onExitComplete:l.onExitComplete,onEnterComplete:l.onEnterComplete},l.children)))};D.displayName="PortaledPopperWithTransition";var I={overlay:{position:"fixed",top:0,left:0,width:1,height:1}};var A,j=n("58CV");!function(e){e.MouseEnterDetector="toggle-balloon-wrapper__mouse-enter-detector"}(A||(A={}));var x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showBalloon:!!t.props.openByDefault,hasInteracted:!!t.props.openByDefault,anchorRef:null},t.portalNode=Object(k.createHtmlPortalNode)(),t.setAnchorRef=function(e){t.setState({anchorRef:e})},t.onButtonClick=function(e){t.setState((function(e){return{showBalloon:!e.showBalloon,hasInteracted:!0}}),(function(){t.props.onToggle&&t.props.onToggle(!t.state.showBalloon)}))},t.onDialogClick=function(e){if(t.props.hideBalloonOnInsideClick){var n=e.target;("BUTTON"===n.nodeName||"a"===n.nodeName||n.matches("button *")||n.matches("a *"))&&t.hideBalloon()}},t.setHasInteracted=function(){t.state.hasInteracted||t.setState({hasInteracted:!0})},t.hideBalloon=function(){t.state.showBalloon&&t.setState({showBalloon:!1},(function(){t.props.onToggle&&t.props.onToggle(!0)}))},t.onDialogKeyUp=function(e){e.keyCode===S.a.Esc&&t.hideBalloon()},t}return Object(i.__extends)(t,e),t.prototype.render=function(){var e,t=this.getElementsFromProps(),n=t.originalButton,r=t.originalDialog;if(!n)return null;var o=a.cloneElement(n,this.getPropsForButton(n));(this.props.tooltipProps||this.props.tooltipLabel)&&(o=a.createElement(b.a,Object(i.__assign)({label:this.props.tooltipLabel},this.props.tooltipProps,{disabled:(null===(e=this.props.tooltipProps)||void 0===e?void 0:e.disabled)||this.state.showBalloon}),o));var s=this.state.hasInteracted&&(this.props.preloadOnInteraction||this.state.showBalloon);return a.createElement(E.a,{display:this.props.display,position:C.o.Relative},a.createElement("div",{style:{display:"inherit"},onMouseEnter:this.setHasInteracted,onFocus:this.setHasInteracted,ref:this.setAnchorRef,"data-test-selector":A.MouseEnterDetector},o),s&&a.createElement("div",{onKeyUp:this.onDialogKeyUp,onClick:this.onDialogClick},a.createElement(k.InPortal,{node:this.portalNode},r)),a.createElement(T,Object(i.__assign)({},this.props.dialogLayerProps,{show:this.state.showBalloon,anchorRef:this.state.anchorRef,onRequestClose:this.hideBalloon}),a.createElement(k.OutPortal,{node:this.portalNode})))},t.prototype.toggleBalloon=function(e){void 0===e&&(e=!this.state.showBalloon),this.setState({showBalloon:e,hasInteracted:!0})},t.prototype.getPropsForButton=function(e){var t=this;return e.type===j.a?{dropdown:y(e.props.dropdown,(function(e){return e.onClick=t.onButtonClick,e}))}:{onClick:this.onButtonClick}},t.prototype.getElementsFromProps=function(){var e=this.props.button,t=this.props.dialog,n=a.Children.toArray(this.props.children);return n&&2===n.length&&(e=n[0],t=n[1]),{originalButton:e,originalDialog:t}},t.defaultProps={display:C.h.InlineBlock},t}(a.Component)},"s+pF":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return p}));var i,a=n("pVnL"),r=n.n(a),o=n("VbXa"),s=n.n(o),l=n("q1tI"),c=n("SWse"),d=n("P+FS"),u=n("HQtB");!function(e){e.First="col-order--first",e.Last="col-order--last"}(i||(i={}));var p=function(e){function t(){return e.apply(this,arguments)||this}s()(t,e);var n=t.prototype;return n.render=function(){var e=this.getColumnSizeClasses(this.props.cols),t=this.props.offset?this.getColumnOffsetClasses(this.props.offset):"",n=this.props.order?this.getColumnOrderClasses(this.props.order):"";return l.createElement("div",r()({className:Object(c.a)([e,t,n])},Object(u.a)(this.props),Object(d.a)(this.props)),this.props.children)},n.getColumnSizeClasses=function(e){if("number"==typeof e)return"tw-col-"+e;var t=["tw-col-"+e.default];return"number"==typeof e.xs&&t.push("tw-xs-col-"+e.xs),"number"==typeof e.sm&&t.push("tw-sm-col-"+e.sm),"number"==typeof e.md&&t.push("tw-md-col-"+e.md),"number"==typeof e.lg&&t.push("tw-lg-col-"+e.lg),"number"==typeof e.xl&&t.push("tw-xl-col-"+e.xl),"number"==typeof e.xxl&&t.push("tw-xxl-col-"+e.xxl),t},n.getColumnOffsetClasses=function(e){if("number"==typeof e)return"tw-col-offset-"+e;var t=["tw-col-offset-"+e.default];return"number"==typeof e.xs&&t.push("tw-xs-col-offset-"+e.xs),"number"==typeof e.sm&&t.push("tw-sm-col-offset-"+e.sm),"number"==typeof e.md&&t.push("tw-md-col-offset-"+e.md),"number"==typeof e.lg&&t.push("tw-lg-col-offset-"+e.lg),"number"==typeof e.xl&&t.push("tw-xl-col-offset-"+e.xl),"number"==typeof e.xxl&&t.push("tw-xxl-col-offset-"+e.xxl),t},n.getColumnOrderClasses=function(e){if("string"==typeof e)return"tw-"+e;if("object"==typeof e){var t=[];return"string"==typeof e.default&&t.push("tw-"+e.default),"string"==typeof e.xs&&t.push("tw-xs-"+e.xs),"string"==typeof e.sm&&t.push("tw-sm-"+e.sm),"string"==typeof e.md&&t.push("tw-md-"+e.md),"string"==typeof e.lg&&t.push("tw-lg-"+e.lg),"string"==typeof e.xl&&t.push("tw-xl-"+e.xl),"string"==typeof e.xxl&&t.push("tw-xxl-"+e.xxl),t}return!1},t}(l.Component);p.displayName="Column"},s8Ou:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ReportUserModal_ReportUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ReportContentInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reportContent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contentID"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:111}};n.loc.source={body:"mutation ReportUserModal_ReportUser($input: ReportContentInput!) {\nreportContent(input: $input) {\ncontentID\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ReportUserModal_ReportUser=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ReportUserModal_ReportUser")},sDgG:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RadioCurrentlyPlaying"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"radio"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentlyPlaying"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isCurrentlyPlaying"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"track"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"album"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"artists"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"creatorChannelID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"creatorArtistFragment"},directives:[]}]}}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:338}};i.loc.source={body:'#import "twilight/features/radio/hooks/radio-creator-artist-fragment.gql"\nquery RadioCurrentlyPlaying($channelID: ID!) {\nuser(id: $channelID) {\nid\nradio {\ncurrentlyPlaying {\nisCurrentlyPlaying\ntrack {\nid\ntitle\nalbum {\nid\nimageURL\nname\n}\nartists {\nid\nname\ncreatorChannelID\nchannel {\nid\nname\nowner {\n...creatorArtistFragment\n}\n}\n}\n}\n}\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("nAdh").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.RadioCurrentlyPlaying=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"RadioCurrentlyPlaying")},sgJZ:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FollowButton_FollowEvent_User"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"hosting"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:157}};n.loc.source={body:"query FollowButton_FollowEvent_User($id: ID!) {\nuser(id: $id) {\nid\nisPartner\nstream {\nid\ngame {\nid\nname\n}\n}\nhosting {\nid\nstream {\nid\ngame {\nid\nname\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.FollowButton_FollowEvent_User=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"FollowButton_FollowEvent_User")},soLF:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RadioCreatorArtist"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"creatorArtistFragment"},directives:[]}]}}]}}],loc:{start:0,end:169}};i.loc.source={body:'#import "twilight/features/radio/hooks/radio-creator-artist-fragment.gql"\nquery RadioCreatorArtist($channelID: ID!) {\nuser(id: $channelID) {\n...creatorArtistFragment\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("nAdh").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.RadioCreatorArtist=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"RadioCreatorArtist")},tGfV:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return b})),n.d(t,"e",(function(){return k})),n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return C}));var i,a=n("mrSG"),r=n("q1tI"),o=n("ANjH"),s=n("/7QA"),l=n("YzXo"),c=n("juvP"),d=n("0BjR"),u=n("c7f0"),p=n("Av26"),m=n("UtoE"),f=n("NiY9"),v="captionsEnabled",g="captionsPreset",h="captionsStyle";!function(e){e[e.None=0]="None",e[e.Video=1]="Video",e[e.Ad=2]="Ad"}(i||(i={}));var b={isClipSharing:!1,isFullscreen:!1,isMenuShowing:!1,requestedQuality:!1,showControls:!0,isCollectionSidebarShowing:!1,recommendationsShowing:!1,soundtrackShowing:!1,showClosedCaptionsSettings:!1,streamInfoShowing:!1,enterFullscreen:function(){return null},exitFullscreen:function(){return null},setClosedCaptionsAvailable:function(){return null},setClosedCaptionsEnabled:function(){return null},setClosedCaptionsSettingsShowing:function(){return null},setClosedCaptionsStyles:function(){return null},setClosedCaptionsStylesPreset:function(){return null},setIsMenuShowing:function(){return null},setRequestedQuality:function(){return null},toggleClipSharing:function(){return null},toggleCollectionSidebar:function(){return null},setShowControls:function(){return null},showCollectionSidebar:function(){return null},hideCollectionSidebar:function(){return null},soundtrackShow:function(){return null},soundtrackHide:function(){return null},setRecommendationsShowing:function(){return null},setStreamInfoShowing:function(){return null},statsOverlay:i.None,setStatsOverlay:function(){return null},captions:{available:!1,enabled:!1,preset:f.k.WhiteOnBlack,style:f.y[f.k.WhiteOnBlack]},isKeyboardShortcutsVisible:!1,showKeyboardShortcuts:function(){return null},hideKeyboardShortcuts:function(){return null}},y=Object(p.a)("UIContext",b,(function(e){return{uiContext:e}})),k=y.withMemoContext,S=y.context,E=function(e){function t(t){var n=e.call(this,t)||this;return n.enterFullscreen=function(){var e=n.props,t=e.videoContainer,i=e.disableFullscreen,a=e.fullscreenForwardingRef;i||(a?n.props.fullscreen.enable(a):t&&n.props.fullscreen.enable(t))},n.exitFullscreen=function(){n.props.fullscreen.disable()},n.setClosedCaptionsSettingsShowing=function(e){n.setState({showClosedCaptionsSettings:e})},n.toggleCollectionSidebar=function(){n.setState((function(e){return{isCollectionSidebarShowing:!e.isCollectionSidebarShowing}}))},n.showCollectionSidebar=function(){n.setState({isCollectionSidebarShowing:!0})},n.hideCollectionSidebar=function(){n.setState({isCollectionSidebarShowing:!1})},n.soundtrackShow=function(){n.setState((function(e){return e.soundtrackShowing?null:{soundtrackShowing:!0}}))},n.soundtrackHide=function(){n.setState((function(e){return e.soundtrackShowing?{soundtrackShowing:!1}:null}))},n.toggleClipSharing=function(){n.setState((function(e){return{isClipSharing:!e.isClipSharing}}))},n.onFullscreenChange=function(){var e=n.props,t=e.videoContainer,i=e.fullscreen,a=e.fullscreenForwardingRef,r=i.element();if(r){var o=!!t&&r.contains(t),s=!!a&&r.contains(a);n.setState({isFullscreen:o||s})}else n.setState({isFullscreen:!1})},n.setRequestedQuality=function(e){n.setState({requestedQuality:e})},n.setRecommendationsShowing=function(e){n.setState((function(t){return t.recommendationsShowing===e?null:{recommendationsShowing:e}}))},n.setShowControls=function(e){n.setState({showControls:e})},n.setStatsOverlay=function(e){n.setState({statsOverlay:e})},n.updateVideoContainerRef=function(e){e.videoContainer!==n.props.videoContainer&&n.setState({videoContainer:n.props.videoContainer})},n.setClosedCaptionsAvailable=function(e){n.setState((function(t){return{captions:Object(a.__assign)(Object(a.__assign)({},t.captions),{available:e})}}))},n.setClosedCaptionsEnabled=function(e){s.m.set(v,e),n.setState((function(t){return{captions:Object(a.__assign)(Object(a.__assign)({},t.captions),{enabled:e})}}))},n.setClosedCaptionsStyles=function(e){n.setState((function(t){return{captions:Object(a.__assign)(Object(a.__assign)({},t.captions),{preset:f.p,style:Object(a.__assign)(Object(a.__assign)({},t.captions.style),e)})}}),(function(){s.m.set(g,f.p),s.m.set(h,n.state.captions.style)}))},n.setClosedCaptionsStylePreset=function(e){f.y[e]&&(s.m.set(g,e),s.m.set(h,f.y[e]),n.setState((function(t){return{captions:Object(a.__assign)(Object(a.__assign)({},t.captions),{preset:e,style:f.y[e]})}})))},n.showClipKeyboardShortcuts=function(){n.setState((function(e){return!0===e.isKeyboardShortcutsVisible?null:{isKeyboardShortcutsVisible:!0}}))},n.hideClipKeyboardShortcuts=function(){n.setState((function(e){return!1===e.isKeyboardShortcutsVisible?null:{isKeyboardShortcutsVisible:!1}}))},n.handleQualityChanged=function(){n.setRequestedQuality(!1)},n.setStreamInfoShowing=function(e){n.setState((function(t){return t.streamInfoShowing===e?null:{streamInfoShowing:e}}))},n.setIsMenuShowing=function(e){n.setState((function(t){return t.isMenuShowing===e?null:{isMenuShowing:e}}))},n.state={isFullscreen:!1,isClipSharing:!1,isMenuShowing:!1,requestedQuality:!1,showControls:!0,isCollectionSidebarShowing:!1,recommendationsShowing:!1,soundtrackShowing:!!t.enableSoundtrackByTwitch,showClosedCaptionsSettings:!1,streamInfoShowing:!1,enterFullscreen:n.enterFullscreen,exitFullscreen:n.exitFullscreen,toggleClipSharing:n.toggleClipSharing,setRequestedQuality:n.setRequestedQuality,setClosedCaptionsAvailable:n.setClosedCaptionsAvailable,setClosedCaptionsEnabled:n.setClosedCaptionsEnabled,setClosedCaptionsSettingsShowing:n.setClosedCaptionsSettingsShowing,setClosedCaptionsStyles:n.setClosedCaptionsStyles,setClosedCaptionsStylesPreset:n.setClosedCaptionsStylePreset,setIsMenuShowing:n.setIsMenuShowing,toggleCollectionSidebar:n.toggleCollectionSidebar,showCollectionSidebar:n.showCollectionSidebar,hideCollectionSidebar:n.hideCollectionSidebar,soundtrackShow:n.soundtrackShow,soundtrackHide:n.soundtrackHide,setShowControls:n.setShowControls,setRecommendationsShowing:n.setRecommendationsShowing,setStreamInfoShowing:n.setStreamInfoShowing,statsOverlay:i.None,setStatsOverlay:n.setStatsOverlay,videoContainer:t.videoContainer,captions:{available:!1,enabled:s.m.get(v,!1),preset:s.m.get(g,f.k.WhiteOnBlack),style:s.m.get(h,f.y[f.k.WhiteOnBlack])},isKeyboardShortcutsVisible:!1,showKeyboardShortcuts:n.showClipKeyboardShortcuts,hideKeyboardShortcuts:n.hideClipKeyboardShortcuts},n}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.fullscreen.addChangeListener(this.onFullscreenChange),this.props.playerEvents.addEventListener(d.f.QUALITY_CHANGED,this.handleQualityChanged)},t.prototype.componentDidUpdate=function(e){this.updateVideoContainerRef(e)},t.prototype.componentWillUnmount=function(){this.props.fullscreen.removeChangeListener(this.onFullscreenChange)},t.prototype.render=function(){return r.createElement(S.Provider,{value:this.state},this.props.children)},t}(r.Component),C=Object(o.d)(Object(m.c)((function(e){var t=Object(u.a)({playerPublicPropsContext:e}),n=t.disableFullscreen,i=t.fullscreenForwardingRef,a=t.enableSoundtrackByTwitch;return{disableFullscreen:n,fullscreenForwardingRef:i,enableSoundtrackByTwitch:a}})),Object(c.a)(),Object(l.a)())(E)},tP7v:function(e,t,n){"use strict";n.d(t,"c",(function(){return W})),n.d(t,"b",(function(){return z})),n.d(t,"a",(function(){return Y}));var i=n("mrSG"),a=n("q1tI"),r=n("/MKj"),o=n("Ty5D"),s=n("ANjH"),l=n("/7QA"),c=n("yR8l"),d=n("/aPz");var u=n("0Log"),p=n("JdvU"),m=n("b5W/"),f=n("DMoW"),v=n("2xye"),g=n("kRBY"),h=n("I6K6"),b=n("Beck"),y=n("0BYk"),k=n("J6px"),S=n("juvP"),E=n("wNtA"),C=n("Av26"),O=n("Fn4s"),_=n("UtoE"),w=n("tGfV"),P=n("nqb9"),N=n("0BjR"),T=n("i/Zp"),D=n("7AWC"),I=function(e){var t=e.location&&e.location.state||{};return{item_tracking_id:t.item_tracking_id,item_position:t.item_position,row_position:t.row_position,row_name:t.row_name,search_query_id:t.search_query_id,search_session_id:t.search_session_id,tag_filter_set:t.tag_filter_set,tag_set:t.tag_set,raid_id:t.raid_id}},A=n("Q3S8"),j=n("TzpY"),x=n("c7f0"),L=n("QVir"),F=n("bNLW"),M=n("geRD");function R(e){return{video:B(e),positionInCollection:function(e){var t=B(e),n=U(e.collection);if(t&&n&&n.length>0){var i=n.findIndex((function(e){return e.id&&t.id&&e.id===t.id}));return i>=0?i:void 0}return}(e)}}function V(e){var t,n,i,a;if(e.user&&e.user.hosting)return null===(n=null===(t=e.user.hosting.broadcastSettings)||void 0===t?void 0:t.game)||void 0===n?void 0:n.name;if(e.user)return null===(a=null===(i=e.user.broadcastSettings)||void 0===i?void 0:i.game)||void 0===a?void 0:a.name;var r=B(e);return r?r.game&&r.game.name:e.clip?e.clip.game&&e.clip.game.name:void 0}function B(e){var t=e.video,n=e.collection;if(t)return t;var i=U(n);return i&&i.length>0?i[0]:null}function U(e){var t=e&&e.items&&e.items.edges;return t&&Object(M.f)(t)}function q(e){var t=e.user;return t?t.hosting?t.hosting.broadcastSettings:t.broadcastSettings:null}function G(e){var t=e.user;return t?t.hosting?t.hosting.id:t.id:null}var H=Object(C.a)("PlayerTrackingContext",{track:function(){return null}},(function(e){return e})),W=H.withMemoContext,z=H.context,Q=function(e){function t(t){var n=e.call(this,t)||this;return n.timeSpentHidden=0,n.timeLastVisible=performance.now(),n.isFirstVideoPlay=!0,n.autoPlaySucceeded=!0,n.handleVisibilityChange=function(){document.hidden?n.timeLastVisible=performance.now():n.timeSpentHidden=Math.round(n.timeSpentHidden+performance.now()-n.timeLastVisible)},n.track=function(e,t){var a,r,o,s,c=n.props,d=c.playerType,u=c.muted,p=c.history,m=c.mediaPlayerInstance,f=c.data,v=c.channelLogin,g=c.volume,h=m&&m.getSessionData(),b=R(f),y=b.video,k=b.positionInCollection,S=function(e){var t=e.user,n=e.clip,i=e.collection,a=e.video;return t||n&&n.broadcaster||i&&i.owner||a&&a.owner}(f),E=f.user&&f.user.stream?f.user.stream:null,C=E?E.broadcasterSoftware:null,O=f.user&&f.user.hosting?f.user.hosting:null,_=f.user&&f.user.self?!!f.user.self.subscriptionBenefit:null,w=n.getRestrictionInfo(n.props);O?(a=O.login,r=O.login,o=S&&S.login||v,s=S&&S.id):(a=S&&S.login||v,r=S&&S.id,o=null,s=null);var P=m&&m.getVersion()||"",N=Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},I(p)),n.getPlayerTrackingDataFromProps()),n.uniquePayloadValuesVideoPlay(e)),n.uniquePayloadValuesMinutesWatched(e)),n.uniquePayloadValuesVideoPause(e)),n.uniquePayloadValuesVideoAdImpression(e)),n.uniquePayloadValuesVideoError(e)),{app_fullscreen:n.props.isFullscreen,autoplayed:n.props.autoplay,backend_version:P,broadcast_id:h&&h["BROADCAST-ID"]||void 0,broadcaster_software:C,captions_enabled:n.props.showClosedCaptionsSettings,channel:a,channel_id:r,channel_restriction_type:w.restrictionType,chat_visible:n.props.rightColumnExpanded,chat_visibility_status:n.props.rightColumnExpanded?"visible":void 0,collection_id:n.props.collectionID,collection_item_position:k,collection_session_id:n.props.collectionSessionId,content_mode:n.getContentMode(n.props),core_version:P,game:V(f),host_channel:o,host_channel_id:s,is_ad_playing:n.props.isAdShowing,language:n.props.language,logged_in:!!f.currentUser,login:f.currentUser&&f.currentUser.login,live:n.props.isLive,mse_support:void 0!==typeof MediaSource,muted:!!u,partner:!(!S||!S.isPartner),play_session_id:n.props.playSessionId,playback_gated:!!n.props.hasPlaybackRestriction,player:d,player_size_mode:n.getPlayerDisplayMode(),staff:!!n.props.data.currentUser&&n.props.data.currentUser.isStaff,subscriber:_,turbo:!!n.props.data.currentUser&&n.props.data.currentUser.hasTurbo,user_id:n.props.data.currentUser?Number(n.props.data.currentUser.id):null,viewer_exemption_reason:w.exemption,vod:y&&y.id||void 0,vod_format:n.props.isClip?"mp4":void 0,vod_id:f.clip&&Number(f.clip.id)||y&&y.id||void 0,vod_type:n.getVodType(),volume:g,subscription_upsell_shown:n.isSubscribeUpsell()}),T=n.preferDecoratedProperties(N,t);l.o.trackPlayerEvent(e,T)},n.uniquePayloadValuesVideoPlay=function(e){if(e===v.SpadeEventType.VideoTrackingVideoPlay){var t=Object(b.k)(n.props.consent),i={autoplay_succeeded:n.autoPlaySucceeded,is_first_video_play:n.isFirstVideoPlay,time_for_player_core_load:n.playerCoreLoadTime,time_for_token_load:n.props.accessTokenLoadTime,time_spent_hidden:n.timeSpentHidden,consent_comscore_ok:t};return n.isFirstVideoPlay=!1,n.autoPlaySucceeded=!0,i}},n.uniquePayloadValuesMinutesWatched=function(e){var t,i;if(e===v.SpadeEventType.VideoTrackingMinuteWatched||e===v.SpadeEventType.VideoTrackingClipsMinuteWatched){var a=(null===(i=null===(t=n.props.data.user)||void 0===t?void 0:t.self)||void 0===i?void 0:i.isModerator)||!1,r=Object(b.k)(n.props.consent);return{is_mod:a,time_spent_hidden:n.timeSpentHidden,consent_comscore_ok:r}}},n.uniquePayloadValuesVideoPause=function(e){if(e===v.SpadeEventType.VideoTrackingVideoPause)return{consent_comscore_ok:Object(b.k)(n.props.consent)}},n.uniquePayloadValuesVideoAdImpression=function(e){if(e===v.SpadeEventType.VideoAdImpression||e===v.SpadeEventType.VideoAdImpressionComplete)return{consent_comscore_ok:Object(b.k)(n.props.consent)}},n.uniquePayloadValuesVideoError=function(e){if(e===v.SpadeEventType.VideoTrackingVideoError)return{in_background:!!document.hidden}},n.getPlayerTrackingDataFromProps=function(){return Object(i.__assign)(Object(i.__assign)({},n.props.additionalTrackingProps),{squad_stream_id:n.props.squad&&n.props.squad.streamID?n.props.squad.streamID:null,squad_stream_session_id:n.props.squad&&n.props.squad.sessionID?n.props.squad.sessionID:null,squad_stream_presentation_id:n.props.squad&&n.props.squad.presentationID?n.props.squad.presentationID:null})},n.getRestrictionInfo=function(e){var t,n=e.data,i=e.accessExpiration,a=n.user&&n.user.stream?n.user.stream:null,r=a&&a.restriction,o=null!==(t=null==r?void 0:r.type)&&void 0!==t?t:null;return r&&r.options&&r.type===f.ce.SUB_ONLY_LIVE&&(r.options.includes(f.be.ALLOW_ALL_TIERS)?o+="_1000":r.options.includes(f.be.ALLOW_TIER_2_AND_3_ONLY)?o+="_2000":r.options.includes(f.be.ALLOW_TIER_3_ONLY)&&(o+="_3000")),{exemption:i?"free_preview":r&&r.exemptions&&r.exemptions.length?"exempt":null,restrictionType:o&&o.toLowerCase()||void 0}},n.getPlayerDisplayMode=function(){return n.props.isFullscreen?"fullscreen":n.props.playerType===T.a.Popout?"popout":n.props.theatreModeEnabled?"theatre mode":n.props.mini?"mini":n.props.playerType===T.a.Site?"default":"unknown"},n.getVodType=function(){if(n.props.isClip)return"clip";if(n.props.vodType)return n.props.vodType;var e=R(n.props.data).video;return e&&e.broadcastType?Object(h.a)(e.broadcastType):void 0},n.onPlaybackBlocked=function(){n.autoPlaySucceeded=!1},n.state={track:n.track},n}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(N.f.PLAYBACK_BLOCKED,this.onPlaybackBlocked),document.addEventListener("visibilitychange",this.handleVisibilityChange)},t.prototype.componentDidUpdate=function(e){var t=this,n=this.props.playerLoadTimePromise;e.playerLoadTimePromise!==n&&n&&n.then((function(e){t.props.playerLoadTimePromise===n&&(t.playerCoreLoadTime=e)}))},t.prototype.componentWillUnmount=function(){document.removeEventListener("visibilitychange",this.handleVisibilityChange)},t.prototype.render=function(){return a.createElement(z.Provider,{value:this.state},this.props.children)},t.prototype.preferDecoratedProperties=function(e,t){var n=Object(i.__assign)({},t);return Object.keys(e).forEach((function(t){var i;n[t]=n[t]?null!==(i=e[t])&&void 0!==i?i:n[t]:e[t]})),n},t.prototype.getContentMode=function(e){var t=e.isClip,n=e.data,i=e.vodID,a=e.collectionID;if(t)return"clip";if(i||a)return"vod";var r=n.user&&n.user.stream?n.user.stream:null,o=r?r.broadcasterSoftware:null,s="live";return"watch_party"===o||"watch_party_premiere"===o||"watch_party_rerun"===o?s="vodcast":"rebroadcast"===o&&(s="vod"),s},t.prototype.isSubscribeUpsell=function(){var e,t,n;if(!this.props.data)return!1;var i=(null===(n=null===(t=null===(e=this.props.data.user)||void 0===e?void 0:e.subscriptionProducts)||void 0===t?void 0:t[0])||void 0===n?void 0:n.hasAdFree)||!1;return Object(k.b)(this.props.isAdShowing,i,this.props.theatreModeEnabled,this.props.isFullscreen,10)||Object(k.c)(this.props.isAdShowing,i,this.props.theatreModeEnabled,this.props.isFullscreen,10)},t}(a.Component);var K,Y=Object(s.d)(y.c,o.l,Object(r.b)((function(e){return{isLoggedIn:Object(g.f)(e),language:Object(g.b)(e),rightColumnExpanded:e.ui.rightColumnExpanded,theatreModeEnabled:e.ui.theatreModeEnabled}})),Object(S.a)(),Object(O.c)($),Object(w.e)((function(e){var t=e.isFullscreen,n=e.showClosedCaptionsSettings;return{isFullscreen:t,showClosedCaptionsSettings:n}})),Object(_.c)((function(e){var t=e.content,n=e.type,i=Object(x.a)({playerPublicPropsContext:e}),a=Object(A.s)(t);return{playerType:n,mini:!!i.mini,additionalTrackingProps:i.trackingProperties,isClip:Object(A.o)(t),isLive:a,vodType:Object(A.t)(t)?t.vodType:null,squad:Object(A.s)(t)?t.squad:null,hostChannel:Object(A.s)(t)?t.hostChannel:null,collectionID:Object(A.d)(t),channelLogin:Object(A.b)(t),vodID:Object(A.n)(t),isCollectionWithVideo:Object(A.p)(t)&&!!t.vodID,clipSlug:Object(A.c)(t)}})),Object(P.e)((function(e){var t=e.muted,n=e.volume;return{muted:t,volume:n}})),Object(O.c)($),Object(E.c)((function(e){return{isAdShowing:Object(D.d)(e.videoAdMetadata)}})),Object(c.a)(F,{options:function(e){var t;return{returnPartialData:!0,variables:{channel:e.hostChannel?e.hostChannel:e.channelLogin,isLive:!!e.channelLogin||!!e.hostChannel,hasCollection:e.isCollectionWithVideo&&null!==e.collectionID,collectionID:e.collectionID||"",videoID:null!==(t=e.vodID)&&void 0!==t?t:"",hasVideo:!!e.vodID,slug:e.clipSlug||"",hasClip:e.isClip}}}}),(K=function(e){var t,n,i;return{fragment:L,id:(i=null===(t=q(e.data))||void 0===t?void 0:t.id,i?"BroadcastSettings:"+i:""),topic:Object(d.k)(G(e.data)||""),type:u.PubsubMessageType.BroadcastSettingsUpdate,skip:!(null===(n=q(e.data))||void 0===n?void 0:n.id)||!G(e.data),mutator:X}},function(e){return function(t){function n(e){var n=t.call(this,e)||this;return n.options=K(e),n}return Object(i.__extends)(n,t),n.prototype.componentDidMount=function(){this.options.skip||this.subscribe(this.options)},n.prototype.componentDidUpdate=function(){var e=K(this.props);e.topic===this.options.topic||e.skip||(this.unsubscribe(),this.subscribe(e)),this.options=e},n.prototype.componentWillUnmount=function(){this.unsubscribe()},n.prototype.render=function(){return a.createElement(e,Object(i.__assign)({},this.props))},n.prototype.subscribe=function(e){this.unsubscriber=Object(d.X)({fragment:e.fragment,id:e.id,topic:e.topic,type:e.type,mutator:e.mutator})},n.prototype.unsubscribe=function(){this.unsubscriber&&this.unsubscriber()},n}(a.Component)}))(Q);function $(e){var t=e.accessExpiration,n=e.autoplay,i=e.collectionSessionId,a=e.hasPlayed,r=e.mediaPlayerInstance,o=e.playSessionId,s=e.accessTokenLoadTime,l=e.playerLoadTimePromise;return{accessExpiration:t,autoplay:n,collectionSessionId:i,hasPlaybackRestriction:Object(j.d)(e),hasPlayed:a,mediaPlayerInstance:r,playSessionId:o,accessTokenLoadTime:s,playerLoadTimePromise:l}}function X(e,t){var n=Object(m.a)(e),a=n.gameID,r=n.gameName,o=n.missingGameInfo,s=n.updatingToNullGame;return t&&e&&!o?s?Object(i.__assign)(Object(i.__assign)({},t),{game:null}):Object(i.__assign)(Object(i.__assign)({},t),{game:{__typename:"Game",id:null!=a?a:"",name:null!=r?r:"",displayName:null!=r?r:"",boxArtURL:Object(p.a)(null!=r?r:"",{width:83,height:113})}}):t}},tqko:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPreviewOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"1280"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"720"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"restriction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:152}};n.loc.source={body:"query VideoPreviewOverlay($login: String!) {\nuser(login: $login) {\nid\nstream {\nid\npreviewImageURL(width: 1280 height: 720)\nrestriction {\nid\ntype\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoPreviewOverlay=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoPreviewOverlay")},tsXm:function(e,t,n){},ty1K:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoAdBannerChannel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"28"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAffiliate"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:121}};n.loc.source={body:"fragment VideoAdBannerChannel on User {\nid\nlogin\ndisplayName\nprofileImageURL(width: 28)\nroles {\nisPartner\nisAffiliate\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},uX80:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("mrSG"),a=n("q1tI"),r=n("ANjH"),o=n("GnwI"),s=n("OCDW"),l=n("Yegi"),c=n("HQtB"),d=n("TwdJ"),u=(n("TVuH"),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selectOnFocus=function(e){e.currentTarget.select(),t.props.onSelection&&t.props.onSelection()},t}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},t.prototype.render=function(){return a.createElement(s.a,Object(i.__assign)({position:l.o.Relative,className:"selectable-input-wrapper"},Object(c.a)(this.props)),a.createElement(d.a,{type:d.c.Text,value:this.props.text,readOnly:!0,onFocus:this.selectOnFocus,icon:this.props.iconAsset,id:this.props.id}),this.props.children)},t}(a.Component)),p=Object(r.d)(Object(o.withLatencyTracking)("SelectableInput"))(u)},uYEN:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.Gray=1]="Gray",e[e.Purple=100]="Purple",e[e.Green=1e3]="Green",e[e.Blue=5e3]="Blue",e[e.Red=1e4]="Red",e[e.Yellow=1e5]="Yellow"}(i||(i={}))},ubYY:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n("pVnL"),a=n.n(i),r=n("VbXa"),o=n.n(r),s=n("q1tI"),l=n("P+FS"),c=n("HQtB"),d=n("YQhk"),u=n("IyK4"),p=n("Yegi"),m=function(e){function t(){return e.apply(this,arguments)||this}return o()(t,e),t.prototype.render=function(){return s.createElement(d.b,a()({},Object(c.a)(this.props),Object(l.a)(this.props),{elevation:this.props.elevation,size:this.props.size?this.props.size:d.a.Large,background:this.props.background}),s.createElement(u.a,{display:p.h.Flex,flexDirection:p.i.Column,role:"dialog","aria-labelledby":this.props.popoverId+"-header","aria-describedby":this.props.popoverId+"-body"},s.createElement("div",{style:{maxHeight:this.props.maxHeight}},this.props.children)))},t}(s.Component);m.displayName="PopoverWrapper"},unRh:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoAccessToken_Collection"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:140}};n.loc.source={body:"query VideoAccessToken_Collection($id: ID!) {\ncollection(id: $id) {\nid\nitems(first: 1) {\nedges {\ncursor\nnode {\n... on Video {\nid\n}\n}\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoAccessToken_Collection=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoAccessToken_Collection")},upTu:function(e,t,n){},uuYk:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return g}));var i,a,r,o=n("pVnL"),s=n.n(o),l=n("q1tI"),c=n("SWse"),d=n("P+FS"),u=n("HQtB"),p=n("IyK4"),m=n("Yegi"),f=n("hMTT");!function(e){e.Default="",e.Small="tw-progress-bar--sm",e.ExtraSmall="tw-progress-bar--xs"}(i||(i={})),function(e){e.Default="tw-progress-bar--default",e.Caution="tw-progress-bar--caution",e.Error="tw-progress-bar--error",e.Success="tw-progress-bar--success"}(a||(a={})),function(e){e.Up="up",e.Down="down"}(r||(r={}));var v=function(e){var t={"tw-progress-bar":!0,"tw-progress-bar--countdown":e.animationDirection===r.Down,"tw-progress-bar--countup":e.animationDirection===r.Up,"tw-progress-bar--inherit":e.inherit,"tw-progress-bar--mask":e.mask,"tw-progress-bar--overlay":e.overlay},n={"tw-progress-bar__fill":!0,"tw-progress-bar__fill--paused":e.paused};return e.size&&(t[e.size]=!0),e.status&&(t[e.status]=!0),l.createElement(p.a,{borderRadius:e.borderRadius},l.createElement("div",s()({className:Object(c.a)(t)},Object(u.a)(e),Object(d.a)(e),{role:"progressbar","aria-valuenow":e.value,"aria-valuemin":0,"aria-valuemax":100}),l.createElement(p.a,{borderRadius:{topLeft:e.borderRadius,bottomLeft:e.borderRadius},display:m.h.Block},l.createElement("div",{onAnimationEnd:e.onAnimationEnd,className:Object(c.a)(n),style:{width:e.value+"%",animationDuration:e.animationDuration?e.animationDuration+"s":""},"data-a-target":"tw-progress-bar-animation"}))))};v.displayName="ProgressBarComponent",v.defaultProps={borderRadius:m.e.Large,status:a.Default},v.displayName="ProgressBarComponent";var g=Object(f.b)(v)},uuYr:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayer_ChapterSelectButtonVideo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"momentRequestType"},value:{kind:"EnumValue",value:"VIDEO_CHAPTER_MARKERS"}},{kind:"Argument",name:{kind:"Name",value:"types"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"GAME_CHANGE"},{kind:"EnumValue",value:"HEARTHSTONE_VCA"},{kind:"EnumValue",value:"OVERWATCH_VCA"},{kind:"EnumValue",value:"PUBG_VCA"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayerVideoMomentEdge"},directives:[]}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayerVideoMomentEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"VideoMomentEdge"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"moments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayerVideoMomentConnection"},directives:[]}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayerVideoMoment"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayerVideoMomentConnection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"VideoMomentEdge"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayerVideoMoment"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayerVideoMoment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"VideoMoment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationMilliseconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"positionMilliseconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subDescription"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnailURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"details"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayerGameChangeDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayerGameChangeDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GameChangeMomentDetails"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"boxArtURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"40"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"53"}}],directives:[]}]}}]}}],loc:{start:0,end:830}};n.loc.source={body:"query VideoPlayer_ChapterSelectButtonVideo($videoID: ID) {\nvideo(id: $videoID) {\nid\nmoments(momentRequestType: VIDEO_CHAPTER_MARKERS types: [GAME_CHANGE HEARTHSTONE_VCA OVERWATCH_VCA PUBG_VCA]) {\nedges {\n...VideoPlayerVideoMomentEdge\n}\n}\n}\n}\nfragment VideoPlayerVideoMomentEdge on VideoMomentEdge {\nnode {\nmoments {\nedges {\n...VideoPlayerVideoMomentConnection\n}\n}\n...VideoPlayerVideoMoment\n}\n}\nfragment VideoPlayerVideoMomentConnection on VideoMomentEdge {\nnode {\n...VideoPlayerVideoMoment\n}\n}\nfragment VideoPlayerVideoMoment on VideoMoment {\nid\ndurationMilliseconds\npositionMilliseconds\ntype\ndescription\nsubDescription\nthumbnailURL\ndetails {\n...VideoPlayerGameChangeDetails\n}\nvideo {\nid\nlengthSeconds\n}\n}\nfragment VideoPlayerGameChangeDetails on GameChangeMomentDetails {\ngame {\nid\ndisplayName\nboxArtURL(width: 40 height: 53)\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoPlayer_ChapterSelectButtonVideo=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoPlayer_ChapterSelectButtonVideo")},uy8m:function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return i})),function(e){e[e.Left=0]="Left",e[e.Middle=1]="Middle",e[e.Right=2]="Right",e[e.Back=3]="Back",e[e.Forward=4]="Forward"}(i||(i={}))},v8tf:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ClipsDownloadButton"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"playbackAccessToken"},arguments:[{kind:"Argument",name:{kind:"Name",value:"params"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"platform"},value:{kind:"StringValue",value:"web",block:!1}},{kind:"ObjectField",name:{kind:"Name",value:"playerType"},value:{kind:"StringValue",value:"clips-download",block:!1}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"signature"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"videoQualities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sourceURL"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:227}};n.loc.source={body:'query ClipsDownloadButton($slug: ID!) {\nclip(slug: $slug) {\nid\nbroadcaster {\nid\n}\ngame {\nid\nname\n}\nplaybackAccessToken(params: {platform: "web" playerType: "clips-download"}) {\nsignature\nvalue\n}\nvideoQualities {\nsourceURL\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ClipsDownloadButton=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ClipsDownloadButton")},vUXZ:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"Clips_DeleteClips"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeleteClipsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteClips"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clips"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:106}};n.loc.source={body:"mutation Clips_DeleteClips($input: DeleteClipsInput!) {\ndeleteClips(input: $input) {\nclips {\nid\nslug\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.Clips_DeleteClips=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"Clips_DeleteClips")},vVF9:function(e,t,n){},"vh7/":function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("pVnL"),a=n.n(i),r=n("VbXa"),o=n.n(r),s=n("q1tI"),l=n("P+FS"),c=n("HQtB"),d=n("YQhk"),u=n("IyK4"),p=n("Yegi"),m=n("OCDW"),f=n("KtUD"),v=n("6tZN"),g=function(e){function t(){return e.apply(this,arguments)||this}return o()(t,e),t.prototype.render=function(){var e=[];return this.props.items&&this.props.items.map((function(t,n){t.type?e.push(s.createElement(f.a,a()({},t,{key:n}))):e.push(s.createElement(v.a,a()({key:n},t)))})),s.createElement(d.b,{elevation:this.props.elevation,size:this.props.size?this.props.size:d.a.Small,background:this.props.background,overlay:this.props.overlay},s.createElement(u.a,{display:p.h.Flex,flexDirection:p.i.Column},s.createElement("div",{style:{maxHeight:this.props.maxHeight}},s.createElement(m.a,a()({overflow:p.n.Auto,padding:1},Object(c.a)(this.props),Object(l.a)(this.props)),e,this.props.children))))},t}(s.Component);g.displayName="DropDownMenuWrapper"},"vl+S":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WatchLivePrompt"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"thumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"86"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"45"}}],directives:[]}]}}]}}],loc:{start:0,end:188}};n.loc.source={body:"query WatchLivePrompt($slug: ID!) {\nclip(slug: $slug) {\nid\ndurationSeconds\ngame {\ndisplayName\nid\n}\nbroadcaster {\nid\nlogin\ndisplayName\nstream {\nid\n}\n}\nthumbnailURL(width: 86 height: 45)\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.WatchLivePrompt=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"WatchLivePrompt")},w0Gb:function(e,t,n){},w1PT:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p}));var i=n("/7QA"),a=n("ZS2+"),r=n("SDEh"),o=n("1/eP"),s=n("XDCx"),l=n("IZXT"),c=n("8EUQ"),d="core.ui.CHECKOUT_SHOWN";function u(e){return function(t){t(Object(s.e)(a.a,{component:"CheckoutSuccessModal",loader:function(){return Promise.all([n.e(0),n.e(83)]).then(n.bind(null,"jBvQ"))},componentProps:e}))}}function p(e){if(Object(r.d)()||Object(o.a)()){try{c.a.clearSubscriptionCheckoutKeys(),function(e){if(!e.productName)return void i.k.warn("No productName provided");var t=new URL("https://www.twitch.tv/products/"+e.productName);e.recipientLogin?t.searchParams.append("recipient",e.recipientLogin):e.mysteryGiftCount?t.searchParams.append("gift_count",e.mysteryGiftCount.toString()):e.multiMonthGiftAmount&&t.searchParams.append("months",e.multiMonthGiftAmount.toString());e.isAnonymous&&t.searchParams.append("is_anonymous",e.isAnonymous.toString());e.isOneTimePurchase&&t.searchParams.append("is_one_time_purchase",e.isOneTimePurchase.toString());window.open(t.toString(),"_blank")}(e)}catch(e){Object(l.d)()?i.k.warn("Failed to open subscription checkout externally"):i.k.errorAndReport(e,"Failed to open subscription checkout externally")}return function(e){e({type:d})}}return function(t){t(Object(s.e)(a.a,{component:"CheckoutModal",loader:function(){return Promise.all([n.e(0),n.e(82)]).then(n.bind(null,"KJv/"))},componentProps:e}))}}},w73L:function(e,t,n){},w7hM:function(e,t,n){},wC0O:function(e,t,n){},wGMF:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("pVnL"),a=n.n(i),r=n("q1tI"),o=n("P+FS"),s=n("uq9l"),l=n("Yegi"),c=function(e){return r.createElement(s.a,a()({type:e.type,fontSize:l.k.Size6,fontWeight:l.l.SemiBold,transform:s.d.Uppercase,ellipsis:e.ellipsis},Object(o.a)(e)),e.children)};c.displayName="Header",c.displayName="Header"},wLV2:function(e,t,n){"use strict";n.d(t,"m",(function(){return c})),n.d(t,"p",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return v})),n.d(t,"d",(function(){return g})),n.d(t,"i",(function(){return h})),n.d(t,"n",(function(){return b})),n.d(t,"o",(function(){return y})),n.d(t,"c",(function(){return k})),n.d(t,"g",(function(){return S})),n.d(t,"q",(function(){return E})),n.d(t,"h",(function(){return C})),n.d(t,"r",(function(){return O})),n.d(t,"k",(function(){return _})),n.d(t,"t",(function(){return N})),n.d(t,"j",(function(){return T})),n.d(t,"s",(function(){return D}));var i=n("mrSG"),a=n("/7QA"),r=n("f00E"),o=n("2xye"),s=n("Ideu"),l="";function c(e){var t=Object(i.__assign)({},P(e));a.o.track(o.SpadeEventType.SoundtrackTrackSeek,t)}function d(e){l=Object(r.c)();var t=Object(i.__assign)(Object(i.__assign)({},P(e)),{cached:e.cached,load_to_start_latency:e.load_to_start_latency,autoplay_on_load:e.autoplay_on_load});a.o.track(o.SpadeEventType.SoundtrackTrackStart,t)}function u(e){var t=Object(i.__assign)(Object(i.__assign)({},P(e)),{preload:e.preload,cached:e.cached,load_latency:e.load_latency});a.o.track(o.SpadeEventType.SoundtrackTrackLoad,t)}function p(e){var t=Object(i.__assign)({},P(e));a.o.track(o.SpadeEventType.SoundtrackTrackPause,t)}function m(e){var t=Object(i.__assign)({},P(e));a.o.track(o.SpadeEventType.SoundtrackTrackResume,t)}function f(e){var t=Object(i.__assign)({},P(e));a.o.track(o.SpadeEventType.SoundtrackTrackComplete,t)}function v(e){var t=Object(i.__assign)(Object(i.__assign)({},P(e)),{total_upvoted:e.totalUpvoted,total_downvoted:e.totalDownvoted});a.o.track(o.SpadeEventType.SoundtrackTrackDislike,t)}function g(e){var t=Object(i.__assign)(Object(i.__assign)({},P(e)),{total_upvoted:e.totalUpvoted,total_downvoted:e.totalDownvoted});a.o.track(o.SpadeEventType.SoundtrackTrackLike,t)}function h(e){var t=Object(i.__assign)({},P(e));a.o.track(o.SpadeEventType.SoundtrackTrackProgress,t)}function b(e){var t={setting_name:e.name,setting_value:e.value};a.o.track(o.SpadeEventType.SoundtrackSettingsChange,t)}function y(e){var t=Object(i.__assign)(Object(i.__assign)({},P(e)),{direction:e.direction,next_track_artist:e.nextTrack?w(e.nextTrack):"",next_track_asin:e.nextTrack?e.nextTrack.id:"",next_track_isrc:e.nextTrack?e.nextTrack.isrc:"",next_track_title:e.nextTrack?e.nextTrack.title:""});a.o.track(o.SpadeEventType.SoundtrackTrackSkip,t)}function k(e){var t=Object(i.__assign)(Object(i.__assign)({},P(e)),{error:e.error});a.o.track(o.SpadeEventType.SoundtrackTrackError,t)}function S(e){var t={playlist_asin:e.trackContainer.id,playlist_title:e.trackContainer.title};a.o.track(o.SpadeEventType.SoundtrackPlaylistStart,t)}function E(e){var t={station_asin:e.trackContainer.id,station_title:e.trackContainer.title};a.o.track(o.SpadeEventType.SoundtrackStationStart,t)}function C(e){var t,n,i={track_ids:e.trackIds,source_asin:null===(t=e.trackContainer)||void 0===t?void 0:t.id,source_title:null===(n=e.trackContainer)||void 0===n?void 0:n.title,shuffle:e.shuffle};a.o.track(o.SpadeEventType.SoundtrackPlaylistTracksSkipped,i)}function O(e){var t,n,i={track_ids:e.trackIds,source_asin:null===(t=e.trackContainer)||void 0===t?void 0:t.id,source_title:null===(n=e.trackContainer)||void 0===n?void 0:n.title};a.o.track(o.SpadeEventType.SoundtrackStationTracksRemoved,i)}function _(e){var t=Object(i.__assign)({},e);a.o.track(o.SpadeEventType.SoundtrackPubsubMsgReceived,t)}function w(e){return e.artists.map((function(e){return e.name})).join(", ")}function P(e){return{device_os:(n=null===(t=a.p.integrations.app)||void 0===t?void 0:t.osFamily,n===s.AppIntegrationOSFamily.Windows?"Windows":n===s.AppIntegrationOSFamily.MacOS?"macOS":"unknown"),playback_id:l,progress_percent:e.progressPercent,progress_seconds:e.progressSeconds,track_artist:w(e.track),track_asin:e.track.id,track_duration:e.track.duration,track_title:e.track.title,track_isrc:e.track.isrc,is_muted:void 0!==e.isMuted&&e.isMuted,source_asin:e.trackContainer.id,source_type:e.trackContainer.__typename,volume:void 0===e.volume?1:e.volume};var t,n}function N(e){var t={report_type:e.reportType,category:e.category};a.o.track(o.SpadeEventType.SoundtrackUserReport,t)}function T(e){var t={premium_channel_id:e.channelID,component:e.component,content_type:"live",interaction:e.interaction,item_id:e.trackId,item_subsection:e.subsection,category:e.category};a.o.track(o.SpadeEventType.SoundtrackPromotion,t)}function D(e){var t=e;a.o.track(o.SpadeEventType.SoundtrackStationsTrackFetch,t)}},wNtA:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return d}));var i=n("mrSG"),a=n("Eh0y"),r=n("Av26"),o={adPodStats:[],isPlaying:!1,userManuallyAdjustedVolumeDuringAd:!1,radToken:null,adPollVisible:!1,adPollDrift:a.b},s=Object(i.__assign)(Object(i.__assign)({},o),{fillClientSideAd:function(){return null},processAdRequest:function(){return null},requestAd:function(){return null},reset:function(){return null},resetForNewPlayerContent:function(){return null},setRadToken:function(){return null},setRunningAdPoll:function(){return null},setAdPollDrift:function(){return null},setAdPollVisible:function(){return null},startClientSideAd:function(){return null},startStitchedAd:function(){return null},updateAdElement:function(){return null},updateAdMuted:function(){return null},updateAdPlaying:function(){return null},updateAdStats:function(){return null},updateAdVolume:function(){return null}}),l=Object(r.a)("AdContext",s,(function(e){return{adContext:e}})),c=l.withMemoContext,d=l.context},wbMx:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return C}));var i,a,r=n("mrSG"),o=n("TSYQ"),s=n("q1tI"),l=n("/MKj"),c=n("ANjH"),d=n("/7QA"),u=n("Jxh/"),p=n("r62z"),m=n("XDCx"),f=n("p9DJ"),v=n("HQtB"),g=n("OCDW"),h=n("Yegi"),b=n("LNol"),y=n("Ix37"),k=n("oBNK"),S=n("oC+A");n("jeZI");!function(e){e[e.Twitter=0]="Twitter",e[e.Reddit=1]="Reddit",e[e.VKontakte=2]="VKontakte",e[e.Facebook=3]="Facebook",e[e.Copy=4]="Copy",e[e.CopyInput=5]="CopyInput",e[e.Download=6]="Download",e[e.Embed=7]="Embed"}(i||(i={})),function(e){e.Large="Large",e.Default="default"}(a||(a={}));var E=function(e){function t(t){var n=e.call(this,t)||this;return n.renderLink=function(){var e="social-button__link "+n.addSocialClassModifier("social-button__link");return n.props.type===i.Download?s.createElement(f.a,Object(r.__assign)({linkTo:n.props.url,targetBlank:!0,className:e,onClick:n.onShareClickHandler},Object(v.a)(n.props),{download:n.props.text,"aria-label":n.addAriaLabel()}),n.renderIcon()):n.isLink()?s.createElement(f.a,Object(r.__assign)({linkTo:n.getLinkTarget(),targetBlank:!0,className:e,onClick:n.onShareClickHandler},Object(v.a)(n.props),{"aria-label":n.addAriaLabel()}),n.renderIcon()):n.isEmbed()?s.createElement("button",Object(r.__assign)({onClick:function(){n.props.showEmbedModal(),n.onShareClickHandler()},className:e},Object(v.a)(n.props),{"aria-label":n.addAriaLabel()}),n.renderIcon()):s.createElement("button",Object(r.__assign)({onClick:n.copyPageUrl,onMouseLeave:n.clearIsCopiedStatus,className:e},Object(v.a)(n.props),{"aria-label":n.addAriaLabel()}),n.renderIcon())},n.onShareClickHandler=function(){n.props.onShareClick&&n.props.onShareClick(n.props.type)},n.clearIsCopiedStatus=function(){n.setState({isCopied:!1})},n.getUrl=function(){return n.props.url||window.location.href},n.copyPageUrl=function(e){e&&e.preventDefault(),n.props.onShareClick&&n.props.onShareClick(n.props.type),Object(u.a)(n.getUrl()),n.setState({isCopied:!0})},n.renderIcon=function(){var e=n.getAssetFromType(),t=n.getIconSize();return s.createElement(g.a,{className:"social-button__icon "+n.addSocialClassModifier("social-button__icon"),display:h.h.Flex,alignItems:h.b.Center,justifyContent:h.m.Center},s.createElement(b.a,{asset:e,height:t.height,width:t.width}))},n.getIconSize=function(){switch(n.props.size){case a.Large:return{height:30,width:30};case a.Default:default:return{height:20,width:20}}},n.isLink=function(){return n.props.type!==i.Copy&&n.props.type!==i.Embed},n.isEmbed=function(){return n.props.type===i.Embed},n.getTooltipFromType=function(){switch(n.props.type){case i.Twitter:return Object(d.d)("Twitter","SocialButton");case i.Reddit:return Object(d.d)("Reddit","SocialButton");case i.Facebook:return Object(d.d)("Facebook","SocialButton");case i.VKontakte:return Object(d.d)("VKontakte","SocialButton");case i.Download:return Object(d.d)("Download","SocialButtonComponent");case i.Embed:return Object(d.d)("Embed","SocialButton");case i.Copy:return n.state.isCopied?Object(d.d)("Copied","SocialButton"):Object(d.d)("Copy to clipboard","SocialButton");default:return""}},n.getAssetFromType=function(){switch(n.props.type){case i.Twitter:return y.a.Twitter;case i.Facebook:return y.a.Facebook;case i.VKontakte:return y.a.VKontakte;case i.Reddit:return y.a.Reddit;case i.Download:return y.a.Download;case i.Embed:return y.a.Embed;case i.Copy:default:return y.a.Copy}},n.addSocialClassModifier=function(e){switch(n.props.type){case i.Twitter:return e+"--twitter";case i.Reddit:return e+"--reddit";case i.Facebook:return e+"--facebook";case i.VKontakte:return e+"--vkontakte";case i.Download:return e+"--download";case i.Embed:return e+"--embed";case i.Copy:return e+"--copy";default:return""}},n.getLinkTarget=function(){var e=n.props,t=e.text,a=e.type,r=n.getUrl(),o=t||"";switch(a){case i.Reddit:return Object(p.b)(r,o);case i.VKontakte:return Object(p.d)(r);case i.Facebook:return Object(p.a)(r);case i.Twitter:return Object(p.c)(r,o);default:return""}},n.addAriaLabel=function(){switch(n.props.type){case i.Twitter:return Object(d.d)("Button to share clip to Twitter","SocialButton");case i.Reddit:return Object(d.d)("Button to share clip to Reddit","SocialButton");case i.Facebook:return Object(d.d)("Button to share clip to Facebook","SocialButton");case i.VKontakte:return Object(d.d)("Button to share clip to VKontakte","SocialButton");case i.Download:return Object(d.d)("Button to download clip","SocialButton");case i.Embed:return Object(d.d)("Button to get clip embed","SocialButton");case i.Copy:return Object(d.d)("Button to copy clip link to clipboard","SocialButton");default:return""}},n.state={isCopied:!1},n}return Object(r.__extends)(t,e),t.prototype.render=function(){var e=o("social-button",{"social-button--large":this.props.size===a.Large,"social-button--default":this.props.size===a.Default});return s.createElement(g.a,{className:e},s.createElement(k.a,{label:this.getTooltipFromType(),direction:k.c.Bottom},this.renderLink()))},t.defaultProps={size:a.Default},t}(s.Component),C=Object(l.b)(null,(function(e,t){var n=t.login,i=t.video,a=t.clipSlug,r=t.collection,o=t.embedModalType,s=t.videoStartTime;return Object(c.b)({showEmbedModal:function(){return Object(m.e)(S.a,{login:n,video:i,clipSlug:a,collection:r,embedModalType:o||S.b.Channel,videoStartTime:s})}},e)}))(E)},wyWX:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"StreamTagsTrackingChannel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"streamTagsTrackingTags"},directives:[]}]}}]}}]}}],loc:{start:0,end:225}};i.loc.source={body:'#import "twilight/features/video-player/components/stream-tags-tracking/query-fragment-tags.gql"\nquery StreamTagsTrackingChannel($channel: String) {\nuser(login: $channel) {\nid\nlogin\nstream {\nid\n...streamTagsTrackingTags\n}\n}\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};i.definitions=i.definitions.concat(n("Ey21").definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)})));var r={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}i.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),r[e.name.value]=t}})),e.exports=i,e.exports.StreamTagsTrackingChannel=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=r[t]||new Set,a=new Set,s=new Set;for(i.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(r[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var i=o(e,t);i&&n.definitions.push(i)})),n}(i,"StreamTagsTrackingChannel")},wzJM:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n("q1tI"),a=n("OCDW"),r=n("hMTT"),o=function(e){return i.createElement(a.a,{className:e.overlay?"tw-drop-down-menu-seperator--overlay":"",margin:{top:1,x:.5},padding:{bottom:1},borderTop:!e.overlay})};o.displayName="DropDownMenuSeparatorComponent",o.displayName="DropDownMenuSeparatorComponent";var s=Object(r.b)(o)},x1M1:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("mrSG"),a=n("q1tI"),r=n("/MKj"),o=n("/0dD"),s=n("XDQu"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=(e.defaultRes,e.sources),n=(e.darkModeEnabled,Object(i.__rest)(e,["defaultRes","sources","darkModeEnabled"])),r=this.props.darkModeEnabled?t.dark:t.light,o=Object.keys(r);delete n.dispatch;var s=Object(i.__assign)(Object(i.__assign)({},n),{src:r[this.props.defaultRes||o[0]],srcSet:o.map((function(e){return r[e]+" "+e})).join(",")});return a.createElement("img",Object(i.__assign)({},s,{onLoad:this.props.onLoad}))},t}(a.Component);var c=Object(r.b)((function(e){return{darkModeEnabled:Object(s.a)(e)===o.a.Dark}}))(l)},x7UT:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("mrSG"),a=n("q1tI"),r=n("CGXs");function o(e){return function(t){return function(n){for(var o=e.slice(),s=a.useRef({}),l=a.useRef({}),c=a.useRef([]),d=function(e){var t,a,d=o[e],u=!!d.skip&&function(e,t){return"boolean"==typeof e?e:e(t)}(d.skip,n),p=u?"":function(e,t){return"string"==typeof e?e:e(t)}(d.topic,n),m=Object(r.a)(p,u,"function"==typeof d.skipMessage?function(e){return!!d.skipMessage&&d.skipMessage(e,n)}:void 0),f=m[0],v=m[1],g=d.mapMessageTypesToProps[f&&f.type||""]||d.mapMessageTypesToProps["*"];if(g&&(c.current[e]=g),f)s.current=Object(i.__assign)(Object(i.__assign)({},s.current),((t={})[g]=f,t));else if(c.current[e]){var h=Object(i.__assign)({},s.current);delete h[c.current[e]],s.current=h}v&&(l.current=Object(i.__assign)(Object(i.__assign)({},l.current),((a={})[p]=v,a)))},u=0;u<o.length;u++)d(u);var p={pubsub:{messages:s.current,status:l.current}};return a.createElement(t,Object(i.__assign)({},n,p))}}}},x9t4:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var i=n("pVnL"),a=n.n(i),r=n("q1tI"),o=n("P+FS"),s=n("HQtB"),l=n("swlv"),c=n("g8gE"),d=n("OCDW"),u=n("Yegi"),p=n("IyK4"),m=n("hMTT"),f=n("oBNK"),v=n("uq9l"),g=function(e){var t=e.title,n=e.subtitle;return r.createElement(r.Fragment,null,r.createElement(p.a,{textAlign:u.q.Center,fontWeight:u.l.SemiBold},r.createElement(v.a,{type:v.e.H5,color:e.overlay?u.f.Overlay:u.f.Alt},t)),n?r.createElement(p.a,{textAlign:u.q.Center},r.createElement(v.a,{type:v.e.H6,color:e.overlay?u.f.OverlayAlt:u.f.Alt2},n)):null)};g.displayName="PopoverTitle";var h=Object(m.b)(g),b=function(e){var t,n=e.buttonLeftPrimary||e.buttonLeftSecondary,i=e.buttonLeftPrimary&&e.buttonLeftSecondary,l=e.buttonRightPrimary||e.buttonRightSecondary,c=e.buttonRightPrimary&&e.buttonRightSecondary;return r.createElement(d.a,a()({},Object(s.a)(e),Object(o.a)(e),{className:"tw-popover-header",color:e.overlay?u.f.Overlay:u.f.Base,borderRadius:{topLeft:u.e.Medium,topRight:u.e.Medium},elevation:1,padding:{y:.5,x:1},display:u.h.Flex,flexShrink:0}),n||l?r.createElement(d.a,{display:u.h.Flex,flexDirection:u.i.Column,justifyContent:u.m.Center,margin:{right:.5},className:"tw-popover-header__icon-slot--left"},y(n)):null,i||c?r.createElement(d.a,{display:u.h.Flex,flexDirection:u.i.Column,justifyContent:u.m.Center,margin:{right:.5},className:"tw-popover-header__icon-slot--left"},y(i)):null,r.createElement(p.a,{flexGrow:1,justifyContent:u.m.Center,alignItems:u.b.Center,flexDirection:u.i.Column,display:u.h.Flex},r.createElement("div",{id:e.popoverId+"-header"},(t=e.title)&&t.hasOwnProperty("title")?r.createElement(h,{title:e.title.title,subtitle:e.title.subtitle}):e.title)),i||c?r.createElement(d.a,{display:u.h.Flex,flexDirection:u.i.Column,justifyContent:u.m.Center,margin:{left:.5},className:"tw-popover-header__icon-slot--right"},y(c)):null,n||l?r.createElement(d.a,{display:u.h.Flex,flexDirection:u.i.Column,justifyContent:u.m.Center,margin:{left:.5},className:"tw-popover-header__icon-slot--right"},y(l,!0)):null)};function y(e,t){if(void 0===t&&(t=!1),!e)return null;var n=t?r.createElement(c.a,a()({},e,{type:l.c.Secondary,title:void 0})):r.createElement(l.a,a()({},e,{type:l.c.Secondary,title:void 0}));return e.title?r.createElement(f.a,{label:e.title,align:f.b.Center,direction:f.c.Bottom},n):n}b.displayName="PopoverHeaderComponent",b.displayName="PopoverHeader";var k=Object(m.b)(b)},xHva:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){function e(e){this.debounceDuration=0,this.timeout=0,this.debounceDuration=e}return e.prototype.clear=function(){clearTimeout(this.timeout)},e.prototype.invoke=function(e){clearTimeout(this.timeout),this.timeout=setTimeout(e,this.debounceDuration)},e}()},"xgo/":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("mrSG"),a=n("q1tI"),r=n("ANjH"),o=n("/7QA"),s=n("yR8l"),l=n("geRD"),c=n("2Ygb"),d=n("wNtA"),u=n("tP7v"),p=n("/fLC"),m=n("7AWC"),f=n("xy93");function v(){return function(e){var t=function(t){function n(e){var n=t.call(this,e)||this;return n.logger=o.k.withCategory("WithVideoAdTrackingComponent"),n.trackVideoAdData=function(e,t){n.props.track(e,Object(i.__assign)(Object(i.__assign)({},t),n.getRequestProperties()))},n.trackVideoRAdEvent=function(e,t){return Object(i.__awaiter)(n,void 0,void 0,(function(){var n,a,r;return Object(i.__generator)(this,(function(o){switch(o.label){case 0:if("string"!=typeof(n=this.props.radToken))return[2];a={eventName:e,eventPayload:JSON.stringify(Object(i.__assign)(Object(i.__assign)({},t),this.getRequestProperties())),radToken:n},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.props.recordAdEvent(Object(l.a)(a))];case 2:return o.sent(),[3,4];case 3:return r=o.sent(),this.logger.errorAndReport(r,"Failed to record ad event in RAds"),[3,4];case 4:return[2]}}))}))},n.getRequestProperties=function(){var e=n.props,t=e.videoAdRequest,a=e.videoAdMetadata;if(Object(m.c)(a))return{stitched:!0};if(!t)return{ad_session_id:null,roll_type:null,time_break:null};var r={};return t.status!==p.a.Pending&&(r={provider:t.sdk,ad_server:t.server&&t.server.toLowerCase()}),Object(i.__assign)({twitch_correlator:t.twitchCorrelator,ad_session_id:t.sessionID,roll_type:t.roll,time_break:t.duration,commercial_id:t.commercialID},r)},n.state={trackVideoAdData:n.trackVideoAdData,trackVideoRAdEvent:n.trackVideoRAdEvent},n}return Object(i.__extends)(n,t),n.prototype.render=function(){return a.createElement(e,Object(i.__assign)({},this.props,this.state))},n.displayName=Object(c.a)(n.name,e),n}(a.Component);return Object(r.d)(Object(u.c)(),Object(d.c)((function(e){return{videoAdRequest:e.videoAdRequest,videoAdMetadata:e.videoAdMetadata,radToken:e.radToken}})),Object(s.a)(f,{name:"recordAdEvent"}))(t)}}},xlBl:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("pVnL"),a=n.n(i),r=n("q1tI"),o=n("SWse"),s=n("P+FS"),l=n("HQtB"),c=n("IyK4"),d=n("Yegi"),u=n("hMTT"),p=n("gdM2"),m=function(e,t){var n={"tw-textarea":!0,"tw-textarea--no-resize":e.noResize,"tw-textarea--error":e.error,"tw-textarea--overlay":e.overlay},i=p.c.Default;e.size&&(i=e.size);var u={paddingRight:e.paddingRight?e.paddingRight/10+"rem":void 0,paddingLeft:e.paddingLeft?e.paddingLeft/10+"rem":void 0};return r.createElement(c.a,{display:d.h.Block,borderRadius:d.e.Medium,overflow:e.overflow,fontSize:p.b[i],fullWidth:!0},r.createElement("textarea",a()({},Object(l.a)(e),Object(s.a)(e),{ref:t||e.refDelegate,className:Object(o.a)(n),autoComplete:e.autoComplete,autoFocus:e.autoFocus,cols:e.cols,disabled:e.disabled,id:e.id,maxLength:e.maxLength,name:e.name,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,onKeyDown:e.onKeyDown,style:u,placeholder:e.placeholder,rows:e.rows,tabIndex:e.tabIndex,value:e.value,defaultValue:e.defaultValue,readOnly:e.readOnly})))};m.displayName="TextAreaComponent",m.displayName="TextArea";var f=r.forwardRef(m),v=Object(u.b)(f)},xq7E:function(e,t,n){},xy93:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ClientSideAdEventHandling_RecordAdEvent"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"RecordAdEventInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"recordAdEvent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:129}};n.loc.source={body:"mutation ClientSideAdEventHandling_RecordAdEvent($input: RecordAdEventInput!) {\nrecordAdEvent(input: $input) {\nerror {\ncode\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ClientSideAdEventHandling_RecordAdEvent=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ClientSideAdEventHandling_RecordAdEvent")},xza4:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ClipsCurator"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"curator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"champBadge"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:110}};n.loc.source={body:"query ClipsCurator($slug: ID!) {\nclip(slug: $slug) {\nid\ncurator {\nid\ndisplayName\nlogin\n}\nchampBadge {\nid\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ClipsCurator=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ClipsCurator")},yMEX:function(e,t,n){"use strict";var i=n("gvGA");n.d(t,"a",(function(){return i.a}))},yURb:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoAccessToken_Clip"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"playbackAccessToken"},arguments:[{kind:"Argument",name:{kind:"Name",value:"params"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"platform"},value:{kind:"StringValue",value:"web",block:!1}},{kind:"ObjectField",name:{kind:"Name",value:"playerType"},value:{kind:"StringValue",value:"clips-viewing",block:!1}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"signature"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"videoQualities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"videoAccessToken_ClipQuality"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"videoAccessToken_ClipQuality"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClipVideoQuality"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"frameRate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"quality"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sourceURL"},arguments:[],directives:[]}]}}],loc:{start:0,end:304}};n.loc.source={body:'query VideoAccessToken_Clip($slug: ID!) {\nclip(slug: $slug) {\nid\nplaybackAccessToken(params: {platform: "web" playerType: "clips-viewing"}) {\nsignature\nvalue\n}\nvideoQualities {\n...videoAccessToken_ClipQuality\n}\n}\n}\nfragment videoAccessToken_ClipQuality on ClipVideoQuality {\nframeRate\nquality\nsourceURL\n}',name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoAccessToken_Clip=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoAccessToken_Clip")},yWUM:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i="0h0m1s";function a(e){if(0===e)return i;if(!e||e<0)return"";var t=e,n=Math.floor(t/3600);return t%=3600,n+"h"+Math.floor(t/60)+"m"+(t%=60)+"s"}},ydSb:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){function e(e,t){var n=this;this.throttleDuration=0,this.throttled=!1,this.timeout=0,this.unthrottle=function(){n.trailing&&n.trailingFn&&n.trailingFn(),n.clear()},this.throttleDuration=e,this.trailing=!(t&&t.skipTrailing)}return e.prototype.invoke=function(e){this.throttled?this.trailingFn=e:(this.throttled=!0,this.timeout=setTimeout(this.unthrottle,this.throttleDuration),e())},e.prototype.clear=function(){clearTimeout(this.timeout),this.timeout=0,this.throttled=!1,delete this.trailingFn},e}()},ydo7:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ClipsSocialShare"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"embedURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:124}};n.loc.source={body:"query ClipsSocialShare($slug: ID!) {\nclip(slug: $slug) {\nid\nurl\nembedURL\ntitle\ngame {\nid\nname\n}\nbroadcaster {\nid\nlogin\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.ClipsSocialShare=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"ClipsSocialShare")},z6oq:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerStreamInfoOverlayClip"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"150"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"viewCount"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:205}};n.loc.source={body:"query VideoPlayerStreamInfoOverlayClip($slug: ID!) {\nclip(slug: $slug) {\nid\ntitle\nslug\nbroadcaster {\nid\nlogin\ndisplayName\nprofileURL\nprofileImageURL(width: 150)\n}\ngame {\nid\ndisplayName\nname\n}\nviewCount\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoPlayerStreamInfoOverlayClip=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoPlayerStreamInfoOverlayClip")},zBup:function(e,t,n){},zEpB:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("mrSG"),a=n("/7QA"),r=n("nTT+");function o(e,t,n){return Object(i.__awaiter)(this,void 0,void 0,(function(){var o,s,l,c,d,u,p,m,f,v,g,h,b,y,k,S,E,C,O;return Object(i.__generator)(this,(function(_){switch(_.label){case 0:o=null,s=null,l=null,c=null,d=null,u=null,p=null,t||a.k.errorAndReport(new Error,"Missing `slug` in trackClipsEvent",{slug:t}),_.label=1;case 1:return _.trys.push([1,3,,4]),[4,a.p.apollo.client.query({query:r,variables:{slug:t}})];case 2:return m=_.sent(),[3,4];case 3:return f=_.sent(),a.k.warn(f,"Failed to make query for Clip info for tracking event.",{slug:t}),[2];case 4:return o=!!(m.data.clip&&m.data.clip.broadcaster&&m.data.clip.broadcaster.stream&&m.data.clip.broadcaster.stream.id),s=m.data.clip&&m.data.clip.broadcaster?m.data.clip.broadcaster.login:null,l=m.data.clip&&m.data.clip.broadcaster?m.data.clip.broadcaster.id:null,c=m.data.clip&&m.data.clip.game?m.data.clip.game.name:null,d=m.data.clip&&m.data.clip.broadcaster?m.data.clip.broadcaster.isPartner:null,u=m.data.clip?m.data.clip.id:null,p=m.data.clip&&m.data.clip.video?m.data.clip.video.id:null,v=null,g=null,h=!1,(b=a.p.store.getState().session.user)&&(g=b.id,v=b.login,h=!0),y=null,k=null,S=null,E=null,(C=a.o.getLastPageview())&&(y=C.medium||null,k=C.content||null,S=C.tab_session_id||null,E=C.location||null),O=Object(i.__assign)({game:c,live:o,channel:s,channel_id:l,logged_in:h,login:v,user_id:g,tt_content:k,tt_medium:y,partner:d,section_content_id:u,vod_type:"clip",source_vod_id:p,tab_session_id:S,location:E,play_session_id:"TODO"},n),a.o.track(e,O),[2]}}))}))}},zKqN:function(e,t,n){},zpnp:function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerPremiumContentOverlayChannel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restriction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:142}};n.loc.source={body:"query VideoPlayerPremiumContentOverlayChannel($channel: String) {\nuser(login: $channel) {\nid\nstream {\nid\nrestriction {\nid\noptions\ntype\n}\n}\n}\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}n.definitions.forEach((function(e){if(e.name){var t=new Set;!function e(t,n){if("FragmentSpread"===t.kind)n.add(t.name.value);else if("VariableDefinition"===t.kind){var i=t.type;"NamedType"===i.kind&&n.add(i.name.value)}t.selectionSet&&t.selectionSet.selections.forEach((function(t){e(t,n)})),t.variableDefinitions&&t.variableDefinitions.forEach((function(t){e(t,n)})),t.definitions&&t.definitions.forEach((function(t){e(t,n)}))}(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.VideoPlayerPremiumContentOverlayChannel=function(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,o=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){o.has(e)||(o.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return o.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(n,"VideoPlayerPremiumContentOverlayChannel")}}]);